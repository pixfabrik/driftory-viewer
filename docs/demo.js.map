{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@dan503/load-js/index.js","src/demo/demo.ts","src/library/driftory.ts","src/library/openseadragon.types.ts"],"names":[],"mappings":"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","file":"demo.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar alreadyCalledScripts = [];\r\nvar allScripts = {};\r\nvar defaultScript = { hasLoaded: false, callbacks: [] };\r\nvar addCallback = function (src, callback) {\r\n    var script = allScripts[src];\r\n    if (!script)\r\n        return;\r\n    if (script.hasLoaded) {\r\n        // If the script has already been previously loaded, just run the callback immediately\r\n        callback();\r\n    }\r\n    else {\r\n        if (script.callbacks.length > 0) {\r\n            script.callbacks.push(callback);\r\n        }\r\n        else {\r\n            script.callbacks = [callback];\r\n        }\r\n    }\r\n};\r\nfunction loadJS(src, callback) {\r\n    var script = allScripts[src] || defaultScript;\r\n    allScripts[src] = script;\r\n    if (alreadyCalledScripts.indexOf(src) < 0) {\r\n        alreadyCalledScripts.push(src);\r\n        var $scriptElem = document.createElement('script');\r\n        $scriptElem.setAttribute('class', 'load-js-script');\r\n        $scriptElem.src = src;\r\n        $scriptElem.onload = function () {\r\n            addCallback(src, callback);\r\n            var updatedScript = allScripts[src];\r\n            if (updatedScript) {\r\n                updatedScript.hasLoaded = true;\r\n            }\r\n            for (var thisSource in allScripts) {\r\n                var thisScript = allScripts[thisSource] || defaultScript;\r\n                thisScript.callbacks.forEach(function (cb) { return cb(); });\r\n            }\r\n        };\r\n        document.head.appendChild($scriptElem);\r\n    }\r\n    else {\r\n        addCallback(src, callback);\r\n    }\r\n}\r\nexports.default = loadJS;\r\n","import Driftory from '../library/driftory';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const container = document.querySelector('.driftory-viewer-container') as HTMLDivElement | null;\n  const startButton = document.querySelector('.start-button');\n  const endButton = document.querySelector('.end-button');\n  const previousButton = document.querySelector('.previous-button');\n  const nextButton = document.querySelector('.next-button');\n  const hideButton = document.querySelector('.hide-button');\n  const frameInfo = document.querySelector('.frame-info');\n\n  if (!container) {\n    console.error('Cannot find viewer container');\n    return;\n  }\n\n  const driftory = new Driftory({\n    container,\n    prefixUrl: 'https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/images/',\n    onComicLoad: () => {\n      console.log('loaded!');\n    },\n    onFrameChange: ({ frameIndex = 0, isLastFrame }) => {\n      if (frameInfo) {\n        let text = `Frame ${frameIndex + 1}`;\n        if (isLastFrame) {\n          text += ' (last frame!)';\n        }\n\n        frameInfo.textContent = text;\n      }\n    }\n  });\n\n  startButton?.addEventListener('click', () => {\n    driftory.goToFrame(0);\n  });\n\n  endButton?.addEventListener('click', () => {\n    driftory.goToFrame(driftory.getFrameCount() - 1);\n  });\n\n  previousButton?.addEventListener('click', () => {\n    driftory.goToPreviousFrame();\n  });\n\n  nextButton?.addEventListener('click', () => {\n    driftory.goToNextFrame();\n  });\n\n  hideButton?.addEventListener('click', () => {\n    container.classList.toggle('hide');\n  });\n\n  fetch('comic.json')\n    .then((response) => {\n      if (!response.ok) {\n        console.error(response);\n        throw new Error('Failed to load comic.json');\n      }\n\n      return response.json();\n    })\n    .then((json) => {\n      // console.log(json);\n      driftory.openComic(json);\n    })\n    .catch((error) => console.error(error));\n});\n","import loadJs from '@dan503/load-js';\nimport { Comic } from './Comic.types';\nexport * from './Comic.types';\nexport * from './openseadragon.types';\nimport { OpenSeadragonType, ViewerType } from './openseadragon.types';\n\ninterface OsdRequest {\n  resolve: (value?: unknown) => void;\n  reject: (reason?: any) => void;\n}\n\nlet OpenSeadragon: OpenSeadragonType | undefined;\nlet osdRequest: OsdRequest | undefined;\n\ndeclare global {\n  interface Window {\n    OpenSeadragon: OpenSeadragonType;\n  }\n}\n\nconst osdPromise = new Promise((resolve, reject) => {\n  osdRequest = { resolve, reject };\n});\n\ntype Frame = any;\ntype Container = HTMLElement;\ntype OnFrameChange = (params: { frameIndex: number; isLastFrame: boolean }) => void;\ntype OnComicLoad = (params: {}) => void;\n\ninterface DriftoryArguments {\n  container: Container;\n  onFrameChange?: OnFrameChange;\n  onComicLoad?: OnComicLoad;\n  prefixUrl?: string;\n}\n\nexport default class Driftory {\n  container: Container;\n  onFrameChange: OnFrameChange;\n  onComicLoad: OnComicLoad;\n  frames: Array<Frame> = [];\n  frameIndex: number = -1;\n  lastScrollTime: number = 0;\n  scrollDelay: number = 2000;\n  viewer?: ViewerType;\n\n  // ----------\n  constructor(args: DriftoryArguments) {\n    this.container = args.container;\n    this.onFrameChange = args.onFrameChange || function () {};\n    this.onComicLoad = args.onComicLoad || function () {};\n\n    // Note: loadJs only loads the file once, even if called multiple times, and always makes sure\n    // all of the callbacks are called.\n    loadJs(\n      'https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/openseadragon.min.js',\n      () => {\n        OpenSeadragon = window.OpenSeadragon;\n        this._initialize(args);\n        osdRequest?.resolve();\n      }\n    );\n  }\n\n  // ----------\n  _initialize({ container, prefixUrl }: DriftoryArguments) {\n    this.viewer =\n      OpenSeadragon &&\n      OpenSeadragon({\n        element: container,\n        prefixUrl: prefixUrl,\n        showNavigationControl: false,\n        maxZoomPixelRatio: 10,\n        gestureSettingsMouse: {\n          clickToZoom: false\n        }\n      });\n\n    if (this.viewer) {\n      this.viewer.addHandler('canvas-click', (event) => {\n        if (!event || !event.quick || !event.position || !this.viewer) {\n          return;\n        }\n\n        const point = this.viewer.viewport.pointFromPixel(event.position);\n        let foundIndex = -1;\n        const itemCount = this.viewer.world.getItemCount();\n\n        for (let i = 0; i < itemCount; i++) {\n          const item = this.viewer.world.getItemAt(i);\n          if (item.getBounds().containsPoint(point)) {\n            foundIndex = i;\n          }\n        }\n\n        if (foundIndex === -1) {\n          const realFrameIndex = this._figureFrameIndex(true);\n          if (realFrameIndex === -1 && this.frameIndex !== undefined) {\n            this.goToFrame(this.frameIndex);\n          } else {\n            this.goToNextFrame();\n          }\n        } else if (foundIndex === this.frameIndex) {\n          this.goToNextFrame();\n        } else {\n          this.goToFrame(foundIndex);\n        }\n      });\n\n      const originalScrollHandler = this.viewer.innerTracker.scrollHandler;\n      this.viewer.innerTracker.scrollHandler = (event) => {\n        if (\n          event.originalEvent.ctrlKey ||\n          event.originalEvent.altKey ||\n          event.originalEvent.metaKey\n        ) {\n          return originalScrollHandler.call(this.viewer?.innerTracker, event);\n        }\n\n        const now = Date.now();\n        // console.log(event.scroll, now, now - this.lastScrollTime);\n        if (now - this.lastScrollTime < this.scrollDelay) {\n          // Returning false stops the browser from scrolling itself.\n          return false;\n        }\n\n        this.lastScrollTime = now;\n        if (event.scroll < 0) {\n          this.goToNextFrame();\n        } else {\n          this.goToPreviousFrame();\n        }\n\n        // Returning false stops the browser from scrolling itself.\n        return false;\n      };\n\n      window.addEventListener('keydown', (event) => {\n        if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n          return;\n        }\n\n        if (event.key === 'ArrowRight' || event.key === 'ArrowDown' || event.key === ' ') {\n          this.goToNextFrame();\n        } else if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\n          this.goToPreviousFrame();\n        } else {\n          return;\n        }\n\n        event.preventDefault();\n        event.stopPropagation();\n      });\n    }\n  }\n\n  openComic(unsafeComic: Comic | string) {\n    if (this.frames.length) {\n      console.error(\n        'Currently the Driftory viewer is not set up to load a second comic after the first.'\n      );\n\n      return;\n    }\n\n    const { comic } =\n      typeof unsafeComic === 'string' ? (JSON.parse(unsafeComic) as Comic) : unsafeComic;\n\n    osdPromise.then(() => {\n      this.container.style.backgroundColor = comic.body.backgroundColor;\n\n      if (this.viewer) {\n        if (comic.body.frames) {\n          this.frames = comic.body.frames.map((frame) => {\n            return (\n              OpenSeadragon &&\n              new OpenSeadragon.Rect(\n                frame.x - frame.width / 2,\n                frame.y - frame.height / 2,\n                frame.width,\n                frame.height\n              )\n            );\n          });\n        } else {\n          this.frames = comic.body.items.map((item) => {\n            return (\n              OpenSeadragon &&\n              new OpenSeadragon.Rect(\n                item.x - item.width / 2,\n                item.y - item.height / 2,\n                item.width,\n                item.height\n              )\n            );\n          });\n        }\n\n        comic.body.items.forEach((item, i) => {\n          var success;\n\n          if (i === 0) {\n            success = () => this._startComic();\n          }\n\n          this.viewer?.addTiledImage({\n            x: item.x - item.width / 2,\n            y: item.y - item.height / 2,\n            width: item.width,\n            success: success,\n            tileSource: {\n              type: 'legacy-image-pyramid',\n              levels: [\n                {\n                  url: item.url,\n                  width: item.width,\n                  height: item.height\n                }\n              ]\n            }\n          });\n        });\n      }\n    });\n  }\n\n  // ----------\n  _startComic() {\n    const frameHandler = () => {\n      const frameIndex = this._figureFrameIndex(false);\n      if (frameIndex !== -1 && frameIndex !== this.frameIndex) {\n        this.frameIndex = frameIndex;\n        if (this.onFrameChange) {\n          this.onFrameChange({\n            frameIndex,\n            isLastFrame: frameIndex === this.getFrameCount() - 1\n          });\n        }\n      }\n    };\n\n    this.goToFrame(0);\n\n    if (this.viewer) {\n      this.viewer.addHandler('zoom', frameHandler);\n      this.viewer.addHandler('pan', frameHandler);\n    }\n\n    if (this.onComicLoad) {\n      this.onComicLoad({});\n    }\n  }\n\n  // ----------\n  goToFrame(index: number) {\n    if (this.getFrameIndex() !== index) {\n      var frame = this.frames[index];\n      var bufferFactor = 0.2;\n      if (frame) {\n        var box = frame.clone();\n\n        box.width *= 1 + bufferFactor;\n        box.height *= 1 + bufferFactor;\n        box.x -= frame.width * bufferFactor * 0.5;\n        box.y -= frame.height * bufferFactor * 0.5;\n\n        this.viewer?.viewport.fitBounds(box);\n      }\n    }\n  }\n\n  // ----------\n  getFrameIndex() {\n    return this.frameIndex;\n  }\n\n  // ----------\n  _figureFrameIndex(current: boolean) {\n    let bestIndex = -1;\n    let bestDistance = Infinity;\n    if (this.viewer) {\n      const viewportBounds = this.viewer.viewport.getBounds(current);\n      const viewportCenter = viewportBounds.getCenter();\n\n      for (let i = 0; i < this.frames.length; i++) {\n        const frame = this.frames[i];\n        if (frame.containsPoint(viewportCenter)) {\n          const distance = viewportCenter.squaredDistanceTo(frame.getCenter());\n          if (distance < bestDistance) {\n            bestDistance = distance;\n            bestIndex = i;\n          }\n        }\n      }\n    }\n    return bestIndex;\n  }\n\n  // ----------\n  getFrameCount() {\n    return this.frames.length;\n  }\n\n  // ----------\n  goToNextFrame() {\n    let index = this.getFrameIndex();\n    if (index < this.frames.length - 1) {\n      this.goToFrame(index + 1);\n    }\n  }\n\n  // ----------\n  goToPreviousFrame() {\n    let index = this.getFrameIndex();\n    if (index > 0) {\n      this.goToFrame(index - 1);\n    }\n  }\n}\n","// Type definitions is a manual copy of @types/openseadragon\n\n// Type definitions for OpenSeadragon 2.4\n// Project: https://openseadragon.github.io/\n// Definitions by:  Álvaro Martínez <https://github.com/alvaromartmart>\n//                  RobertYost <https://github.com/RobertYost>\n//                  Jasper Staab <https://github.com/jstaab>\n//                  Kristin Ruben <https://github.com/kristinruben>\n//                  Geoff Harper <https://github.com/geoff-harper>\n//                  Justin <https://github.com/justincy>\n//                  Peter Blazejewicz <https://github.com/peterblazejewicz>\n// Definitions: https://github.com/alvaromartmart/types-openseadragon\n// TypeScript Version: 3.1\ndeclare namespace OpenSeadragon {\n  class Browser {\n    vendor: BROWSERS;\n    version: number;\n    alpha: boolean;\n  }\n\n  enum BROWSERS {\n    UNKNOWN = 0,\n    IE = 1,\n    FIREFOX = 2,\n    SAFARI = 3,\n    CHROME = 4,\n    OPERA = 5\n  }\n\n  enum ButtonState {\n    REST,\n    GROUP,\n    HOVER,\n    DOWN\n  }\n\n  enum ControlAnchor {\n    NONE,\n    TOP_LEFT,\n    TOP_RIGHT,\n    BOTTOM_LEFT,\n    BOTTOM_RIGHT,\n    ABSOLUTE\n  }\n\n  const DEFAULT_SETTINGS: Options;\n\n  const fullScreenApi: {\n    supportsFullScreen: boolean;\n    isFullScreen: () => boolean;\n    getFullScreenElement: () => HTMLElement;\n    requestFullScreen: () => void;\n    exitFullScreen: () => void;\n    cancelFullScreen: () => void;\n    fullScreenEventName: string;\n    fullScreenErrorEventName: string;\n  };\n\n  enum OverlayPlacement {\n    CENTER,\n    TOP_LEFT,\n    TOP,\n    TOP_RIGHT,\n    RIGHT,\n    BOTTOM_RIGHT,\n    BOTTOM,\n    BOTTOM_LEFT,\n    LEFT\n  }\n\n  enum OverlayRotationMode {\n    NO_ROTATION,\n    EXACT,\n    BOUNDING_BOX\n  }\n\n  let pixelDensityRatio: number;\n\n  enum Placement {\n    CENTER,\n    TOP_LEFT,\n    TOP,\n    TOP_RIGHT,\n    RIGHT,\n    BOTTOM_RIGHT,\n    BOTTOM,\n    BOTTOM_LEFT,\n    LEFT\n  }\n\n  let supportsCanvas: boolean;\n\n  let version: {\n    versionStr: string;\n    major: number;\n    minor: number;\n    revision: number;\n  };\n\n  function addClass(element: Element | string, className: string): void;\n\n  function addEvent(\n    element: Element | string,\n    eventName: string,\n    handler: (event: Event) => void,\n    useCapture?: boolean\n  ): void;\n\n  function cancelEvent(event?: OSDEvent<any>): void;\n\n  function capitalizeFirstLetter(value: string): string;\n\n  function createCallback(\n    object: object,\n    method: (...args: any[]) => void,\n    ...args: any[]\n  ): (...args: any[]) => void;\n\n  function delegate(\n    object: object,\n    method: (...args: any[]) => void\n  ): (object: any, ...args: any[]) => void; // REVIEW: unsure of return type\n\n  function extend(): any;\n\n  function getCssPropertyWithVendorPrefix(property: string): string;\n\n  function getElement(element: string | Element): Element;\n\n  function getElementOffset(element: Element | string): Point;\n\n  function getElementPosition(element: Element | string): Point;\n\n  function getElementSize(element: Element | string): Point;\n\n  function getElementStyle(element: Element | string): any; // CSSStyle?\n\n  function getMousePosition(event?: OSDEvent<any>): Point;\n\n  function getPageScroll(): Point;\n\n  function getString(property: string): string;\n\n  function getUrlParameter(key: string): string;\n\n  function getWindowSize(): Point;\n\n  function imageFormatSupported(extension?: string): boolean;\n\n  function indexOf(array: any[], searchElement: object, fromIndex?: number): number;\n\n  // (missing jquery functions)\n\n  function makeAjaxRequest(options: {\n    url: string;\n    success: (obj: object) => void;\n    error: (obj: object) => void;\n    headers: object;\n    responseType: string;\n    withCredentials?: boolean;\n  }): XMLHttpRequest;\n\n  function makeCenteredNode(element: Element | string): Element;\n\n  function makeNeutralElement(tagName: string): Element;\n\n  function makeTransparentImage(src: string): Element;\n\n  function now(): number;\n\n  function parseJSON(string: string): object;\n\n  function parseXml(string: string): Document;\n\n  function pointInElement(element: Element | string, point: Point): boolean;\n\n  function positiveModulo(number: number, modulo: number): number;\n\n  function removeClass(element: Element | string, className: string): void;\n\n  function removeEvent(\n    element: Element | string,\n    eventName: string,\n    handler: EventHandler<any>,\n    useCapture?: boolean\n  ): void;\n\n  function setElementOpacity(element: Element | string, opacity: number, usesAlpha?: boolean): void;\n\n  function setElementTouchActionNone(element: Element | string): void;\n\n  function setPageScroll(point: Point): void;\n\n  function setString(property: string, value: any): void;\n\n  function stopEvent(event?: OSDEvent<any>): void;\n\n  interface GestureSettings {\n    scrollToZoom?: boolean;\n    clickToZoom?: boolean;\n    dblClickToZoom?: boolean;\n    pinchToZoom?: boolean;\n    flickEnabled?: boolean;\n    flickMinSpeed?: number;\n    flickMomentum?: number;\n  }\n\n  interface NavImagesValues {\n    REST: string;\n    GROUP: string;\n    HOVER: string;\n    DOWN: string;\n  }\n  interface NavImages {\n    zoomIn: NavImagesValues;\n    zoomOut: NavImagesValues;\n    home: NavImagesValues;\n    fullpage: NavImagesValues;\n    rotateleft: NavImagesValues;\n    rotateright: NavImagesValues;\n    flip: NavImagesValues;\n    previous: NavImagesValues;\n    next: NavImagesValues;\n  }\n\n  interface Options {\n    id?: string;\n    element?: HTMLElement;\n    tileSources?:\n      | string\n      | string[]\n      | TileSource[]\n      | TileSourceOptions\n      | {\n          type: string;\n          levels: Array<{\n            url: string;\n            height: number;\n            width: number;\n          }>;\n        }\n      | {\n          Image: {\n            xmlns?: string;\n            Url: string;\n            Format: string;\n            Overlap: string;\n            TileSize: string;\n            Size: {\n              Width: string;\n              Height: string;\n            };\n          };\n        };\n    tabIndex?: number;\n    overlays?: any[];\n    prefixUrl?: string;\n    navImages?: NavImages;\n    debugMode?: boolean;\n    debugGridColor?: string[];\n    blendTime?: number;\n    alwaysBlend?: boolean;\n    autoHideControls?: boolean;\n    immediateRender?: boolean;\n    defaultZoomLevel?: number;\n    opacity?: number;\n    preload?: boolean;\n    compositeOperation?:\n      | 'source-over'\n      | 'source-atop'\n      | 'source-in'\n      | 'source-out'\n      | 'destination-over'\n      | 'destination-atop'\n      | 'destination-in'\n      | 'destination-out'\n      | 'lighter'\n      | 'copy'\n      | 'xor';\n    placeholderFillStyle?: string | CanvasGradient | CanvasPattern;\n    degrees?: number;\n    flipped?: boolean;\n    minZoomLevel?: number;\n    maxZoomLevel?: number;\n    homeFillsViewer?: boolean;\n    panHorizontal?: boolean;\n    panVertical?: boolean;\n    constrainDuringPan?: boolean;\n    wrapHorizontal?: boolean;\n    wrapVertical?: boolean;\n    minZoomImageRatio?: number;\n    maxZoomPixelRatio?: number;\n    smoothTileEdgesMinZoom?: number;\n    iOSDevice?: boolean;\n    autoResize?: boolean;\n    preserveImageSizeOnResize?: boolean;\n    minScrollDeltaTime?: number;\n    pixelsPerWheelLine?: number;\n    pixelsPerArrowPress?: number;\n    visibilityRatio?: number;\n    viewportMargins?: object;\n    imageLoaderLimit?: number;\n    clickTimeThreshold?: number;\n    clickDistThreshold?: number;\n    dblClickTimeThreshold?: number;\n    dblClickDistThreshold?: number;\n    springStiffness?: number;\n    animationTime?: number;\n    gestureSettingsMouse?: GestureSettings;\n    gestureSettingsTouch?: GestureSettings;\n    gestureSettingsPen?: GestureSettings;\n    gestureSettingsUnknown?: GestureSettings;\n    zoomPerClick?: number;\n    zoomPerScroll?: number;\n    zoomPerSecond?: number;\n    showNavigator?: boolean;\n    navigatorId?: string;\n    navigatorPosition?: 'TOP_LEFT' | 'TOP_RIGHT' | 'BOTTOM_LEFT' | 'BOTTOM_RIGHT' | 'ABSOLUTE';\n    navigatorSizeRatio?: number;\n    navigatorMaintainSizeRatio?: boolean;\n    navigatorTop?: number | string;\n    navigatorLeft?: number | string;\n    navigatorHeight?: number | string;\n    navigatorWidth?: number | string;\n    navigatorAutoResize?: boolean;\n    navigatorAutoFade?: boolean;\n    navigatorRotate?: boolean;\n    navigatorBackground?: string;\n    navigatorOpacity?: number;\n    navigatorBorderColor?: string;\n    navigatorDisplayRegionColor?: string;\n    controlsFadeDelay?: number;\n    controlsFadeLength?: number;\n    maxImageCacheCount?: number;\n    timeout?: number;\n    useCanvas?: boolean;\n    minPixelRatio?: number;\n    mouseNavEnabled?: number;\n    showNavigationControl?: boolean;\n    navigationControlAnchor?: ControlAnchor;\n    showZoomControl?: boolean;\n    showHomeControl?: boolean;\n    showFullPageControl?: boolean;\n    showRotationControl?: boolean;\n    showFlipControl?: boolean;\n    showSequenceControl?: boolean;\n    sequenceControlAnchor?: ControlAnchor;\n    navPrevNextWrap?: boolean;\n    zoomInButton?: string;\n    zoomOutButton?: string;\n    homeButton?: string;\n    fullPageButton?: string;\n    rotateLeftButton?: string;\n    rotateRightButton?: string;\n    previousButton?: string;\n    nextButton?: string;\n    sequenceMode?: boolean;\n    /**\n     * If sequenceMode is true, display this page initially.\n     * @default 0\n     */\n    initialPage?: number;\n    preserveViewport?: boolean;\n    preserveOverlays?: boolean;\n    showReferenceStrip?: boolean;\n    referenceStripScroll?: string;\n    referenceStripElement?: HTMLElement;\n    referenceStripHeight?: number;\n    referenceStripWidth?: number;\n    referenceStripPosition?: string;\n    referenceStripSizeRatio?: number;\n    collectionMode?: boolean;\n    collectionRows?: number;\n    collectionColumns?: number;\n    collectionLayout?: 'horizontal' | 'vertical';\n    collectionTileSize?: number;\n    collectionTileMargin?: number;\n    crossOriginPolicy?: 'Anonymous' | 'use-credentials' | false;\n    ajaxWithCredentials?: boolean;\n    loadTilesWithAjax?: boolean;\n    ajaxHeaders?: object;\n    imageSmoothingEnabled?: boolean;\n    rotationIncrement?: number;\n  }\n\n  interface TileSourceOptions {\n    url?: string;\n    referenceStripThumbnailUrl?: string;\n    success?: (event: Event) => void;\n    ajaxWithCredentials?: boolean;\n    ajaxHeaders?: object;\n    width?: number;\n    height?: number;\n    tileSize?: number;\n    tileWidth?: number;\n    tileHeight?: number;\n    tileOverlap?: number;\n    minLevel?: number;\n    maxLevel?: number;\n    getTileUrl?: (l: number, x: number, y: number) => string;\n  }\n\n  class Button extends EventSource {\n    currentState: ButtonState;\n    element: Element;\n    fadeDelay: number;\n    fadeLength: number;\n    tracker: MouseTracker;\n\n    constructor(options: {\n      element?: Element;\n      tooltip?: string;\n      srcRest?: string;\n      srcGroup?: string;\n      srcHover?: string;\n      srcDown?: string;\n      fadeDelay?: number;\n      fadeLength?: number;\n      onPress?: EventHandler<ButtonEvent>;\n      onRelease?: EventHandler<ButtonEvent>;\n      onClick?: EventHandler<ButtonEvent>;\n      onEnter?: EventHandler<ButtonEvent>;\n      onExit?: EventHandler<ButtonEvent>;\n      onFocus?: EventHandler<ButtonEvent>;\n      onBlur?: EventHandler<ButtonEvent>;\n    });\n\n    addHandler(\n      eventName: ButtonEventName,\n      handler: EventHandler<ButtonEvent>,\n      userData?: object\n    ): void;\n    addOnceHandler(\n      eventName: ButtonEventName,\n      handler: EventHandler<ButtonEvent>,\n      userData?: object,\n      times?: number\n    ): void;\n    disable(): void;\n    enable(): void;\n    getHandler(eventName: ButtonEventName): (source: ButtonEventName, ...args: any[]) => void;\n    raiseEvent(eventName: ButtonEventName, eventArgs: object): void;\n    removeAllHandlers(eventName: ButtonEventName): void;\n    removeHandler(eventName: ButtonEventName, handler: EventHandler<ButtonEvent>): void;\n  }\n\n  class ButtonGroup {\n    buttons: Button[];\n    element: Element;\n    tracker: MouseTracker;\n\n    constructor(options: { buttons: Button[]; element?: Element });\n  }\n\n  interface TControlOptions {\n    anchor?: ControlAnchor;\n    attachToViewer?: boolean;\n    autoFade?: boolean;\n  }\n\n  class Control {\n    anchor: ControlAnchor;\n    autoFade: boolean;\n    container: Element;\n    element: Element;\n    wrapper: Element;\n\n    constructor(element: Element, options: TControlOptions, container: Element);\n\n    destroy(): void;\n    isVisible(): boolean;\n    setOpacity(opacity: number): void;\n    setVisible(visible: boolean): void;\n  }\n\n  class ControlDock {\n    constructor(options: object);\n\n    addControl(element: Control, controlOptions: TControlOptions): void;\n    areControlsEnabled(): boolean;\n    clearControls(): ControlDock;\n    removeControl(element: Control): ControlDock;\n    setControlsEnabled(enabled: boolean): ControlDock;\n  }\n\n  class DisplayRect extends Rect {\n    maxLevel: number;\n    minLevel: number;\n\n    constructor(\n      x: number,\n      y: number,\n      width: number,\n      height: number,\n      minLevel: number,\n      maxLevel: number\n    );\n  }\n\n  class Drawer {\n    canvas: HTMLCanvasElement | HTMLElement;\n    container: Element;\n    context: CanvasRenderingContext2D | null;\n    // element : Element; // Deprecated\n\n    constructor(options: {\n      viewer: Viewer;\n      viewport: Viewport;\n      element: Element;\n      debugGridColor?: string;\n    });\n\n    blendSketch(options: {\n      opacity: number;\n      scale?: number;\n      translate?: Point;\n      compositeOperation?: string;\n      bounds?: Rect;\n    }): void;\n    canRotate(): boolean;\n    clear(): void;\n    destroy(): void;\n    drawTile(\n      tile: Tile,\n      drawingHandler: (context: CanvasRenderingContext2D, tile: any, rendered: any) => void, // TODO: determine handler parameter types\n      useSketch: boolean,\n      scale?: number,\n      translate?: Point\n    ): void;\n    getCanvasSize(sketch: boolean): Point;\n    getOpacity(): number;\n    setOpacity(opacity: number): Drawer;\n    viewportToDrawerRectangle(rectangle: Rect): Rect;\n    setImageSmoothingEnabled(imageSmoothingEnabled?: boolean): void;\n    viewportCoordToDrawerCoord(point: Point): Point;\n    clipWithPolygons(polygons: Point[][], useSketch?: boolean): void;\n  }\n\n  class DziTileSource extends TileSource {\n    constructor(\n      width: number,\n      height: number,\n      tileSize: number,\n      tileOverlap: number,\n      tilesUrl: number,\n      fileFormat: number,\n      displayRects: number,\n      minLevel: number,\n      maxLevel: number\n    );\n  }\n\n  class IIIFTileSource extends TileSource {\n    constructor(options: TileSourceOptions & { tileFormat?: string });\n  }\n\n  class ImageLoader {\n    constructor(options: { jobLimit?: number; timeout?: number });\n\n    addJob(options: {\n      src?: string;\n      loadWithAjax?: string;\n      ajaxHeaders?: string;\n      crossOriginPolicy?: string | boolean;\n      ajaxWithCredentials?: boolean;\n      callback?: () => void;\n      abort?: () => void;\n    }): void;\n    clear(): void;\n  }\n\n  class ImageTileSource extends TileSource {\n    constructor(options: {\n      url: string;\n      buildPyramid?: boolean;\n      crossOriginPolicy?: string | boolean;\n      ajaxWithCredentials?: string | boolean;\n      useCanvas?: boolean;\n    });\n  }\n\n  class LegacyTileSource extends TileSource {\n    constructor(\n      levels?: Array<{\n        url: string;\n        width: number;\n        height: number;\n      }>\n    );\n  }\n\n  interface MouseTrackerOptions {\n    element: Element | string;\n    startDisabled?: boolean;\n    clickTimeThreshold?: number;\n    clickDistThreshold?: number;\n    dblClickTimeThreshold?: number;\n    dblClickDistThreshold?: number;\n    stopDelay?: number;\n    enterHandler?: EventHandler<OSDEvent<any>>;\n    exitHandler?: EventHandler<OSDEvent<any>>;\n    pressHandler?: EventHandler<OSDEvent<any>>;\n    nonPrimaryPressHandler?: EventHandler<OSDEvent<any>>;\n    releaseHandler?: EventHandler<OSDEvent<any>>;\n    nonPrimaryReleaseHandler?: EventHandler<OSDEvent<any>>;\n    moveHandler?: EventHandler<OSDEvent<any>>;\n    scrollHandler?: EventHandler<OSDEvent<any>>;\n    clickHandler?: EventHandler<OSDEvent<any>>;\n    dblClickHandler?: EventHandler<OSDEvent<any>>;\n    dragHandler?: EventHandler<OSDEvent<any>>;\n    dragEndHandler?: EventHandler<OSDEvent<any>>;\n    pinchHandler?: EventHandler<OSDEvent<any>>;\n    keyDownHandler?: EventHandler<OSDEvent<any>>;\n    keyUpHandler?: EventHandler<OSDEvent<any>>;\n    keyHandler?: EventHandler<OSDEvent<any>>;\n    focusHandler?: EventHandler<OSDEvent<any>>;\n    blurHandler?: EventHandler<OSDEvent<any>>;\n    userData?: object;\n  }\n  class MouseTracker {\n    clickTimeThreshold: number;\n    clickDistThreshold: number;\n    dblClickTimeThreshold: number;\n    dblClickDistThreshold: number;\n    element: Element;\n\n    constructor(options: MouseTrackerOptions);\n\n    blurHandler: (event: OSDEvent<any>) => void;\n    clickHandler: (event: OSDEvent<any>) => void;\n    dblClickHandler: (event: OSDEvent<any>) => void;\n    destroy(): void;\n    dragEndHandler: (event: OSDEvent<any>) => void;\n    dragHandler: (event: OSDEvent<any>) => void;\n    enterHandler: (event: OSDEvent<any>) => void;\n    exitHandler: (event: OSDEvent<any>) => void;\n    focusHandler: (event: OSDEvent<any>) => void;\n    getActivePointerCount(): number;\n    getActivePointersListByType(type: string): GesturePointList;\n    getActivePointersListsExceptType(type: string): GesturePointList[];\n    keyDownHandler: (event: OSDEvent<any>) => void;\n    keyHandler: (event: OSDEvent<any>) => void;\n    keyUpHandler: (event: OSDEvent<any>) => void;\n    moveHandler: (event: OSDEvent<any>) => void;\n    nonPrimaryPressHandler: (event: OSDEvent<any>) => void;\n    nonPrimaryReleaseHandler: (event: OSDEvent<any>) => void;\n    pinchHandler: (event: OSDEvent<any>) => void;\n    pressHandler: (event: OSDEvent<any>) => void;\n    releaseHandler: (event: OSDEvent<any>) => void;\n    scrollHandler: (event: OSDEvent<any>) => void;\n    setTracking(track: boolean): any;\n    stopHandler: (event: OSDEvent<any>) => void;\n  }\n\n  interface GesturePoint {\n    id: number;\n    type: string;\n    captured: boolean;\n    isPrimary: boolean;\n    insideElementPressed: boolean;\n    insideElement: boolean;\n    speed: number;\n    direction: number;\n    contactPos: Point;\n    contactTime: number;\n    lastPos: Point;\n    lastTime: number;\n    currentPos: Point;\n    currentTime: number;\n  }\n\n  class GesturePointList {\n    buttons: Button[];\n    captureCount: number;\n    clicks: number;\n    contacts: number;\n    type: string;\n\n    constructor(type: string);\n\n    add(gesturePoint: GesturePoint): number;\n    addContact(): void;\n    asArray(): GesturePoint[];\n    getById(id: number): GesturePoint | null;\n    getByIndex(index: number): GesturePoint | null;\n    getLength(): number;\n    getPrimary(): GesturePoint | null;\n    removeById(id: number): number;\n    removeContact(): void;\n  }\n\n  class Navigator extends Viewer {\n    setFlip(state: boolean): void;\n    update(viewport: Viewport): void;\n    updateSize(): void;\n    setWidth(width: number | string): void;\n    setHeight(width: number | string): void;\n  }\n\n  class OsmTileSource extends TileSource {\n    constructor(\n      width: number,\n      height: number,\n      tileSize: number,\n      tileOverlap: number,\n      tilesUrl: string\n    );\n  }\n\n  type OnDrawCallback = (position: Point, size: Point, element: HTMLElement) => void;\n\n  interface OverlayOptions {\n    element: HTMLElement;\n    location: Point | Rect;\n    placement?: Placement;\n    onDraw?: OnDrawCallback;\n    checkResize?: boolean;\n    width?: number;\n    height?: number;\n    rotationMode?: boolean;\n  }\n\n  class Overlay {\n    constructor(options: OverlayOptions);\n    adjust(position: Point, size: Point): void;\n    destroy(): void;\n    drawHTML(container: HTMLElement): void;\n    getBounds(viewport: Viewport): Rect;\n    update(location: Point | Rect, placement: Placement): void;\n  }\n\n  class Point {\n    x: number;\n    y: number;\n    constructor(x?: number, y?: number);\n    apply(func: (v: number) => number): Point;\n    clone(): Point;\n    distanceTo(point: Point): number;\n    divide(factor: number): Point;\n    equals(point: Point): boolean;\n    minus(point: Point): Point;\n    negate(): Point;\n    plus(point: Point): Point;\n    rotate(degrees: number, pivot?: Point): Point;\n    squaredDistanceTo(point: Point): number;\n    times(factor: number): Rect;\n    toString(): string;\n  }\n\n  class Rect {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    degrees: number;\n    constructor(x?: number, y?: number, width?: number, height?: number, degrees?: number);\n    clone(): Rect;\n    containsPoint(point: Point, epsilon?: number): boolean;\n    equals(rectangle: Rect): boolean;\n    getAspectRatio(): number;\n    getBottomLeft(): Point;\n    getBottomRight(): Point;\n    getBoundingBox(): Rect;\n    getCenter(): Point;\n    getIntegerBoundingBox(): Rect;\n    getSize(): Point;\n    getTopLeft(): Point;\n    getTopRight(): Point;\n    intersection(rect: Rect): Rect;\n    rotate(degrees: number, pivot?: Rect): Rect;\n    times(factor: number): Rect;\n    toString(): string;\n    translate(delta: Point): Rect;\n    union(rect: Rect): Rect;\n  }\n\n  class ReferenceStrip {\n    constructor(options: object);\n    setFocus(): void;\n    update(): void;\n  }\n\n  class Spring {\n    animationTime: number;\n    current: {\n      value: number;\n      time: number;\n    };\n    springStiffness: number;\n    start: {\n      value: number;\n      time: number;\n    };\n    constructor(options: {\n      springStiffness: number;\n      animationTime: number;\n      initial?: number;\n      exponential?: boolean;\n    });\n    isAtTargetValue(): boolean;\n    resetTo(target: number): void;\n    shiftBy(delta: number): void;\n    springTo(target: number): void;\n    update(): void;\n  }\n\n  class Tile {\n    ajaxHeaders: object;\n    beingDrawn: boolean;\n    blendStart: number;\n    bounds: Rect;\n    cacheKey: string;\n    context2D: CanvasRenderingContext2D;\n    element: Element;\n    exists: boolean;\n    image: object;\n    imgElement: HTMLImageElement;\n    isBottomMost: boolean;\n    isRightMost: boolean;\n    lastTouchTime: number;\n    level: number;\n    loaded: boolean;\n    loading: boolean;\n    loadWithAjax: boolean;\n    opacity: number;\n    position: Point;\n    size: Point;\n    sourceBounds: Rect;\n    style: string;\n    url: string;\n    visibility: number;\n    x: number;\n    y: number;\n\n    constructor(\n      level: number,\n      x: number,\n      y: number,\n      bounds: Rect,\n      exists: boolean,\n      url: string,\n      context2D: CanvasRenderingContext2D,\n      loadWithAjax: boolean,\n      ajaxHeaders: object,\n      sourceBounds: Rect\n    );\n    drawCanvas(\n      context: CanvasRenderingContext2D,\n      drawingHandler: (context: CanvasRenderingContext2D, tile: any, rendered: any) => void,\n      scale?: number,\n      translate?: Point\n    ): void;\n    drawHTML(container: Element): void;\n    getScaleForEdgeSmoothing(): number;\n    getTranslationForEdgeSmoothing(scale?: number): Point;\n    toString(): string;\n    unload(): void;\n  }\n\n  class TileCache {\n    constructor(options: { maxImageCacheCount?: number });\n    cacheTile(options: {\n      tile: Tile;\n      image: HTMLImageElement; // TODO: check type\n      tiledImage: TiledImage;\n      cutoff?: number;\n    }): void;\n    clearTilesFor(tiledImage: TiledImage): void;\n    numTilesLoaded(): number;\n  }\n\n  class TiledImage {\n    source: TileSource;\n    constructor(options: {\n      source: TileSource;\n      viewer: Viewer;\n      tileCache: TileCache;\n      drawer: Drawer;\n      imageLoader: ImageLoader;\n      x?: number;\n      y?: number;\n      width?: number;\n      height?: number;\n      fitBounds?: Rect;\n      fitBoundsPlacement?: Placement;\n      clip?: Rect;\n      springStiffness?: number;\n      animationTime?: boolean;\n      minZoomImageRatio?: number;\n      wrapHorizontal?: boolean;\n      wrapVertical?: boolean;\n      immediateRender?: boolean;\n      blendTime?: number;\n      alwaysBlend?: boolean;\n      minPixelRatio?: number;\n      smoothTileEdgesMinZoom?: number;\n      iOSDevice?: boolean;\n      opacity?: number;\n      preload?: boolean;\n      compositeOperation?: string;\n      debugMode?: boolean;\n      placeholderFillStyle?: string | CanvasGradient | CanvasPattern;\n      crossOriginPolicy?: string | boolean;\n      ajaxWithCredentials?: boolean;\n      loadTilesWithAjax?: boolean;\n      ajaxHeaders?: object;\n    });\n\n    addHandler(eventName: string, handler: EventHandler<TiledImageEvent>, userData?: object): void;\n    addOnceHandler(\n      eventName: string,\n      handler: EventHandler<TiledImageEvent>,\n      userData?: object\n    ): void;\n    destroy(): void;\n    draw(): void;\n    fitBounds(bounds: Rect, anchor?: Placement, immediately?: boolean): void;\n    getBounds(current?: boolean): Rect;\n    getBoundsNoRotate(current?: boolean): Rect;\n    getClip(): Rect | null;\n    getClippedBounds(current?: boolean): Rect;\n    getCompositeOperation(): string;\n    getContentSize(): Point;\n    getFullyLoaded(): boolean;\n    getHandler(eventName: string): (source: Event, ...args: any[]) => void;\n    getOpacity(): number;\n    getPreload(): boolean;\n    getRotation(current?: boolean): number;\n    imageToViewerElementCoordinats(pixel: Point): Point;\n    imageToViewportCoordinates(position: Point, current?: boolean): Point;\n    imageToViewportCoordinates(imageX: number, imageY: number, current?: boolean): Point;\n    imageToViewportRectangle(\n      imageX: number,\n      imageY?: number,\n      pixelWidth?: number,\n      pixelHeight?: number,\n      current?: boolean\n    ): Rect;\n    imageToViewportRectangle(\n      position: Rect,\n      pixelWidth?: number,\n      pixelHeight?: number,\n      current?: boolean\n    ): Rect;\n\n    imageToViewportZoom(imageZoom: number): number;\n    imageToWindowCoordinates(pixel: Point): Point;\n    needsDraw(): boolean;\n    raiseEvent(eventName: string, eventArgs: object): void;\n    removeAllHandlers(eventName: string): void;\n    removeHandler(eventName: string, handler: EventHandler<TiledImageEvent>): void;\n    reset(): void;\n    resetCroppingPolygons(): void;\n    setClip(newClip: Rect | null): void;\n    setCompositeOperation(compositeOperation: string): void;\n    setCroppingPolygons(polygons: Point[][]): void;\n    setHeight(height: number, immediately?: boolean): void;\n    setOpacity(opacity: number): void;\n    setPosition(position: Point, immediately?: boolean): void;\n    setPreload(preload: boolean): void;\n    setRotation(degrees: number, immediately?: boolean): void;\n    setWidth(width: number, immediately?: boolean): void;\n    update(): boolean;\n    viewerElementToImageCoordinates(pixel: Point): Point;\n    viewportToImageCoordinates(position: Point, current?: boolean): Point;\n    viewportToImageCoordinates(viewerX: number, viewerY: number, current?: boolean): Point;\n    viewportToImageRectangle(position: Rect): Rect;\n    viewportToImageRectangle(\n      viewportX: number,\n      viewportY: number,\n      pixelWidth?: number,\n      pixelHeight?: number,\n      current?: boolean\n    ): Rect;\n    viewportToImageZoom(viewportZoom: number): number;\n    windowToImageCoordinates(pixel: Point): Point;\n  }\n\n  class TileSource extends EventSource {\n    aspectRatio: number;\n    dimensions: Point;\n    maxLevel: number;\n    minlevel: number;\n    ready: boolean;\n    tileOverlap: number;\n    constructor(options: TileSourceOptions);\n    addHandler(eventName: string, handler: EventHandler<TileSourceEvent>, userData?: object): void;\n    addOnceHandler(\n      eventName: string,\n      handler: EventHandler<TileSourceEvent>,\n      userData?: object,\n      times?: number\n    ): void;\n    configure(data: string | object | any[] | Document): object;\n    getClosestLevel(): number;\n    getHandler(eventName: string): (event: Event) => void;\n    getImageInfo(url: string): void;\n    getLevelScale(level: number): number;\n    getNumTiles(level: number): number;\n    getPixelRatio(level: number): number;\n    getTileAjaxHeaders(level: number, x: number, y: number): object;\n    getTileAtPoint(level: number, point: Point): Tile;\n    getTileBounds(level: number, x: number, y: number, isSource?: boolean): Rect;\n    getTileHeight(level: number): number;\n    getTileUrl(level: number, x: number, y: number): string;\n    getTileWidth(level: number): number;\n    raiseEvent(eventName: string, eventArgs: object): void;\n    removeAllHandlers(eventName: string): void;\n    removeHandler(eventName: string, handler: EventHandler<TileSourceEvent>): void;\n    supports(data: string | object | any[] | Document, url: string): boolean;\n    tileExists(level: number, x: number, y: number): boolean;\n  }\n\n  class TmsTileSource extends TileSource {\n    constructor(\n      width: number,\n      height: number,\n      tileSize: number,\n      tileOverlap: number,\n      tilesUrl: string\n    );\n  }\n\n  interface ImageOptions {\n    index?: number;\n    replace?: boolean;\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    fitBounds?: Rect;\n    fitBoundsPlacement?: Placement;\n    clip?: Rect;\n    opacity?: number;\n    preload?: boolean;\n    degrees?: number;\n    compositeOperation?: string;\n    crossOriginPolicy?: string;\n    ajaxWithCredentials?: boolean;\n    loadTilesWithAjax?: boolean;\n    ajaxHeaders?: object;\n    success?: (event: Event) => void;\n    error?: (error: Error) => void;\n    collectionImmediately?: boolean;\n    placeholderFillStyle?: string | CanvasGradient | CanvasPattern;\n  }\n\n  interface TiledImageOptions extends ImageOptions {\n    tileSource: string | object;\n  }\n\n  interface SimpleImageOptions extends ImageOptions {\n    url: string;\n  }\n\n  class Viewer extends ControlDock {\n    canvas: HTMLElement;\n    container: HTMLElement;\n    drawer: Drawer;\n    element: HTMLElement;\n    initialPage: number;\n    navigator: Navigator;\n    viewport: Viewport;\n    world: World;\n    referenceStrip: ReferenceStrip;\n    innerTracker: {\n      scrollHandler: (event: { originalEvent: MouseEvent; scroll: number }) => void;\n    };\n\n    constructor(options: Options);\n    _cancelPendingImages(): void;\n    addHandler(\n      eventName: ViewerEventName,\n      callback: EventHandler<ViewerEvent>,\n      userData?: object\n    ): void;\n    addOnceHandler(\n      eventName: ViewerEventName,\n      callback: EventHandler<ViewerEvent>,\n      userData?: object,\n      times?: number\n    ): void;\n    addOverlay(\n      element: HTMLElement | string | object,\n      location?: Point | Rect,\n      placement?: Placement,\n      onDraw?: (element: HTMLElement, location: Location, placement: Placement) => void\n    ): Viewer;\n    addReferenceStrip(): void;\n    addSimpleImage(options: SimpleImageOptions): void;\n    addTiledImage(options: TiledImageOptions): void;\n    bindSequenceControls(): Viewer;\n    bindStandardControls(): Viewer;\n    clearOverlays(): Viewer;\n    close(): Viewer;\n    currentPage(): number;\n    destroy(): void;\n    forceRedraw(): Viewer;\n    gestureSettingsByDeviceType(type: string): GestureSettings;\n    getHandler(eventName: string): (event: Event) => void;\n    getOverlayById(element: Element | string): Overlay;\n    goToPage(page: number): Viewer;\n    isFullPage(): boolean;\n    isMouseNavEnabled(): boolean;\n    isOpen(): boolean;\n    isVisible(): boolean;\n    open(tileSources: string | object | TileSource[], initialPage?: number): Viewer;\n    raiseEvent(eventName: string, eventArgs?: object): void;\n    removeAllHandlers(eventName: string): void;\n    removeHandler(eventName: string, handler: EventHandler<ViewerEvent>): void;\n    removeOverlay(overlay: Element | string): Viewer;\n    removeReferenceStrip(): void;\n    setControlsEnabled(enabled: boolean): Viewer;\n    setDebugMode(debug: boolean): Viewer;\n    setFullPage(fullScreen: boolean): Viewer;\n    setFullScreen(fullScreen: boolean): Viewer;\n    setMouseNavEnabled(enabled: boolean): Viewer;\n    setVisible(visible: boolean): Viewer;\n    updateOverlay(element: Element | string, location: Point | Rect, placement?: Placement): Viewer;\n  }\n\n  class Viewport {\n    constructor(options: {\n      margins: object;\n      springStiffness?: number;\n      animationTime?: number;\n      minZoomImageRatio?: number;\n      maxZoomPixelRatio?: number;\n      visibilityRatio?: number;\n      wrapHorizontal?: boolean;\n      wrapVertical?: boolean;\n      defaultZoomLevel?: number;\n      minZoomLevel?: number;\n      maxZoomLevel?: number;\n      degrees?: number;\n      homeFillsViewer?: boolean;\n    });\n\n    applyConstraints(immediately?: boolean): Viewport;\n    deltaPixelsFromPoints(deltaPoints: Point, current?: boolean): Point;\n    deltaPixelsFromPointsNoRotate(deltaPoints: Point, current?: boolean): Point;\n    deltaPointsFromPixels(deltaPoints: Point, current?: boolean): Point;\n    deltaPointsFromPixelsNoRotate(deltaPoints: Point, current?: boolean): Point;\n    ensureVisible(immediately?: boolean): Viewport;\n    fitBounds(bounds: Rect, immediately?: boolean): Viewport;\n    fitBoundsWithConstraints(bounds: Rect, immediately?: boolean): Viewport;\n    fitHorizontally(immediately?: boolean): Viewport;\n    fitVertically(immediately?: boolean): Viewport;\n    getAspectRatio(): any; // TODO: determine return type\n    getBounds(current?: boolean): Rect;\n    getBoundsNoRotate(current?: boolean): Rect;\n    getBoundsNoRotateWithMargins(current?: boolean): Rect;\n    getBoundsWithMargins(current?: boolean): Rect;\n    getCenter(current?: boolean): Point;\n    getConstrainedBounds(current?: boolean): Viewport;\n    getContainerSize(): Point;\n    getFlip(): boolean;\n    getHomeBounds(): Rect;\n    getHomeBoundsNoRotate(): Rect;\n    getHomeZoom(): number;\n    getMargins(): object;\n    getMaxZoom(): number;\n    getMinZoom(): number;\n    getRotation(): number;\n    getZoom(current?: boolean): number;\n    goHome(immediately?: boolean): void;\n    imageToViewerElementCoordinates(pixel: Point): Point;\n    imageToViewportCoordinates(position: Point): Point;\n    imageToViewportCoordinates(imageX: number, imageY: number): Point;\n    imageToViewportCoordinates(\n      imageX: number,\n      imageY: number,\n      pixelWidth: number,\n      pixelHeight: number\n    ): Point;\n    imageToViewportRectangle(\n      imageX: number | Rect,\n      imageY?: number,\n      pixelWidth?: number,\n      pixelHeight?: number\n    ): Rect;\n    imageToViewportZoom(imageZoom: number): number;\n    imageToWindowCoordinates(pixel: Point): Point;\n    panBy(delta: Point, immediately?: boolean): Viewport;\n    panTo(center: Point, immediately?: boolean): Viewport;\n    pixelFromPoint(point: Point, current?: boolean): Point;\n    pixelFromPointNoRotate(point: Point, current?: boolean): Point;\n    pointFromPixel(point: Point, current?: boolean): Point;\n    pointFromPixelNoRotate(point: Point, current?: boolean): Point;\n    resetContentSize(contentSize: Point): Viewport;\n    resize(): Viewport;\n    setFlip(state: boolean): Viewport;\n    setMargins(margins: object): void;\n    setRotation(degrees: number): Viewport;\n    toggleFlip(): Viewport;\n    update(): boolean;\n    viewerElementToImageCoordinates(pixel: Point): Point;\n    viewerElementToViewportCoordinates(pixel: Point): Point;\n    viewerElementToViewportRectangle(rectangle: Rect): Rect;\n    viewportToImageCoordinates(position: Point): Point;\n    viewportToImageCoordinates(viewerX: number, viewerY: number): Point;\n    viewportToImageRectangle(rectangle: Rect): Rect;\n    viewportToImageRectangle(\n      viewerX: number,\n      viewerY: number,\n      pointWidth: number,\n      pointHeight: number\n    ): Rect;\n    viewportToImageZoom(viewportZoom: number): number;\n    viewportToViewerElementCoordinates(point: Point): Point;\n    viewportToViewerElementRectangle(rectangle: Rect): Rect;\n    viewportToWindowCoordinates(point: Point): Point;\n    windowToImageCoordinates(pixel: Point): Point;\n    windowToViewportCoordinates(pixel: Point): Point;\n    zoomBy(factor: number, refPoint?: Point, immediately?: boolean): Viewport;\n    zoomTo(factor: number, refPoint?: Point, immediately?: boolean): Viewport;\n  }\n\n  class World extends EventSource {\n    constructor(options: object);\n\n    addHandler(\n      eventName: WorldEventName,\n      callback: EventHandler<WorldEvent>,\n      userData?: object\n    ): void;\n    addItem(item: TiledImage, options?: { index?: number }): void;\n    addOnceHandler(\n      eventName: string,\n      handler: EventHandler<WorldEvent>,\n      userData?: object,\n      times?: number\n    ): void;\n    arrange(options: {\n      immediately?: boolean;\n      layout?: 'horizontal' | 'vertical';\n      rows?: number;\n      columns?: number;\n      tileSize?: number;\n      tileMargin?: number;\n    }): void;\n    draw(): void;\n    getContentFactor(): number;\n    getHandler(eventName: string): (event: Event) => void;\n    getHomeBounds(): Rect;\n    getIndexOfItem(item: TiledImage): number;\n    getItemAt(id: number): TiledImage;\n    getItemCount(): number;\n    needsDraw(): boolean;\n    raiseEvent(eventName: string, eventArgs?: object): void;\n    removeAll(): void;\n    removeAllHandlers(eventName: string): void;\n    removeHandler(eventName: string, handler: EventHandler<WorldEvent>): void;\n    removeItem(item: TiledImage): void;\n    resetItems(): void;\n    setAutoRefigureSizes(value?: boolean): void;\n    setItemIndex(item: TiledImage, index: number): void;\n    update(): void;\n  }\n\n  class ZoomifyTileSource extends TileSource {\n    constructor(width: number, height: number, tileSize: number, tilesUrl: string);\n  }\n\n  // TODO: use proper eventName type aliases, and OSDEvent where appropiate\n\n  type EventHandler<T extends OSDEvent<any>> = (event: T) => void;\n\n  type ButtonEventName = 'blur' | 'click' | 'enter' | 'exit' | 'focus' | 'press' | 'release';\n  type TiledImageEventName =\n    | 'bounds-change'\n    | 'clip-change'\n    | 'composite-operation-change'\n    | 'fully-loaded-change'\n    | 'opacity-change';\n  type TileSourceEventname = 'open-failed' | 'ready';\n  type ViewerEventName =\n    | 'add-item-failed'\n    | 'add-overlay'\n    | 'animation'\n    | 'animation-finish'\n    | 'animation-start'\n    | 'canvas-click'\n    | 'canvas-double-click'\n    | 'canvas-drag'\n    | 'canvas-drag-end'\n    | 'canvas-enter'\n    | 'canvas-exit'\n    | 'canvas-key'\n    | 'canvas-nonprimary-press'\n    | 'canvas-nonprimary-release'\n    | 'canvas-pinch'\n    | 'canvas-press'\n    | 'canvas-release'\n    | 'canvas-scroll'\n    | 'clear-overlay'\n    | 'close'\n    | 'constrain'\n    | 'container-enter'\n    | 'container-exit'\n    | 'controls-enabled'\n    | 'flip'\n    | 'full-page'\n    | 'full-screen'\n    | 'home'\n    | 'mouse-enabled'\n    | 'navigator-click'\n    | 'navigator-drag'\n    | 'navigator-scroll'\n    | 'open'\n    | 'open-failed'\n    | 'page'\n    | 'pan'\n    | 'pre-full-page'\n    | 'pre-full-screen'\n    | 'remove-overlay'\n    | 'reset-size'\n    | 'resize'\n    | 'rotate'\n    | 'tile-drawing'\n    | 'tile-drawn'\n    | 'tile-load-failed'\n    | 'tile-loaded'\n    | 'tile-unloaded'\n    | 'update-level'\n    | 'update-overlay'\n    | 'update-tile'\n    | 'update-viewport'\n    | 'viewport-change'\n    | 'visible'\n    | 'zoom';\n  type WorldEventName = 'add-item' | 'item-index-change' | 'metrics-change' | 'remove-item';\n\n  interface OSDEvent<T> extends Event {\n    eventSource?: T;\n    userData: any;\n  }\n\n  interface ButtonEvent extends OSDEvent<Button> {\n    originalEvent: Event;\n  }\n\n  interface TiledImageEvent extends OSDEvent<TiledImage> {\n    compositeOperationChange?: string;\n    fullyLoaded?: boolean;\n    opacity?: boolean;\n  }\n\n  interface TileSourceEvent extends OSDEvent<TileSource> {\n    message?: string;\n    source?: string;\n    tileSource?: object;\n  }\n\n  interface ViewerEvent extends OSDEvent<Viewer> {\n    message?: string;\n    source?: string;\n    options?: object;\n    element?: Element;\n    location?: Point | Rect;\n    placement?: Placement;\n    tracker?: MouseTracker;\n    position?: Point;\n    quick?: boolean;\n    shift?: boolean;\n    preventDefaultAction?: true;\n    delta?: Point;\n    speed?: number;\n    direction?: number;\n    pointerType?: string;\n    button?: number;\n    buttons?: number;\n    pointers?: number;\n    insideElementPressed?: boolean;\n    buttonDownAny?: boolean;\n    preventVerticalPan?: boolean;\n    preventHorizontalPan?: boolean;\n    gesturePoints?: GesturePoint[];\n    lastCenter?: Point;\n    center?: Point;\n    lastDistance?: number;\n    insideElementReleased?: boolean;\n    scroll?: number;\n    immediately?: number;\n    enabled?: boolean;\n    flipped?: number;\n    fullPage?: boolean;\n    fullScreen?: boolean;\n    page?: number;\n    contentSize?: Point;\n    contentBounds?: Rect;\n    homeBounds?: Rect;\n    contentFactor?: number;\n    newContainerSize?: Point;\n    mantain?: boolean;\n    degrees?: number;\n    tile?: Tile;\n    tiledImage?: TiledImage | XMLHttpRequest;\n    context?: Tile;\n    rendered?: Tile;\n    time?: number;\n    tileRequest?: XMLHttpRequest;\n    getCompletionCallback?: (...args: any) => void;\n    visible?: boolean;\n    refPoint?: Point;\n    zoom?: number;\n  }\n\n  interface WorldEvent extends OSDEvent<World> {\n    item?: TiledImage;\n    previousIndex?: number;\n    newIndex?: number;\n  }\n}\n\n// Custom type needed for importing types data without having to import the actual JS\nexport interface OpenSeadragonType {\n  (options: OpenSeadragon.Options): OpenSeadragon.Viewer;\n  Rect: typeof OpenSeadragon.Rect;\n}\n\nexport type ViewerType = OpenSeadragon.Viewer;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGRhbjUwMy9sb2FkLWpzL2luZGV4LmpzIiwic3JjL2RlbW8vZGVtby50cyIsInNyYy9saWJyYXJ5L2RyaWZ0b3J5LnRzIiwic3JjL2xpYnJhcnkvb3BlbnNlYWRyYWdvbi50eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDaERBLGlFQUEyQztBQUUzQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUU7SUFDNUMsSUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBMEIsQ0FBQztJQUNoRyxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzVELElBQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDeEQsSUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ2xFLElBQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDMUQsSUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUMxRCxJQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFD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O0lBQ0gsQ0FBQztJQUNILGVBQUM7QUFBRCxDQTFSQSxBQTBSQyxJQUFBOzs7OztBQzlURCw0REFBNEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYWxyZWFkeUNhbGxlZFNjcmlwdHMgPSBbXTtcclxudmFyIGFsbFNjcmlwdHMgPSB7fTtcclxudmFyIGRlZmF1bHRTY3JpcHQgPSB7IGhhc0xvYWRlZDogZmFsc2UsIGNhbGxiYWNrczogW10gfTtcclxudmFyIGFkZENhbGxiYWNrID0gZnVuY3Rpb24gKHNyYywgY2FsbGJhY2spIHtcclxuICAgIHZhciBzY3JpcHQgPSBhbGxTY3JpcHRzW3NyY107XHJcbiAgICBpZiAoIXNjcmlwdClcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAoc2NyaXB0Lmhhc0xvYWRlZCkge1xyXG4gICAgICAgIC8vIElmIHRoZSBzY3JpcHQgaGFzIGFscmVhZHkgYmVlbiBwcmV2aW91c2x5IGxvYWRlZCwganVzdCBydW4gdGhlIGNhbGxiYWNrIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChzY3JpcHQuY2FsbGJhY2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc2NyaXB0LmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNjcmlwdC5jYWxsYmFja3MgPSBbY2FsbGJhY2tdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gbG9hZEpTKHNyYywgY2FsbGJhY2spIHtcclxuICAgIHZhciBzY3JpcHQgPSBhbGxTY3JpcHRzW3NyY10gfHwgZGVmYXVsdFNjcmlwdDtcclxuICAgIGFsbFNjcmlwdHNbc3JjXSA9IHNjcmlwdDtcclxuICAgIGlmIChhbHJlYWR5Q2FsbGVkU2NyaXB0cy5pbmRleE9mKHNyYykgPCAwKSB7XHJcbiAgICAgICAgYWxyZWFkeUNhbGxlZFNjcmlwdHMucHVzaChzcmMpO1xyXG4gICAgICAgIHZhciAkc2NyaXB0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICAgICRzY3JpcHRFbGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbG9hZC1qcy1zY3JpcHQnKTtcclxuICAgICAgICAkc2NyaXB0RWxlbS5zcmMgPSBzcmM7XHJcbiAgICAgICAgJHNjcmlwdEVsZW0ub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhZGRDYWxsYmFjayhzcmMsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZWRTY3JpcHQgPSBhbGxTY3JpcHRzW3NyY107XHJcbiAgICAgICAgICAgIGlmICh1cGRhdGVkU2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVkU2NyaXB0Lmhhc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgdGhpc1NvdXJjZSBpbiBhbGxTY3JpcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1NjcmlwdCA9IGFsbFNjcmlwdHNbdGhpc1NvdXJjZV0gfHwgZGVmYXVsdFNjcmlwdDtcclxuICAgICAgICAgICAgICAgIHRoaXNTY3JpcHQuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7IHJldHVybiBjYigpOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCgkc2NyaXB0RWxlbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhZGRDYWxsYmFjayhzcmMsIGNhbGxiYWNrKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBsb2FkSlM7XHJcbiIsImltcG9ydCBEcmlmdG9yeSBmcm9tICcuLi9saWJyYXJ5L2RyaWZ0b3J5JztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyaWZ0b3J5LXZpZXdlci1jb250YWluZXInKSBhcyBIVE1MRGl2RWxlbWVudCB8IG51bGw7XG4gIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0LWJ1dHRvbicpO1xuICBjb25zdCBlbmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZW5kLWJ1dHRvbicpO1xuICBjb25zdCBwcmV2aW91c0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcmV2aW91cy1idXR0b24nKTtcbiAgY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ1dHRvbicpO1xuICBjb25zdCBoaWRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZGUtYnV0dG9uJyk7XG4gIGNvbnN0IGZyYW1lSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mcmFtZS1pbmZvJyk7XG5cbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDYW5ub3QgZmluZCB2aWV3ZXIgY29udGFpbmVyJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZHJpZnRvcnkgPSBuZXcgRHJpZnRvcnkoe1xuICAgIGNvbnRhaW5lcixcbiAgICBwcmVmaXhVcmw6ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL29wZW5zZWFkcmFnb25AMi40L2J1aWxkL29wZW5zZWFkcmFnb24vaW1hZ2VzLycsXG4gICAgb25Db21pY0xvYWQ6ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdsb2FkZWQhJyk7XG4gICAgfSxcbiAgICBvbkZyYW1lQ2hhbmdlOiAoeyBmcmFtZUluZGV4ID0gMCwgaXNMYXN0RnJhbWUgfSkgPT4ge1xuICAgICAgaWYgKGZyYW1lSW5mbykge1xuICAgICAgICBsZXQgdGV4dCA9IGBGcmFtZSAke2ZyYW1lSW5kZXggKyAxfWA7XG4gICAgICAgIGlmIChpc0xhc3RGcmFtZSkge1xuICAgICAgICAgIHRleHQgKz0gJyAobGFzdCBmcmFtZSEpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lSW5mby50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBzdGFydEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZHJpZnRvcnkuZ29Ub0ZyYW1lKDApO1xuICB9KTtcblxuICBlbmRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRyaWZ0b3J5LmdvVG9GcmFtZShkcmlmdG9yeS5nZXRGcmFtZUNvdW50KCkgLSAxKTtcbiAgfSk7XG5cbiAgcHJldmlvdXNCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRyaWZ0b3J5LmdvVG9QcmV2aW91c0ZyYW1lKCk7XG4gIH0pO1xuXG4gIG5leHRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRyaWZ0b3J5LmdvVG9OZXh0RnJhbWUoKTtcbiAgfSk7XG5cbiAgaGlkZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGUnKTtcbiAgfSk7XG5cbiAgZmV0Y2goJ2NvbWljLmpzb24nKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBjb21pYy5qc29uJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coanNvbik7XG4gICAgICBkcmlmdG9yeS5vcGVuQ29taWMoanNvbik7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yKSk7XG59KTtcbiIsImltcG9ydCBsb2FkSnMgZnJvbSAnQGRhbjUwMy9sb2FkLWpzJztcbmltcG9ydCB7IENvbWljIH0gZnJvbSAnLi9Db21pYy50eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL0NvbWljLnR5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vb3BlbnNlYWRyYWdvbi50eXBlcyc7XG5pbXBvcnQgeyBPcGVuU2VhZHJhZ29uVHlwZSwgVmlld2VyVHlwZSB9IGZyb20gJy4vb3BlbnNlYWRyYWdvbi50eXBlcyc7XG5cbmludGVyZmFjZSBPc2RSZXF1ZXN0IHtcbiAgcmVzb2x2ZTogKHZhbHVlPzogdW5rbm93bikgPT4gdm9pZDtcbiAgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xufVxuXG5sZXQgT3BlblNlYWRyYWdvbjogT3BlblNlYWRyYWdvblR5cGUgfCB1bmRlZmluZWQ7XG5sZXQgb3NkUmVxdWVzdDogT3NkUmVxdWVzdCB8IHVuZGVmaW5lZDtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBPcGVuU2VhZHJhZ29uOiBPcGVuU2VhZHJhZ29uVHlwZTtcbiAgfVxufVxuXG5jb25zdCBvc2RQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICBvc2RSZXF1ZXN0ID0geyByZXNvbHZlLCByZWplY3QgfTtcbn0pO1xuXG50eXBlIEZyYW1lID0gYW55O1xudHlwZSBDb250YWluZXIgPSBIVE1MRWxlbWVudDtcbnR5cGUgT25GcmFtZUNoYW5nZSA9IChwYXJhbXM6IHsgZnJhbWVJbmRleDogbnVtYmVyOyBpc0xhc3RGcmFtZTogYm9vbGVhbiB9KSA9PiB2b2lkO1xudHlwZSBPbkNvbWljTG9hZCA9IChwYXJhbXM6IHt9KSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgRHJpZnRvcnlBcmd1bWVudHMge1xuICBjb250YWluZXI6IENvbnRhaW5lcjtcbiAgb25GcmFtZUNoYW5nZT86IE9uRnJhbWVDaGFuZ2U7XG4gIG9uQ29taWNMb2FkPzogT25Db21pY0xvYWQ7XG4gIHByZWZpeFVybD86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJpZnRvcnkge1xuICBjb250YWluZXI6IENvbnRhaW5lcjtcbiAgb25GcmFtZUNoYW5nZTogT25GcmFtZUNoYW5nZTtcbiAgb25Db21pY0xvYWQ6IE9uQ29taWNMb2FkO1xuICBmcmFtZXM6IEFycmF5PEZyYW1lPiA9IFtdO1xuICBmcmFtZUluZGV4OiBudW1iZXIgPSAtMTtcbiAgbGFzdFNjcm9sbFRpbWU6IG51bWJlciA9IDA7XG4gIHNjcm9sbERlbGF5OiBudW1iZXIgPSAyMDAwO1xuICB2aWV3ZXI/OiBWaWV3ZXJUeXBlO1xuXG4gIC8vIC0tLS0tLS0tLS1cbiAgY29uc3RydWN0b3IoYXJnczogRHJpZnRvcnlBcmd1bWVudHMpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGFyZ3MuY29udGFpbmVyO1xuICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IGFyZ3Mub25GcmFtZUNoYW5nZSB8fCBmdW5jdGlvbiAoKSB7fTtcbiAgICB0aGlzLm9uQ29taWNMb2FkID0gYXJncy5vbkNvbWljTG9hZCB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE5vdGU6IGxvYWRKcyBvbmx5IGxvYWRzIHRoZSBmaWxlIG9uY2UsIGV2ZW4gaWYgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBhbmQgYWx3YXlzIG1ha2VzIHN1cmVcbiAgICAvLyBhbGwgb2YgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxuICAgIGxvYWRKcyhcbiAgICAgICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL29wZW5zZWFkcmFnb25AMi40L2J1aWxkL29wZW5zZWFkcmFnb24vb3BlbnNlYWRyYWdvbi5taW4uanMnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBPcGVuU2VhZHJhZ29uID0gd2luZG93Lk9wZW5TZWFkcmFnb247XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoYXJncyk7XG4gICAgICAgIG9zZFJlcXVlc3Q/LnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLVxuICBfaW5pdGlhbGl6ZSh7IGNvbnRhaW5lciwgcHJlZml4VXJsIH06IERyaWZ0b3J5QXJndW1lbnRzKSB7XG4gICAgdGhpcy52aWV3ZXIgPVxuICAgICAgT3BlblNlYWRyYWdvbiAmJlxuICAgICAgT3BlblNlYWRyYWdvbih7XG4gICAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgcHJlZml4VXJsOiBwcmVmaXhVcmwsXG4gICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG4gICAgICAgIG1heFpvb21QaXhlbFJhdGlvOiAxMCxcbiAgICAgICAgZ2VzdHVyZVNldHRpbmdzTW91c2U6IHtcbiAgICAgICAgICBjbGlja1RvWm9vbTogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBpZiAodGhpcy52aWV3ZXIpIHtcbiAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1jbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWV2ZW50IHx8ICFldmVudC5xdWljayB8fCAhZXZlbnQucG9zaXRpb24gfHwgIXRoaXMudmlld2VyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5wb2ludEZyb21QaXhlbChldmVudC5wb3NpdGlvbik7XG4gICAgICAgIGxldCBmb3VuZEluZGV4ID0gLTE7XG4gICAgICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1Db3VudCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbUNvdW50OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SXRlbUF0KGkpO1xuICAgICAgICAgIGlmIChpdGVtLmdldEJvdW5kcygpLmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICBmb3VuZEluZGV4ID0gaTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICBjb25zdCByZWFsRnJhbWVJbmRleCA9IHRoaXMuX2ZpZ3VyZUZyYW1lSW5kZXgodHJ1ZSk7XG4gICAgICAgICAgaWYgKHJlYWxGcmFtZUluZGV4ID09PSAtMSAmJiB0aGlzLmZyYW1lSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5nb1RvRnJhbWUodGhpcy5mcmFtZUluZGV4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nb1RvTmV4dEZyYW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZvdW5kSW5kZXggPT09IHRoaXMuZnJhbWVJbmRleCkge1xuICAgICAgICAgIHRoaXMuZ29Ub05leHRGcmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZ29Ub0ZyYW1lKGZvdW5kSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgb3JpZ2luYWxTY3JvbGxIYW5kbGVyID0gdGhpcy52aWV3ZXIuaW5uZXJUcmFja2VyLnNjcm9sbEhhbmRsZXI7XG4gICAgICB0aGlzLnZpZXdlci5pbm5lclRyYWNrZXIuc2Nyb2xsSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5jdHJsS2V5IHx8XG4gICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5hbHRLZXkgfHxcbiAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2Nyb2xsSGFuZGxlci5jYWxsKHRoaXMudmlld2VyPy5pbm5lclRyYWNrZXIsIGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGV2ZW50LnNjcm9sbCwgbm93LCBub3cgLSB0aGlzLmxhc3RTY3JvbGxUaW1lKTtcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdFNjcm9sbFRpbWUgPCB0aGlzLnNjcm9sbERlbGF5KSB7XG4gICAgICAgICAgLy8gUmV0dXJuaW5nIGZhbHNlIHN0b3BzIHRoZSBicm93c2VyIGZyb20gc2Nyb2xsaW5nIGl0c2VsZi5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxhc3RTY3JvbGxUaW1lID0gbm93O1xuICAgICAgICBpZiAoZXZlbnQuc2Nyb2xsIDwgMCkge1xuICAgICAgICAgIHRoaXMuZ29Ub05leHRGcmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZ29Ub1ByZXZpb3VzRnJhbWUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJldHVybmluZyBmYWxzZSBzdG9wcyB0aGUgYnJvd3NlciBmcm9tIHNjcm9sbGluZyBpdHNlbGYuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5hbHRLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICB0aGlzLmdvVG9OZXh0RnJhbWUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93VXAnKSB7XG4gICAgICAgICAgdGhpcy5nb1RvUHJldmlvdXNGcmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb3BlbkNvbWljKHVuc2FmZUNvbWljOiBDb21pYyB8IHN0cmluZykge1xuICAgIGlmICh0aGlzLmZyYW1lcy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdDdXJyZW50bHkgdGhlIERyaWZ0b3J5IHZpZXdlciBpcyBub3Qgc2V0IHVwIHRvIGxvYWQgYSBzZWNvbmQgY29taWMgYWZ0ZXIgdGhlIGZpcnN0LidcbiAgICAgICk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvbWljIH0gPVxuICAgICAgdHlwZW9mIHVuc2FmZUNvbWljID09PSAnc3RyaW5nJyA/IChKU09OLnBhcnNlKHVuc2FmZUNvbWljKSBhcyBDb21pYykgOiB1bnNhZmVDb21pYztcblxuICAgIG9zZFByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb21pYy5ib2R5LmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICAgIGlmIChjb21pYy5ib2R5LmZyYW1lcykge1xuICAgICAgICAgIHRoaXMuZnJhbWVzID0gY29taWMuYm9keS5mcmFtZXMubWFwKChmcmFtZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgT3BlblNlYWRyYWdvbiAmJlxuICAgICAgICAgICAgICBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KFxuICAgICAgICAgICAgICAgIGZyYW1lLnggLSBmcmFtZS53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgZnJhbWUueSAtIGZyYW1lLmhlaWdodCAvIDIsXG4gICAgICAgICAgICAgICAgZnJhbWUud2lkdGgsXG4gICAgICAgICAgICAgICAgZnJhbWUuaGVpZ2h0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5mcmFtZXMgPSBjb21pYy5ib2R5Lml0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgT3BlblNlYWRyYWdvbiAmJlxuICAgICAgICAgICAgICBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KFxuICAgICAgICAgICAgICAgIGl0ZW0ueCAtIGl0ZW0ud2lkdGggLyAyLFxuICAgICAgICAgICAgICAgIGl0ZW0ueSAtIGl0ZW0uaGVpZ2h0IC8gMixcbiAgICAgICAgICAgICAgICBpdGVtLndpZHRoLFxuICAgICAgICAgICAgICAgIGl0ZW0uaGVpZ2h0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb21pYy5ib2R5Lml0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICB2YXIgc3VjY2VzcztcblxuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBzdWNjZXNzID0gKCkgPT4gdGhpcy5fc3RhcnRDb21pYygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMudmlld2VyPy5hZGRUaWxlZEltYWdlKHtcbiAgICAgICAgICAgIHg6IGl0ZW0ueCAtIGl0ZW0ud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogaXRlbS55IC0gaXRlbS5oZWlnaHQgLyAyLFxuICAgICAgICAgICAgd2lkdGg6IGl0ZW0ud2lkdGgsXG4gICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgdGlsZVNvdXJjZToge1xuICAgICAgICAgICAgICB0eXBlOiAnbGVnYWN5LWltYWdlLXB5cmFtaWQnLFxuICAgICAgICAgICAgICBsZXZlbHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IGl0ZW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IGl0ZW0uaGVpZ2h0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gLS0tLS0tLS0tLVxuICBfc3RhcnRDb21pYygpIHtcbiAgICBjb25zdCBmcmFtZUhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICBjb25zdCBmcmFtZUluZGV4ID0gdGhpcy5fZmlndXJlRnJhbWVJbmRleChmYWxzZSk7XG4gICAgICBpZiAoZnJhbWVJbmRleCAhPT0gLTEgJiYgZnJhbWVJbmRleCAhPT0gdGhpcy5mcmFtZUluZGV4KSB7XG4gICAgICAgIHRoaXMuZnJhbWVJbmRleCA9IGZyYW1lSW5kZXg7XG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcbiAgICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2Uoe1xuICAgICAgICAgICAgZnJhbWVJbmRleCxcbiAgICAgICAgICAgIGlzTGFzdEZyYW1lOiBmcmFtZUluZGV4ID09PSB0aGlzLmdldEZyYW1lQ291bnQoKSAtIDFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmdvVG9GcmFtZSgwKTtcblxuICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgdGhpcy52aWV3ZXIuYWRkSGFuZGxlcignem9vbScsIGZyYW1lSGFuZGxlcik7XG4gICAgICB0aGlzLnZpZXdlci5hZGRIYW5kbGVyKCdwYW4nLCBmcmFtZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9uQ29taWNMb2FkKSB7XG4gICAgICB0aGlzLm9uQ29taWNMb2FkKHt9KTtcbiAgICB9XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tXG4gIGdvVG9GcmFtZShpbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuZ2V0RnJhbWVJbmRleCgpICE9PSBpbmRleCkge1xuICAgICAgdmFyIGZyYW1lID0gdGhpcy5mcmFtZXNbaW5kZXhdO1xuICAgICAgdmFyIGJ1ZmZlckZhY3RvciA9IDAuMjtcbiAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICB2YXIgYm94ID0gZnJhbWUuY2xvbmUoKTtcblxuICAgICAgICBib3gud2lkdGggKj0gMSArIGJ1ZmZlckZhY3RvcjtcbiAgICAgICAgYm94LmhlaWdodCAqPSAxICsgYnVmZmVyRmFjdG9yO1xuICAgICAgICBib3gueCAtPSBmcmFtZS53aWR0aCAqIGJ1ZmZlckZhY3RvciAqIDAuNTtcbiAgICAgICAgYm94LnkgLT0gZnJhbWUuaGVpZ2h0ICogYnVmZmVyRmFjdG9yICogMC41O1xuXG4gICAgICAgIHRoaXMudmlld2VyPy52aWV3cG9ydC5maXRCb3VuZHMoYm94KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tXG4gIGdldEZyYW1lSW5kZXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWVJbmRleDtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS1cbiAgX2ZpZ3VyZUZyYW1lSW5kZXgoY3VycmVudDogYm9vbGVhbikge1xuICAgIGxldCBiZXN0SW5kZXggPSAtMTtcbiAgICBsZXQgYmVzdERpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICBjb25zdCB2aWV3cG9ydEJvdW5kcyA9IHRoaXMudmlld2VyLnZpZXdwb3J0LmdldEJvdW5kcyhjdXJyZW50KTtcbiAgICAgIGNvbnN0IHZpZXdwb3J0Q2VudGVyID0gdmlld3BvcnRCb3VuZHMuZ2V0Q2VudGVyKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmZyYW1lc1tpXTtcbiAgICAgICAgaWYgKGZyYW1lLmNvbnRhaW5zUG9pbnQodmlld3BvcnRDZW50ZXIpKSB7XG4gICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB2aWV3cG9ydENlbnRlci5zcXVhcmVkRGlzdGFuY2VUbyhmcmFtZS5nZXRDZW50ZXIoKSk7XG4gICAgICAgICAgaWYgKGRpc3RhbmNlIDwgYmVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICBiZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgIGJlc3RJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiZXN0SW5kZXg7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0tXG4gIGdldEZyYW1lQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWVzLmxlbmd0aDtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS1cbiAgZ29Ub05leHRGcmFtZSgpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmdldEZyYW1lSW5kZXgoKTtcbiAgICBpZiAoaW5kZXggPCB0aGlzLmZyYW1lcy5sZW5ndGggLSAxKSB7XG4gICAgICB0aGlzLmdvVG9GcmFtZShpbmRleCArIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS1cbiAgZ29Ub1ByZXZpb3VzRnJhbWUoKSB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5nZXRGcmFtZUluZGV4KCk7XG4gICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgdGhpcy5nb1RvRnJhbWUoaW5kZXggLSAxKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIFR5cGUgZGVmaW5pdGlvbnMgaXMgYSBtYW51YWwgY29weSBvZiBAdHlwZXMvb3BlbnNlYWRyYWdvblxuXG4vLyBUeXBlIGRlZmluaXRpb25zIGZvciBPcGVuU2VhZHJhZ29uIDIuNFxuLy8gUHJvamVjdDogaHR0cHM6Ly9vcGVuc2VhZHJhZ29uLmdpdGh1Yi5pby9cbi8vIERlZmluaXRpb25zIGJ5OiAgw4FsdmFybyBNYXJ0w61uZXogPGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm9tYXJ0bWFydD5cbi8vICAgICAgICAgICAgICAgICAgUm9iZXJ0WW9zdCA8aHR0cHM6Ly9naXRodWIuY29tL1JvYmVydFlvc3Q+XG4vLyAgICAgICAgICAgICAgICAgIEphc3BlciBTdGFhYiA8aHR0cHM6Ly9naXRodWIuY29tL2pzdGFhYj5cbi8vICAgICAgICAgICAgICAgICAgS3Jpc3RpbiBSdWJlbiA8aHR0cHM6Ly9naXRodWIuY29tL2tyaXN0aW5ydWJlbj5cbi8vICAgICAgICAgICAgICAgICAgR2VvZmYgSGFycGVyIDxodHRwczovL2dpdGh1Yi5jb20vZ2VvZmYtaGFycGVyPlxuLy8gICAgICAgICAgICAgICAgICBKdXN0aW4gPGh0dHBzOi8vZ2l0aHViLmNvbS9qdXN0aW5jeT5cbi8vICAgICAgICAgICAgICAgICAgUGV0ZXIgQmxhemVqZXdpY3ogPGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRlcmJsYXplamV3aWN6PlxuLy8gRGVmaW5pdGlvbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm9tYXJ0bWFydC90eXBlcy1vcGVuc2VhZHJhZ29uXG4vLyBUeXBlU2NyaXB0IFZlcnNpb246IDMuMVxuZGVjbGFyZSBuYW1lc3BhY2UgT3BlblNlYWRyYWdvbiB7XG4gIGNsYXNzIEJyb3dzZXIge1xuICAgIHZlbmRvcjogQlJPV1NFUlM7XG4gICAgdmVyc2lvbjogbnVtYmVyO1xuICAgIGFscGhhOiBib29sZWFuO1xuICB9XG5cbiAgZW51bSBCUk9XU0VSUyB7XG4gICAgVU5LTk9XTiA9IDAsXG4gICAgSUUgPSAxLFxuICAgIEZJUkVGT1ggPSAyLFxuICAgIFNBRkFSSSA9IDMsXG4gICAgQ0hST01FID0gNCxcbiAgICBPUEVSQSA9IDVcbiAgfVxuXG4gIGVudW0gQnV0dG9uU3RhdGUge1xuICAgIFJFU1QsXG4gICAgR1JPVVAsXG4gICAgSE9WRVIsXG4gICAgRE9XTlxuICB9XG5cbiAgZW51bSBDb250cm9sQW5jaG9yIHtcbiAgICBOT05FLFxuICAgIFRPUF9MRUZULFxuICAgIFRPUF9SSUdIVCxcbiAgICBCT1RUT01fTEVGVCxcbiAgICBCT1RUT01fUklHSFQsXG4gICAgQUJTT0xVVEVcbiAgfVxuXG4gIGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE9wdGlvbnM7XG5cbiAgY29uc3QgZnVsbFNjcmVlbkFwaToge1xuICAgIHN1cHBvcnRzRnVsbFNjcmVlbjogYm9vbGVhbjtcbiAgICBpc0Z1bGxTY3JlZW46ICgpID0+IGJvb2xlYW47XG4gICAgZ2V0RnVsbFNjcmVlbkVsZW1lbnQ6ICgpID0+IEhUTUxFbGVtZW50O1xuICAgIHJlcXVlc3RGdWxsU2NyZWVuOiAoKSA9PiB2b2lkO1xuICAgIGV4aXRGdWxsU2NyZWVuOiAoKSA9PiB2b2lkO1xuICAgIGNhbmNlbEZ1bGxTY3JlZW46ICgpID0+IHZvaWQ7XG4gICAgZnVsbFNjcmVlbkV2ZW50TmFtZTogc3RyaW5nO1xuICAgIGZ1bGxTY3JlZW5FcnJvckV2ZW50TmFtZTogc3RyaW5nO1xuICB9O1xuXG4gIGVudW0gT3ZlcmxheVBsYWNlbWVudCB7XG4gICAgQ0VOVEVSLFxuICAgIFRPUF9MRUZULFxuICAgIFRPUCxcbiAgICBUT1BfUklHSFQsXG4gICAgUklHSFQsXG4gICAgQk9UVE9NX1JJR0hULFxuICAgIEJPVFRPTSxcbiAgICBCT1RUT01fTEVGVCxcbiAgICBMRUZUXG4gIH1cblxuICBlbnVtIE92ZXJsYXlSb3RhdGlvbk1vZGUge1xuICAgIE5PX1JPVEFUSU9OLFxuICAgIEVYQUNULFxuICAgIEJPVU5ESU5HX0JPWFxuICB9XG5cbiAgbGV0IHBpeGVsRGVuc2l0eVJhdGlvOiBudW1iZXI7XG5cbiAgZW51bSBQbGFjZW1lbnQge1xuICAgIENFTlRFUixcbiAgICBUT1BfTEVGVCxcbiAgICBUT1AsXG4gICAgVE9QX1JJR0hULFxuICAgIFJJR0hULFxuICAgIEJPVFRPTV9SSUdIVCxcbiAgICBCT1RUT00sXG4gICAgQk9UVE9NX0xFRlQsXG4gICAgTEVGVFxuICB9XG5cbiAgbGV0IHN1cHBvcnRzQ2FudmFzOiBib29sZWFuO1xuXG4gIGxldCB2ZXJzaW9uOiB7XG4gICAgdmVyc2lvblN0cjogc3RyaW5nO1xuICAgIG1ham9yOiBudW1iZXI7XG4gICAgbWlub3I6IG51bWJlcjtcbiAgICByZXZpc2lvbjogbnVtYmVyO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcsIGNsYXNzTmFtZTogc3RyaW5nKTogdm9pZDtcblxuICBmdW5jdGlvbiBhZGRFdmVudChcbiAgICBlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nLFxuICAgIGV2ZW50TmFtZTogc3RyaW5nLFxuICAgIGhhbmRsZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQsXG4gICAgdXNlQ2FwdHVyZT86IGJvb2xlYW5cbiAgKTogdm9pZDtcblxuICBmdW5jdGlvbiBjYW5jZWxFdmVudChldmVudD86IE9TREV2ZW50PGFueT4pOiB2b2lkO1xuXG4gIGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcih2YWx1ZTogc3RyaW5nKTogc3RyaW5nO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKFxuICAgIG9iamVjdDogb2JqZWN0LFxuICAgIG1ldGhvZDogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLFxuICAgIC4uLmFyZ3M6IGFueVtdXG4gICk6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuICBmdW5jdGlvbiBkZWxlZ2F0ZShcbiAgICBvYmplY3Q6IG9iamVjdCxcbiAgICBtZXRob2Q6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZFxuICApOiAob2JqZWN0OiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkOyAvLyBSRVZJRVc6IHVuc3VyZSBvZiByZXR1cm4gdHlwZVxuXG4gIGZ1bmN0aW9uIGV4dGVuZCgpOiBhbnk7XG5cbiAgZnVuY3Rpb24gZ2V0Q3NzUHJvcGVydHlXaXRoVmVuZG9yUHJlZml4KHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmc7XG5cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudChlbGVtZW50OiBzdHJpbmcgfCBFbGVtZW50KTogRWxlbWVudDtcblxuICBmdW5jdGlvbiBnZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcpOiBQb2ludDtcblxuICBmdW5jdGlvbiBnZXRFbGVtZW50UG9zaXRpb24oZWxlbWVudDogRWxlbWVudCB8IHN0cmluZyk6IFBvaW50O1xuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRTaXplKGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcpOiBQb2ludDtcblxuICBmdW5jdGlvbiBnZXRFbGVtZW50U3R5bGUoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZyk6IGFueTsgLy8gQ1NTU3R5bGU/XG5cbiAgZnVuY3Rpb24gZ2V0TW91c2VQb3NpdGlvbihldmVudD86IE9TREV2ZW50PGFueT4pOiBQb2ludDtcblxuICBmdW5jdGlvbiBnZXRQYWdlU2Nyb2xsKCk6IFBvaW50O1xuXG4gIGZ1bmN0aW9uIGdldFN0cmluZyhwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nO1xuXG4gIGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihrZXk6IHN0cmluZyk6IHN0cmluZztcblxuICBmdW5jdGlvbiBnZXRXaW5kb3dTaXplKCk6IFBvaW50O1xuXG4gIGZ1bmN0aW9uIGltYWdlRm9ybWF0U3VwcG9ydGVkKGV4dGVuc2lvbj86IHN0cmluZyk6IGJvb2xlYW47XG5cbiAgZnVuY3Rpb24gaW5kZXhPZihhcnJheTogYW55W10sIHNlYXJjaEVsZW1lbnQ6IG9iamVjdCwgZnJvbUluZGV4PzogbnVtYmVyKTogbnVtYmVyO1xuXG4gIC8vIChtaXNzaW5nIGpxdWVyeSBmdW5jdGlvbnMpXG5cbiAgZnVuY3Rpb24gbWFrZUFqYXhSZXF1ZXN0KG9wdGlvbnM6IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBzdWNjZXNzOiAob2JqOiBvYmplY3QpID0+IHZvaWQ7XG4gICAgZXJyb3I6IChvYmo6IG9iamVjdCkgPT4gdm9pZDtcbiAgICBoZWFkZXJzOiBvYmplY3Q7XG4gICAgcmVzcG9uc2VUeXBlOiBzdHJpbmc7XG4gICAgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcbiAgfSk6IFhNTEh0dHBSZXF1ZXN0O1xuXG4gIGZ1bmN0aW9uIG1ha2VDZW50ZXJlZE5vZGUoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZyk6IEVsZW1lbnQ7XG5cbiAgZnVuY3Rpb24gbWFrZU5ldXRyYWxFbGVtZW50KHRhZ05hbWU6IHN0cmluZyk6IEVsZW1lbnQ7XG5cbiAgZnVuY3Rpb24gbWFrZVRyYW5zcGFyZW50SW1hZ2Uoc3JjOiBzdHJpbmcpOiBFbGVtZW50O1xuXG4gIGZ1bmN0aW9uIG5vdygpOiBudW1iZXI7XG5cbiAgZnVuY3Rpb24gcGFyc2VKU09OKHN0cmluZzogc3RyaW5nKTogb2JqZWN0O1xuXG4gIGZ1bmN0aW9uIHBhcnNlWG1sKHN0cmluZzogc3RyaW5nKTogRG9jdW1lbnQ7XG5cbiAgZnVuY3Rpb24gcG9pbnRJbkVsZW1lbnQoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZywgcG9pbnQ6IFBvaW50KTogYm9vbGVhbjtcblxuICBmdW5jdGlvbiBwb3NpdGl2ZU1vZHVsbyhudW1iZXI6IG51bWJlciwgbW9kdWxvOiBudW1iZXIpOiBudW1iZXI7XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkO1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcsXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXG4gICAgaGFuZGxlcjogRXZlbnRIYW5kbGVyPGFueT4sXG4gICAgdXNlQ2FwdHVyZT86IGJvb2xlYW5cbiAgKTogdm9pZDtcblxuICBmdW5jdGlvbiBzZXRFbGVtZW50T3BhY2l0eShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nLCBvcGFjaXR5OiBudW1iZXIsIHVzZXNBbHBoYT86IGJvb2xlYW4pOiB2b2lkO1xuXG4gIGZ1bmN0aW9uIHNldEVsZW1lbnRUb3VjaEFjdGlvbk5vbmUoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZyk6IHZvaWQ7XG5cbiAgZnVuY3Rpb24gc2V0UGFnZVNjcm9sbChwb2ludDogUG9pbnQpOiB2b2lkO1xuXG4gIGZ1bmN0aW9uIHNldFN0cmluZyhwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZDtcblxuICBmdW5jdGlvbiBzdG9wRXZlbnQoZXZlbnQ/OiBPU0RFdmVudDxhbnk+KTogdm9pZDtcblxuICBpbnRlcmZhY2UgR2VzdHVyZVNldHRpbmdzIHtcbiAgICBzY3JvbGxUb1pvb20/OiBib29sZWFuO1xuICAgIGNsaWNrVG9ab29tPzogYm9vbGVhbjtcbiAgICBkYmxDbGlja1RvWm9vbT86IGJvb2xlYW47XG4gICAgcGluY2hUb1pvb20/OiBib29sZWFuO1xuICAgIGZsaWNrRW5hYmxlZD86IGJvb2xlYW47XG4gICAgZmxpY2tNaW5TcGVlZD86IG51bWJlcjtcbiAgICBmbGlja01vbWVudHVtPzogbnVtYmVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIE5hdkltYWdlc1ZhbHVlcyB7XG4gICAgUkVTVDogc3RyaW5nO1xuICAgIEdST1VQOiBzdHJpbmc7XG4gICAgSE9WRVI6IHN0cmluZztcbiAgICBET1dOOiBzdHJpbmc7XG4gIH1cbiAgaW50ZXJmYWNlIE5hdkltYWdlcyB7XG4gICAgem9vbUluOiBOYXZJbWFnZXNWYWx1ZXM7XG4gICAgem9vbU91dDogTmF2SW1hZ2VzVmFsdWVzO1xuICAgIGhvbWU6IE5hdkltYWdlc1ZhbHVlcztcbiAgICBmdWxscGFnZTogTmF2SW1hZ2VzVmFsdWVzO1xuICAgIHJvdGF0ZWxlZnQ6IE5hdkltYWdlc1ZhbHVlcztcbiAgICByb3RhdGVyaWdodDogTmF2SW1hZ2VzVmFsdWVzO1xuICAgIGZsaXA6IE5hdkltYWdlc1ZhbHVlcztcbiAgICBwcmV2aW91czogTmF2SW1hZ2VzVmFsdWVzO1xuICAgIG5leHQ6IE5hdkltYWdlc1ZhbHVlcztcbiAgfVxuXG4gIGludGVyZmFjZSBPcHRpb25zIHtcbiAgICBpZD86IHN0cmluZztcbiAgICBlbGVtZW50PzogSFRNTEVsZW1lbnQ7XG4gICAgdGlsZVNvdXJjZXM/OlxuICAgICAgfCBzdHJpbmdcbiAgICAgIHwgc3RyaW5nW11cbiAgICAgIHwgVGlsZVNvdXJjZVtdXG4gICAgICB8IFRpbGVTb3VyY2VPcHRpb25zXG4gICAgICB8IHtcbiAgICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICAgICAgbGV2ZWxzOiBBcnJheTx7XG4gICAgICAgICAgICB1cmw6IHN0cmluZztcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyO1xuICAgICAgICAgICAgd2lkdGg6IG51bWJlcjtcbiAgICAgICAgICB9PjtcbiAgICAgICAgfVxuICAgICAgfCB7XG4gICAgICAgICAgSW1hZ2U6IHtcbiAgICAgICAgICAgIHhtbG5zPzogc3RyaW5nO1xuICAgICAgICAgICAgVXJsOiBzdHJpbmc7XG4gICAgICAgICAgICBGb3JtYXQ6IHN0cmluZztcbiAgICAgICAgICAgIE92ZXJsYXA6IHN0cmluZztcbiAgICAgICAgICAgIFRpbGVTaXplOiBzdHJpbmc7XG4gICAgICAgICAgICBTaXplOiB7XG4gICAgICAgICAgICAgIFdpZHRoOiBzdHJpbmc7XG4gICAgICAgICAgICAgIEhlaWdodDogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIHRhYkluZGV4PzogbnVtYmVyO1xuICAgIG92ZXJsYXlzPzogYW55W107XG4gICAgcHJlZml4VXJsPzogc3RyaW5nO1xuICAgIG5hdkltYWdlcz86IE5hdkltYWdlcztcbiAgICBkZWJ1Z01vZGU/OiBib29sZWFuO1xuICAgIGRlYnVnR3JpZENvbG9yPzogc3RyaW5nW107XG4gICAgYmxlbmRUaW1lPzogbnVtYmVyO1xuICAgIGFsd2F5c0JsZW5kPzogYm9vbGVhbjtcbiAgICBhdXRvSGlkZUNvbnRyb2xzPzogYm9vbGVhbjtcbiAgICBpbW1lZGlhdGVSZW5kZXI/OiBib29sZWFuO1xuICAgIGRlZmF1bHRab29tTGV2ZWw/OiBudW1iZXI7XG4gICAgb3BhY2l0eT86IG51bWJlcjtcbiAgICBwcmVsb2FkPzogYm9vbGVhbjtcbiAgICBjb21wb3NpdGVPcGVyYXRpb24/OlxuICAgICAgfCAnc291cmNlLW92ZXInXG4gICAgICB8ICdzb3VyY2UtYXRvcCdcbiAgICAgIHwgJ3NvdXJjZS1pbidcbiAgICAgIHwgJ3NvdXJjZS1vdXQnXG4gICAgICB8ICdkZXN0aW5hdGlvbi1vdmVyJ1xuICAgICAgfCAnZGVzdGluYXRpb24tYXRvcCdcbiAgICAgIHwgJ2Rlc3RpbmF0aW9uLWluJ1xuICAgICAgfCAnZGVzdGluYXRpb24tb3V0J1xuICAgICAgfCAnbGlnaHRlcidcbiAgICAgIHwgJ2NvcHknXG4gICAgICB8ICd4b3InO1xuICAgIHBsYWNlaG9sZGVyRmlsbFN0eWxlPzogc3RyaW5nIHwgQ2FudmFzR3JhZGllbnQgfCBDYW52YXNQYXR0ZXJuO1xuICAgIGRlZ3JlZXM/OiBudW1iZXI7XG4gICAgZmxpcHBlZD86IGJvb2xlYW47XG4gICAgbWluWm9vbUxldmVsPzogbnVtYmVyO1xuICAgIG1heFpvb21MZXZlbD86IG51bWJlcjtcbiAgICBob21lRmlsbHNWaWV3ZXI/OiBib29sZWFuO1xuICAgIHBhbkhvcml6b250YWw/OiBib29sZWFuO1xuICAgIHBhblZlcnRpY2FsPzogYm9vbGVhbjtcbiAgICBjb25zdHJhaW5EdXJpbmdQYW4/OiBib29sZWFuO1xuICAgIHdyYXBIb3Jpem9udGFsPzogYm9vbGVhbjtcbiAgICB3cmFwVmVydGljYWw/OiBib29sZWFuO1xuICAgIG1pblpvb21JbWFnZVJhdGlvPzogbnVtYmVyO1xuICAgIG1heFpvb21QaXhlbFJhdGlvPzogbnVtYmVyO1xuICAgIHNtb290aFRpbGVFZGdlc01pblpvb20/OiBudW1iZXI7XG4gICAgaU9TRGV2aWNlPzogYm9vbGVhbjtcbiAgICBhdXRvUmVzaXplPzogYm9vbGVhbjtcbiAgICBwcmVzZXJ2ZUltYWdlU2l6ZU9uUmVzaXplPzogYm9vbGVhbjtcbiAgICBtaW5TY3JvbGxEZWx0YVRpbWU/OiBudW1iZXI7XG4gICAgcGl4ZWxzUGVyV2hlZWxMaW5lPzogbnVtYmVyO1xuICAgIHBpeGVsc1BlckFycm93UHJlc3M/OiBudW1iZXI7XG4gICAgdmlzaWJpbGl0eVJhdGlvPzogbnVtYmVyO1xuICAgIHZpZXdwb3J0TWFyZ2lucz86IG9iamVjdDtcbiAgICBpbWFnZUxvYWRlckxpbWl0PzogbnVtYmVyO1xuICAgIGNsaWNrVGltZVRocmVzaG9sZD86IG51bWJlcjtcbiAgICBjbGlja0Rpc3RUaHJlc2hvbGQ/OiBudW1iZXI7XG4gICAgZGJsQ2xpY2tUaW1lVGhyZXNob2xkPzogbnVtYmVyO1xuICAgIGRibENsaWNrRGlzdFRocmVzaG9sZD86IG51bWJlcjtcbiAgICBzcHJpbmdTdGlmZm5lc3M/OiBudW1iZXI7XG4gICAgYW5pbWF0aW9uVGltZT86IG51bWJlcjtcbiAgICBnZXN0dXJlU2V0dGluZ3NNb3VzZT86IEdlc3R1cmVTZXR0aW5ncztcbiAgICBnZXN0dXJlU2V0dGluZ3NUb3VjaD86IEdlc3R1cmVTZXR0aW5ncztcbiAgICBnZXN0dXJlU2V0dGluZ3NQZW4/OiBHZXN0dXJlU2V0dGluZ3M7XG4gICAgZ2VzdHVyZVNldHRpbmdzVW5rbm93bj86IEdlc3R1cmVTZXR0aW5ncztcbiAgICB6b29tUGVyQ2xpY2s/OiBudW1iZXI7XG4gICAgem9vbVBlclNjcm9sbD86IG51bWJlcjtcbiAgICB6b29tUGVyU2Vjb25kPzogbnVtYmVyO1xuICAgIHNob3dOYXZpZ2F0b3I/OiBib29sZWFuO1xuICAgIG5hdmlnYXRvcklkPzogc3RyaW5nO1xuICAgIG5hdmlnYXRvclBvc2l0aW9uPzogJ1RPUF9MRUZUJyB8ICdUT1BfUklHSFQnIHwgJ0JPVFRPTV9MRUZUJyB8ICdCT1RUT01fUklHSFQnIHwgJ0FCU09MVVRFJztcbiAgICBuYXZpZ2F0b3JTaXplUmF0aW8/OiBudW1iZXI7XG4gICAgbmF2aWdhdG9yTWFpbnRhaW5TaXplUmF0aW8/OiBib29sZWFuO1xuICAgIG5hdmlnYXRvclRvcD86IG51bWJlciB8IHN0cmluZztcbiAgICBuYXZpZ2F0b3JMZWZ0PzogbnVtYmVyIHwgc3RyaW5nO1xuICAgIG5hdmlnYXRvckhlaWdodD86IG51bWJlciB8IHN0cmluZztcbiAgICBuYXZpZ2F0b3JXaWR0aD86IG51bWJlciB8IHN0cmluZztcbiAgICBuYXZpZ2F0b3JBdXRvUmVzaXplPzogYm9vbGVhbjtcbiAgICBuYXZpZ2F0b3JBdXRvRmFkZT86IGJvb2xlYW47XG4gICAgbmF2aWdhdG9yUm90YXRlPzogYm9vbGVhbjtcbiAgICBuYXZpZ2F0b3JCYWNrZ3JvdW5kPzogc3RyaW5nO1xuICAgIG5hdmlnYXRvck9wYWNpdHk/OiBudW1iZXI7XG4gICAgbmF2aWdhdG9yQm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gICAgbmF2aWdhdG9yRGlzcGxheVJlZ2lvbkNvbG9yPzogc3RyaW5nO1xuICAgIGNvbnRyb2xzRmFkZURlbGF5PzogbnVtYmVyO1xuICAgIGNvbnRyb2xzRmFkZUxlbmd0aD86IG51bWJlcjtcbiAgICBtYXhJbWFnZUNhY2hlQ291bnQ/OiBudW1iZXI7XG4gICAgdGltZW91dD86IG51bWJlcjtcbiAgICB1c2VDYW52YXM/OiBib29sZWFuO1xuICAgIG1pblBpeGVsUmF0aW8/OiBudW1iZXI7XG4gICAgbW91c2VOYXZFbmFibGVkPzogbnVtYmVyO1xuICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbD86IGJvb2xlYW47XG4gICAgbmF2aWdhdGlvbkNvbnRyb2xBbmNob3I/OiBDb250cm9sQW5jaG9yO1xuICAgIHNob3dab29tQ29udHJvbD86IGJvb2xlYW47XG4gICAgc2hvd0hvbWVDb250cm9sPzogYm9vbGVhbjtcbiAgICBzaG93RnVsbFBhZ2VDb250cm9sPzogYm9vbGVhbjtcbiAgICBzaG93Um90YXRpb25Db250cm9sPzogYm9vbGVhbjtcbiAgICBzaG93RmxpcENvbnRyb2w/OiBib29sZWFuO1xuICAgIHNob3dTZXF1ZW5jZUNvbnRyb2w/OiBib29sZWFuO1xuICAgIHNlcXVlbmNlQ29udHJvbEFuY2hvcj86IENvbnRyb2xBbmNob3I7XG4gICAgbmF2UHJldk5leHRXcmFwPzogYm9vbGVhbjtcbiAgICB6b29tSW5CdXR0b24/OiBzdHJpbmc7XG4gICAgem9vbU91dEJ1dHRvbj86IHN0cmluZztcbiAgICBob21lQnV0dG9uPzogc3RyaW5nO1xuICAgIGZ1bGxQYWdlQnV0dG9uPzogc3RyaW5nO1xuICAgIHJvdGF0ZUxlZnRCdXR0b24/OiBzdHJpbmc7XG4gICAgcm90YXRlUmlnaHRCdXR0b24/OiBzdHJpbmc7XG4gICAgcHJldmlvdXNCdXR0b24/OiBzdHJpbmc7XG4gICAgbmV4dEJ1dHRvbj86IHN0cmluZztcbiAgICBzZXF1ZW5jZU1vZGU/OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIElmIHNlcXVlbmNlTW9kZSBpcyB0cnVlLCBkaXNwbGF5IHRoaXMgcGFnZSBpbml0aWFsbHkuXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGluaXRpYWxQYWdlPzogbnVtYmVyO1xuICAgIHByZXNlcnZlVmlld3BvcnQ/OiBib29sZWFuO1xuICAgIHByZXNlcnZlT3ZlcmxheXM/OiBib29sZWFuO1xuICAgIHNob3dSZWZlcmVuY2VTdHJpcD86IGJvb2xlYW47XG4gICAgcmVmZXJlbmNlU3RyaXBTY3JvbGw/OiBzdHJpbmc7XG4gICAgcmVmZXJlbmNlU3RyaXBFbGVtZW50PzogSFRNTEVsZW1lbnQ7XG4gICAgcmVmZXJlbmNlU3RyaXBIZWlnaHQ/OiBudW1iZXI7XG4gICAgcmVmZXJlbmNlU3RyaXBXaWR0aD86IG51bWJlcjtcbiAgICByZWZlcmVuY2VTdHJpcFBvc2l0aW9uPzogc3RyaW5nO1xuICAgIHJlZmVyZW5jZVN0cmlwU2l6ZVJhdGlvPzogbnVtYmVyO1xuICAgIGNvbGxlY3Rpb25Nb2RlPzogYm9vbGVhbjtcbiAgICBjb2xsZWN0aW9uUm93cz86IG51bWJlcjtcbiAgICBjb2xsZWN0aW9uQ29sdW1ucz86IG51bWJlcjtcbiAgICBjb2xsZWN0aW9uTGF5b3V0PzogJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJztcbiAgICBjb2xsZWN0aW9uVGlsZVNpemU/OiBudW1iZXI7XG4gICAgY29sbGVjdGlvblRpbGVNYXJnaW4/OiBudW1iZXI7XG4gICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiAnQW5vbnltb3VzJyB8ICd1c2UtY3JlZGVudGlhbHMnIHwgZmFsc2U7XG4gICAgYWpheFdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47XG4gICAgbG9hZFRpbGVzV2l0aEFqYXg/OiBib29sZWFuO1xuICAgIGFqYXhIZWFkZXJzPzogb2JqZWN0O1xuICAgIGltYWdlU21vb3RoaW5nRW5hYmxlZD86IGJvb2xlYW47XG4gICAgcm90YXRpb25JbmNyZW1lbnQ/OiBudW1iZXI7XG4gIH1cblxuICBpbnRlcmZhY2UgVGlsZVNvdXJjZU9wdGlvbnMge1xuICAgIHVybD86IHN0cmluZztcbiAgICByZWZlcmVuY2VTdHJpcFRodW1ibmFpbFVybD86IHN0cmluZztcbiAgICBzdWNjZXNzPzogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcbiAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcbiAgICBhamF4SGVhZGVycz86IG9iamVjdDtcbiAgICB3aWR0aD86IG51bWJlcjtcbiAgICBoZWlnaHQ/OiBudW1iZXI7XG4gICAgdGlsZVNpemU/OiBudW1iZXI7XG4gICAgdGlsZVdpZHRoPzogbnVtYmVyO1xuICAgIHRpbGVIZWlnaHQ/OiBudW1iZXI7XG4gICAgdGlsZU92ZXJsYXA/OiBudW1iZXI7XG4gICAgbWluTGV2ZWw/OiBudW1iZXI7XG4gICAgbWF4TGV2ZWw/OiBudW1iZXI7XG4gICAgZ2V0VGlsZVVybD86IChsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBzdHJpbmc7XG4gIH1cblxuICBjbGFzcyBCdXR0b24gZXh0ZW5kcyBFdmVudFNvdXJjZSB7XG4gICAgY3VycmVudFN0YXRlOiBCdXR0b25TdGF0ZTtcbiAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgIGZhZGVEZWxheTogbnVtYmVyO1xuICAgIGZhZGVMZW5ndGg6IG51bWJlcjtcbiAgICB0cmFja2VyOiBNb3VzZVRyYWNrZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgICBlbGVtZW50PzogRWxlbWVudDtcbiAgICAgIHRvb2x0aXA/OiBzdHJpbmc7XG4gICAgICBzcmNSZXN0Pzogc3RyaW5nO1xuICAgICAgc3JjR3JvdXA/OiBzdHJpbmc7XG4gICAgICBzcmNIb3Zlcj86IHN0cmluZztcbiAgICAgIHNyY0Rvd24/OiBzdHJpbmc7XG4gICAgICBmYWRlRGVsYXk/OiBudW1iZXI7XG4gICAgICBmYWRlTGVuZ3RoPzogbnVtYmVyO1xuICAgICAgb25QcmVzcz86IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD47XG4gICAgICBvblJlbGVhc2U/OiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+O1xuICAgICAgb25DbGljaz86IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD47XG4gICAgICBvbkVudGVyPzogRXZlbnRIYW5kbGVyPEJ1dHRvbkV2ZW50PjtcbiAgICAgIG9uRXhpdD86IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD47XG4gICAgICBvbkZvY3VzPzogRXZlbnRIYW5kbGVyPEJ1dHRvbkV2ZW50PjtcbiAgICAgIG9uQmx1cj86IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD47XG4gICAgfSk7XG5cbiAgICBhZGRIYW5kbGVyKFxuICAgICAgZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUsXG4gICAgICBoYW5kbGVyOiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+LFxuICAgICAgdXNlckRhdGE/OiBvYmplY3RcbiAgICApOiB2b2lkO1xuICAgIGFkZE9uY2VIYW5kbGVyKFxuICAgICAgZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUsXG4gICAgICBoYW5kbGVyOiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+LFxuICAgICAgdXNlckRhdGE/OiBvYmplY3QsXG4gICAgICB0aW1lcz86IG51bWJlclxuICAgICk6IHZvaWQ7XG4gICAgZGlzYWJsZSgpOiB2b2lkO1xuICAgIGVuYWJsZSgpOiB2b2lkO1xuICAgIGdldEhhbmRsZXIoZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUpOiAoc291cmNlOiBCdXR0b25FdmVudE5hbWUsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuICAgIHJhaXNlRXZlbnQoZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUsIGV2ZW50QXJnczogb2JqZWN0KTogdm9pZDtcbiAgICByZW1vdmVBbGxIYW5kbGVycyhldmVudE5hbWU6IEJ1dHRvbkV2ZW50TmFtZSk6IHZvaWQ7XG4gICAgcmVtb3ZlSGFuZGxlcihldmVudE5hbWU6IEJ1dHRvbkV2ZW50TmFtZSwgaGFuZGxlcjogRXZlbnRIYW5kbGVyPEJ1dHRvbkV2ZW50Pik6IHZvaWQ7XG4gIH1cblxuICBjbGFzcyBCdXR0b25Hcm91cCB7XG4gICAgYnV0dG9uczogQnV0dG9uW107XG4gICAgZWxlbWVudDogRWxlbWVudDtcbiAgICB0cmFja2VyOiBNb3VzZVRyYWNrZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IGJ1dHRvbnM6IEJ1dHRvbltdOyBlbGVtZW50PzogRWxlbWVudCB9KTtcbiAgfVxuXG4gIGludGVyZmFjZSBUQ29udHJvbE9wdGlvbnMge1xuICAgIGFuY2hvcj86IENvbnRyb2xBbmNob3I7XG4gICAgYXR0YWNoVG9WaWV3ZXI/OiBib29sZWFuO1xuICAgIGF1dG9GYWRlPzogYm9vbGVhbjtcbiAgfVxuXG4gIGNsYXNzIENvbnRyb2wge1xuICAgIGFuY2hvcjogQ29udHJvbEFuY2hvcjtcbiAgICBhdXRvRmFkZTogYm9vbGVhbjtcbiAgICBjb250YWluZXI6IEVsZW1lbnQ7XG4gICAgZWxlbWVudDogRWxlbWVudDtcbiAgICB3cmFwcGVyOiBFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgb3B0aW9uczogVENvbnRyb2xPcHRpb25zLCBjb250YWluZXI6IEVsZW1lbnQpO1xuXG4gICAgZGVzdHJveSgpOiB2b2lkO1xuICAgIGlzVmlzaWJsZSgpOiBib29sZWFuO1xuICAgIHNldE9wYWNpdHkob3BhY2l0eTogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pOiB2b2lkO1xuICB9XG5cbiAgY2xhc3MgQ29udHJvbERvY2sge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IG9iamVjdCk7XG5cbiAgICBhZGRDb250cm9sKGVsZW1lbnQ6IENvbnRyb2wsIGNvbnRyb2xPcHRpb25zOiBUQ29udHJvbE9wdGlvbnMpOiB2b2lkO1xuICAgIGFyZUNvbnRyb2xzRW5hYmxlZCgpOiBib29sZWFuO1xuICAgIGNsZWFyQ29udHJvbHMoKTogQ29udHJvbERvY2s7XG4gICAgcmVtb3ZlQ29udHJvbChlbGVtZW50OiBDb250cm9sKTogQ29udHJvbERvY2s7XG4gICAgc2V0Q29udHJvbHNFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBDb250cm9sRG9jaztcbiAgfVxuXG4gIGNsYXNzIERpc3BsYXlSZWN0IGV4dGVuZHMgUmVjdCB7XG4gICAgbWF4TGV2ZWw6IG51bWJlcjtcbiAgICBtaW5MZXZlbDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICBtaW5MZXZlbDogbnVtYmVyLFxuICAgICAgbWF4TGV2ZWw6IG51bWJlclxuICAgICk7XG4gIH1cblxuICBjbGFzcyBEcmF3ZXIge1xuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MRWxlbWVudDtcbiAgICBjb250YWluZXI6IEVsZW1lbnQ7XG4gICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbDtcbiAgICAvLyBlbGVtZW50IDogRWxlbWVudDsgLy8gRGVwcmVjYXRlZFxuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgICAgdmlld2VyOiBWaWV3ZXI7XG4gICAgICB2aWV3cG9ydDogVmlld3BvcnQ7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgZGVidWdHcmlkQ29sb3I/OiBzdHJpbmc7XG4gICAgfSk7XG5cbiAgICBibGVuZFNrZXRjaChvcHRpb25zOiB7XG4gICAgICBvcGFjaXR5OiBudW1iZXI7XG4gICAgICBzY2FsZT86IG51bWJlcjtcbiAgICAgIHRyYW5zbGF0ZT86IFBvaW50O1xuICAgICAgY29tcG9zaXRlT3BlcmF0aW9uPzogc3RyaW5nO1xuICAgICAgYm91bmRzPzogUmVjdDtcbiAgICB9KTogdm9pZDtcbiAgICBjYW5Sb3RhdGUoKTogYm9vbGVhbjtcbiAgICBjbGVhcigpOiB2b2lkO1xuICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICBkcmF3VGlsZShcbiAgICAgIHRpbGU6IFRpbGUsXG4gICAgICBkcmF3aW5nSGFuZGxlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogYW55LCByZW5kZXJlZDogYW55KSA9PiB2b2lkLCAvLyBUT0RPOiBkZXRlcm1pbmUgaGFuZGxlciBwYXJhbWV0ZXIgdHlwZXNcbiAgICAgIHVzZVNrZXRjaDogYm9vbGVhbixcbiAgICAgIHNjYWxlPzogbnVtYmVyLFxuICAgICAgdHJhbnNsYXRlPzogUG9pbnRcbiAgICApOiB2b2lkO1xuICAgIGdldENhbnZhc1NpemUoc2tldGNoOiBib29sZWFuKTogUG9pbnQ7XG4gICAgZ2V0T3BhY2l0eSgpOiBudW1iZXI7XG4gICAgc2V0T3BhY2l0eShvcGFjaXR5OiBudW1iZXIpOiBEcmF3ZXI7XG4gICAgdmlld3BvcnRUb0RyYXdlclJlY3RhbmdsZShyZWN0YW5nbGU6IFJlY3QpOiBSZWN0O1xuICAgIHNldEltYWdlU21vb3RoaW5nRW5hYmxlZChpbWFnZVNtb290aGluZ0VuYWJsZWQ/OiBib29sZWFuKTogdm9pZDtcbiAgICB2aWV3cG9ydENvb3JkVG9EcmF3ZXJDb29yZChwb2ludDogUG9pbnQpOiBQb2ludDtcbiAgICBjbGlwV2l0aFBvbHlnb25zKHBvbHlnb25zOiBQb2ludFtdW10sIHVzZVNrZXRjaD86IGJvb2xlYW4pOiB2b2lkO1xuICB9XG5cbiAgY2xhc3MgRHppVGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgdGlsZVNpemU6IG51bWJlcixcbiAgICAgIHRpbGVPdmVybGFwOiBudW1iZXIsXG4gICAgICB0aWxlc1VybDogbnVtYmVyLFxuICAgICAgZmlsZUZvcm1hdDogbnVtYmVyLFxuICAgICAgZGlzcGxheVJlY3RzOiBudW1iZXIsXG4gICAgICBtaW5MZXZlbDogbnVtYmVyLFxuICAgICAgbWF4TGV2ZWw6IG51bWJlclxuICAgICk7XG4gIH1cblxuICBjbGFzcyBJSUlGVGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFRpbGVTb3VyY2VPcHRpb25zICYgeyB0aWxlRm9ybWF0Pzogc3RyaW5nIH0pO1xuICB9XG5cbiAgY2xhc3MgSW1hZ2VMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHsgam9iTGltaXQ/OiBudW1iZXI7IHRpbWVvdXQ/OiBudW1iZXIgfSk7XG5cbiAgICBhZGRKb2Iob3B0aW9uczoge1xuICAgICAgc3JjPzogc3RyaW5nO1xuICAgICAgbG9hZFdpdGhBamF4Pzogc3RyaW5nO1xuICAgICAgYWpheEhlYWRlcnM/OiBzdHJpbmc7XG4gICAgICBjcm9zc09yaWdpblBvbGljeT86IHN0cmluZyB8IGJvb2xlYW47XG4gICAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcbiAgICAgIGNhbGxiYWNrPzogKCkgPT4gdm9pZDtcbiAgICAgIGFib3J0PzogKCkgPT4gdm9pZDtcbiAgICB9KTogdm9pZDtcbiAgICBjbGVhcigpOiB2b2lkO1xuICB9XG5cbiAgY2xhc3MgSW1hZ2VUaWxlU291cmNlIGV4dGVuZHMgVGlsZVNvdXJjZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgICAgdXJsOiBzdHJpbmc7XG4gICAgICBidWlsZFB5cmFtaWQ/OiBib29sZWFuO1xuICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiBzdHJpbmcgfCBib29sZWFuO1xuICAgICAgYWpheFdpdGhDcmVkZW50aWFscz86IHN0cmluZyB8IGJvb2xlYW47XG4gICAgICB1c2VDYW52YXM/OiBib29sZWFuO1xuICAgIH0pO1xuICB9XG5cbiAgY2xhc3MgTGVnYWN5VGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgbGV2ZWxzPzogQXJyYXk8e1xuICAgICAgICB1cmw6IHN0cmluZztcbiAgICAgICAgd2lkdGg6IG51bWJlcjtcbiAgICAgICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgICB9PlxuICAgICk7XG4gIH1cblxuICBpbnRlcmZhY2UgTW91c2VUcmFja2VyT3B0aW9ucyB7XG4gICAgZWxlbWVudDogRWxlbWVudCB8IHN0cmluZztcbiAgICBzdGFydERpc2FibGVkPzogYm9vbGVhbjtcbiAgICBjbGlja1RpbWVUaHJlc2hvbGQ/OiBudW1iZXI7XG4gICAgY2xpY2tEaXN0VGhyZXNob2xkPzogbnVtYmVyO1xuICAgIGRibENsaWNrVGltZVRocmVzaG9sZD86IG51bWJlcjtcbiAgICBkYmxDbGlja0Rpc3RUaHJlc2hvbGQ/OiBudW1iZXI7XG4gICAgc3RvcERlbGF5PzogbnVtYmVyO1xuICAgIGVudGVySGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBleGl0SGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBwcmVzc0hhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAgbm9uUHJpbWFyeVByZXNzSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICByZWxlYXNlSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBub25QcmltYXJ5UmVsZWFzZUhhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAgbW92ZUhhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAgc2Nyb2xsSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBjbGlja0hhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAgZGJsQ2xpY2tIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xuICAgIGRyYWdIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xuICAgIGRyYWdFbmRIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xuICAgIHBpbmNoSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBrZXlEb3duSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBrZXlVcEhhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAga2V5SGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcbiAgICBmb2N1c0hhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAgYmx1ckhhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XG4gICAgdXNlckRhdGE/OiBvYmplY3Q7XG4gIH1cbiAgY2xhc3MgTW91c2VUcmFja2VyIHtcbiAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IG51bWJlcjtcbiAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IG51bWJlcjtcbiAgICBkYmxDbGlja1RpbWVUaHJlc2hvbGQ6IG51bWJlcjtcbiAgICBkYmxDbGlja0Rpc3RUaHJlc2hvbGQ6IG51bWJlcjtcbiAgICBlbGVtZW50OiBFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTW91c2VUcmFja2VyT3B0aW9ucyk7XG5cbiAgICBibHVySGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIGNsaWNrSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIGRibENsaWNrSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICBkcmFnRW5kSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIGRyYWdIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XG4gICAgZW50ZXJIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XG4gICAgZXhpdEhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBmb2N1c0hhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBnZXRBY3RpdmVQb2ludGVyQ291bnQoKTogbnVtYmVyO1xuICAgIGdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZSh0eXBlOiBzdHJpbmcpOiBHZXN0dXJlUG9pbnRMaXN0O1xuICAgIGdldEFjdGl2ZVBvaW50ZXJzTGlzdHNFeGNlcHRUeXBlKHR5cGU6IHN0cmluZyk6IEdlc3R1cmVQb2ludExpc3RbXTtcbiAgICBrZXlEb3duSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIGtleUhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBrZXlVcEhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBtb3ZlSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIG5vblByaW1hcnlQcmVzc0hhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBub25QcmltYXJ5UmVsZWFzZUhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBwaW5jaEhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBwcmVzc0hhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICByZWxlYXNlSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICAgIHNjcm9sbEhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcbiAgICBzZXRUcmFja2luZyh0cmFjazogYm9vbGVhbik6IGFueTtcbiAgICBzdG9wSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xuICB9XG5cbiAgaW50ZXJmYWNlIEdlc3R1cmVQb2ludCB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgY2FwdHVyZWQ6IGJvb2xlYW47XG4gICAgaXNQcmltYXJ5OiBib29sZWFuO1xuICAgIGluc2lkZUVsZW1lbnRQcmVzc2VkOiBib29sZWFuO1xuICAgIGluc2lkZUVsZW1lbnQ6IGJvb2xlYW47XG4gICAgc3BlZWQ6IG51bWJlcjtcbiAgICBkaXJlY3Rpb246IG51bWJlcjtcbiAgICBjb250YWN0UG9zOiBQb2ludDtcbiAgICBjb250YWN0VGltZTogbnVtYmVyO1xuICAgIGxhc3RQb3M6IFBvaW50O1xuICAgIGxhc3RUaW1lOiBudW1iZXI7XG4gICAgY3VycmVudFBvczogUG9pbnQ7XG4gICAgY3VycmVudFRpbWU6IG51bWJlcjtcbiAgfVxuXG4gIGNsYXNzIEdlc3R1cmVQb2ludExpc3Qge1xuICAgIGJ1dHRvbnM6IEJ1dHRvbltdO1xuICAgIGNhcHR1cmVDb3VudDogbnVtYmVyO1xuICAgIGNsaWNrczogbnVtYmVyO1xuICAgIGNvbnRhY3RzOiBudW1iZXI7XG4gICAgdHlwZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nKTtcblxuICAgIGFkZChnZXN0dXJlUG9pbnQ6IEdlc3R1cmVQb2ludCk6IG51bWJlcjtcbiAgICBhZGRDb250YWN0KCk6IHZvaWQ7XG4gICAgYXNBcnJheSgpOiBHZXN0dXJlUG9pbnRbXTtcbiAgICBnZXRCeUlkKGlkOiBudW1iZXIpOiBHZXN0dXJlUG9pbnQgfCBudWxsO1xuICAgIGdldEJ5SW5kZXgoaW5kZXg6IG51bWJlcik6IEdlc3R1cmVQb2ludCB8IG51bGw7XG4gICAgZ2V0TGVuZ3RoKCk6IG51bWJlcjtcbiAgICBnZXRQcmltYXJ5KCk6IEdlc3R1cmVQb2ludCB8IG51bGw7XG4gICAgcmVtb3ZlQnlJZChpZDogbnVtYmVyKTogbnVtYmVyO1xuICAgIHJlbW92ZUNvbnRhY3QoKTogdm9pZDtcbiAgfVxuXG4gIGNsYXNzIE5hdmlnYXRvciBleHRlbmRzIFZpZXdlciB7XG4gICAgc2V0RmxpcChzdGF0ZTogYm9vbGVhbik6IHZvaWQ7XG4gICAgdXBkYXRlKHZpZXdwb3J0OiBWaWV3cG9ydCk6IHZvaWQ7XG4gICAgdXBkYXRlU2l6ZSgpOiB2b2lkO1xuICAgIHNldFdpZHRoKHdpZHRoOiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkO1xuICAgIHNldEhlaWdodCh3aWR0aDogbnVtYmVyIHwgc3RyaW5nKTogdm9pZDtcbiAgfVxuXG4gIGNsYXNzIE9zbVRpbGVTb3VyY2UgZXh0ZW5kcyBUaWxlU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIHRpbGVTaXplOiBudW1iZXIsXG4gICAgICB0aWxlT3ZlcmxhcDogbnVtYmVyLFxuICAgICAgdGlsZXNVcmw6IHN0cmluZ1xuICAgICk7XG4gIH1cblxuICB0eXBlIE9uRHJhd0NhbGxiYWNrID0gKHBvc2l0aW9uOiBQb2ludCwgc2l6ZTogUG9pbnQsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xuXG4gIGludGVyZmFjZSBPdmVybGF5T3B0aW9ucyB7XG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgbG9jYXRpb246IFBvaW50IHwgUmVjdDtcbiAgICBwbGFjZW1lbnQ/OiBQbGFjZW1lbnQ7XG4gICAgb25EcmF3PzogT25EcmF3Q2FsbGJhY2s7XG4gICAgY2hlY2tSZXNpemU/OiBib29sZWFuO1xuICAgIHdpZHRoPzogbnVtYmVyO1xuICAgIGhlaWdodD86IG51bWJlcjtcbiAgICByb3RhdGlvbk1vZGU/OiBib29sZWFuO1xuICB9XG5cbiAgY2xhc3MgT3ZlcmxheSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3ZlcmxheU9wdGlvbnMpO1xuICAgIGFkanVzdChwb3NpdGlvbjogUG9pbnQsIHNpemU6IFBvaW50KTogdm9pZDtcbiAgICBkZXN0cm95KCk6IHZvaWQ7XG4gICAgZHJhd0hUTUwoY29udGFpbmVyOiBIVE1MRWxlbWVudCk6IHZvaWQ7XG4gICAgZ2V0Qm91bmRzKHZpZXdwb3J0OiBWaWV3cG9ydCk6IFJlY3Q7XG4gICAgdXBkYXRlKGxvY2F0aW9uOiBQb2ludCB8IFJlY3QsIHBsYWNlbWVudDogUGxhY2VtZW50KTogdm9pZDtcbiAgfVxuXG4gIGNsYXNzIFBvaW50IHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKHg/OiBudW1iZXIsIHk/OiBudW1iZXIpO1xuICAgIGFwcGx5KGZ1bmM6ICh2OiBudW1iZXIpID0+IG51bWJlcik6IFBvaW50O1xuICAgIGNsb25lKCk6IFBvaW50O1xuICAgIGRpc3RhbmNlVG8ocG9pbnQ6IFBvaW50KTogbnVtYmVyO1xuICAgIGRpdmlkZShmYWN0b3I6IG51bWJlcik6IFBvaW50O1xuICAgIGVxdWFscyhwb2ludDogUG9pbnQpOiBib29sZWFuO1xuICAgIG1pbnVzKHBvaW50OiBQb2ludCk6IFBvaW50O1xuICAgIG5lZ2F0ZSgpOiBQb2ludDtcbiAgICBwbHVzKHBvaW50OiBQb2ludCk6IFBvaW50O1xuICAgIHJvdGF0ZShkZWdyZWVzOiBudW1iZXIsIHBpdm90PzogUG9pbnQpOiBQb2ludDtcbiAgICBzcXVhcmVkRGlzdGFuY2VUbyhwb2ludDogUG9pbnQpOiBudW1iZXI7XG4gICAgdGltZXMoZmFjdG9yOiBudW1iZXIpOiBSZWN0O1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcbiAgfVxuXG4gIGNsYXNzIFJlY3Qge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICBkZWdyZWVzOiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoeD86IG51bWJlciwgeT86IG51bWJlciwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlciwgZGVncmVlcz86IG51bWJlcik7XG4gICAgY2xvbmUoKTogUmVjdDtcbiAgICBjb250YWluc1BvaW50KHBvaW50OiBQb2ludCwgZXBzaWxvbj86IG51bWJlcik6IGJvb2xlYW47XG4gICAgZXF1YWxzKHJlY3RhbmdsZTogUmVjdCk6IGJvb2xlYW47XG4gICAgZ2V0QXNwZWN0UmF0aW8oKTogbnVtYmVyO1xuICAgIGdldEJvdHRvbUxlZnQoKTogUG9pbnQ7XG4gICAgZ2V0Qm90dG9tUmlnaHQoKTogUG9pbnQ7XG4gICAgZ2V0Qm91bmRpbmdCb3goKTogUmVjdDtcbiAgICBnZXRDZW50ZXIoKTogUG9pbnQ7XG4gICAgZ2V0SW50ZWdlckJvdW5kaW5nQm94KCk6IFJlY3Q7XG4gICAgZ2V0U2l6ZSgpOiBQb2ludDtcbiAgICBnZXRUb3BMZWZ0KCk6IFBvaW50O1xuICAgIGdldFRvcFJpZ2h0KCk6IFBvaW50O1xuICAgIGludGVyc2VjdGlvbihyZWN0OiBSZWN0KTogUmVjdDtcbiAgICByb3RhdGUoZGVncmVlczogbnVtYmVyLCBwaXZvdD86IFJlY3QpOiBSZWN0O1xuICAgIHRpbWVzKGZhY3RvcjogbnVtYmVyKTogUmVjdDtcbiAgICB0b1N0cmluZygpOiBzdHJpbmc7XG4gICAgdHJhbnNsYXRlKGRlbHRhOiBQb2ludCk6IFJlY3Q7XG4gICAgdW5pb24ocmVjdDogUmVjdCk6IFJlY3Q7XG4gIH1cblxuICBjbGFzcyBSZWZlcmVuY2VTdHJpcCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogb2JqZWN0KTtcbiAgICBzZXRGb2N1cygpOiB2b2lkO1xuICAgIHVwZGF0ZSgpOiB2b2lkO1xuICB9XG5cbiAgY2xhc3MgU3ByaW5nIHtcbiAgICBhbmltYXRpb25UaW1lOiBudW1iZXI7XG4gICAgY3VycmVudDoge1xuICAgICAgdmFsdWU6IG51bWJlcjtcbiAgICAgIHRpbWU6IG51bWJlcjtcbiAgICB9O1xuICAgIHNwcmluZ1N0aWZmbmVzczogbnVtYmVyO1xuICAgIHN0YXJ0OiB7XG4gICAgICB2YWx1ZTogbnVtYmVyO1xuICAgICAgdGltZTogbnVtYmVyO1xuICAgIH07XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgICAgc3ByaW5nU3RpZmZuZXNzOiBudW1iZXI7XG4gICAgICBhbmltYXRpb25UaW1lOiBudW1iZXI7XG4gICAgICBpbml0aWFsPzogbnVtYmVyO1xuICAgICAgZXhwb25lbnRpYWw/OiBib29sZWFuO1xuICAgIH0pO1xuICAgIGlzQXRUYXJnZXRWYWx1ZSgpOiBib29sZWFuO1xuICAgIHJlc2V0VG8odGFyZ2V0OiBudW1iZXIpOiB2b2lkO1xuICAgIHNoaWZ0QnkoZGVsdGE6IG51bWJlcik6IHZvaWQ7XG4gICAgc3ByaW5nVG8odGFyZ2V0OiBudW1iZXIpOiB2b2lkO1xuICAgIHVwZGF0ZSgpOiB2b2lkO1xuICB9XG5cbiAgY2xhc3MgVGlsZSB7XG4gICAgYWpheEhlYWRlcnM6IG9iamVjdDtcbiAgICBiZWluZ0RyYXduOiBib29sZWFuO1xuICAgIGJsZW5kU3RhcnQ6IG51bWJlcjtcbiAgICBib3VuZHM6IFJlY3Q7XG4gICAgY2FjaGVLZXk6IHN0cmluZztcbiAgICBjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgIGV4aXN0czogYm9vbGVhbjtcbiAgICBpbWFnZTogb2JqZWN0O1xuICAgIGltZ0VsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgaXNCb3R0b21Nb3N0OiBib29sZWFuO1xuICAgIGlzUmlnaHRNb3N0OiBib29sZWFuO1xuICAgIGxhc3RUb3VjaFRpbWU6IG51bWJlcjtcbiAgICBsZXZlbDogbnVtYmVyO1xuICAgIGxvYWRlZDogYm9vbGVhbjtcbiAgICBsb2FkaW5nOiBib29sZWFuO1xuICAgIGxvYWRXaXRoQWpheDogYm9vbGVhbjtcbiAgICBvcGFjaXR5OiBudW1iZXI7XG4gICAgcG9zaXRpb246IFBvaW50O1xuICAgIHNpemU6IFBvaW50O1xuICAgIHNvdXJjZUJvdW5kczogUmVjdDtcbiAgICBzdHlsZTogc3RyaW5nO1xuICAgIHVybDogc3RyaW5nO1xuICAgIHZpc2liaWxpdHk6IG51bWJlcjtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICBsZXZlbDogbnVtYmVyLFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgYm91bmRzOiBSZWN0LFxuICAgICAgZXhpc3RzOiBib29sZWFuLFxuICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICBjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgIGxvYWRXaXRoQWpheDogYm9vbGVhbixcbiAgICAgIGFqYXhIZWFkZXJzOiBvYmplY3QsXG4gICAgICBzb3VyY2VCb3VuZHM6IFJlY3RcbiAgICApO1xuICAgIGRyYXdDYW52YXMoXG4gICAgICBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgICBkcmF3aW5nSGFuZGxlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogYW55LCByZW5kZXJlZDogYW55KSA9PiB2b2lkLFxuICAgICAgc2NhbGU/OiBudW1iZXIsXG4gICAgICB0cmFuc2xhdGU/OiBQb2ludFxuICAgICk6IHZvaWQ7XG4gICAgZHJhd0hUTUwoY29udGFpbmVyOiBFbGVtZW50KTogdm9pZDtcbiAgICBnZXRTY2FsZUZvckVkZ2VTbW9vdGhpbmcoKTogbnVtYmVyO1xuICAgIGdldFRyYW5zbGF0aW9uRm9yRWRnZVNtb290aGluZyhzY2FsZT86IG51bWJlcik6IFBvaW50O1xuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcbiAgICB1bmxvYWQoKTogdm9pZDtcbiAgfVxuXG4gIGNsYXNzIFRpbGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogeyBtYXhJbWFnZUNhY2hlQ291bnQ/OiBudW1iZXIgfSk7XG4gICAgY2FjaGVUaWxlKG9wdGlvbnM6IHtcbiAgICAgIHRpbGU6IFRpbGU7XG4gICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDsgLy8gVE9ETzogY2hlY2sgdHlwZVxuICAgICAgdGlsZWRJbWFnZTogVGlsZWRJbWFnZTtcbiAgICAgIGN1dG9mZj86IG51bWJlcjtcbiAgICB9KTogdm9pZDtcbiAgICBjbGVhclRpbGVzRm9yKHRpbGVkSW1hZ2U6IFRpbGVkSW1hZ2UpOiB2b2lkO1xuICAgIG51bVRpbGVzTG9hZGVkKCk6IG51bWJlcjtcbiAgfVxuXG4gIGNsYXNzIFRpbGVkSW1hZ2Uge1xuICAgIHNvdXJjZTogVGlsZVNvdXJjZTtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XG4gICAgICBzb3VyY2U6IFRpbGVTb3VyY2U7XG4gICAgICB2aWV3ZXI6IFZpZXdlcjtcbiAgICAgIHRpbGVDYWNoZTogVGlsZUNhY2hlO1xuICAgICAgZHJhd2VyOiBEcmF3ZXI7XG4gICAgICBpbWFnZUxvYWRlcjogSW1hZ2VMb2FkZXI7XG4gICAgICB4PzogbnVtYmVyO1xuICAgICAgeT86IG51bWJlcjtcbiAgICAgIHdpZHRoPzogbnVtYmVyO1xuICAgICAgaGVpZ2h0PzogbnVtYmVyO1xuICAgICAgZml0Qm91bmRzPzogUmVjdDtcbiAgICAgIGZpdEJvdW5kc1BsYWNlbWVudD86IFBsYWNlbWVudDtcbiAgICAgIGNsaXA/OiBSZWN0O1xuICAgICAgc3ByaW5nU3RpZmZuZXNzPzogbnVtYmVyO1xuICAgICAgYW5pbWF0aW9uVGltZT86IGJvb2xlYW47XG4gICAgICBtaW5ab29tSW1hZ2VSYXRpbz86IG51bWJlcjtcbiAgICAgIHdyYXBIb3Jpem9udGFsPzogYm9vbGVhbjtcbiAgICAgIHdyYXBWZXJ0aWNhbD86IGJvb2xlYW47XG4gICAgICBpbW1lZGlhdGVSZW5kZXI/OiBib29sZWFuO1xuICAgICAgYmxlbmRUaW1lPzogbnVtYmVyO1xuICAgICAgYWx3YXlzQmxlbmQ/OiBib29sZWFuO1xuICAgICAgbWluUGl4ZWxSYXRpbz86IG51bWJlcjtcbiAgICAgIHNtb290aFRpbGVFZGdlc01pblpvb20/OiBudW1iZXI7XG4gICAgICBpT1NEZXZpY2U/OiBib29sZWFuO1xuICAgICAgb3BhY2l0eT86IG51bWJlcjtcbiAgICAgIHByZWxvYWQ/OiBib29sZWFuO1xuICAgICAgY29tcG9zaXRlT3BlcmF0aW9uPzogc3RyaW5nO1xuICAgICAgZGVidWdNb2RlPzogYm9vbGVhbjtcbiAgICAgIHBsYWNlaG9sZGVyRmlsbFN0eWxlPzogc3RyaW5nIHwgQ2FudmFzR3JhZGllbnQgfCBDYW52YXNQYXR0ZXJuO1xuICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiBzdHJpbmcgfCBib29sZWFuO1xuICAgICAgYWpheFdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47XG4gICAgICBsb2FkVGlsZXNXaXRoQWpheD86IGJvb2xlYW47XG4gICAgICBhamF4SGVhZGVycz86IG9iamVjdDtcbiAgICB9KTtcblxuICAgIGFkZEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlZEltYWdlRXZlbnQ+LCB1c2VyRGF0YT86IG9iamVjdCk6IHZvaWQ7XG4gICAgYWRkT25jZUhhbmRsZXIoXG4gICAgICBldmVudE5hbWU6IHN0cmluZyxcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlZEltYWdlRXZlbnQ+LFxuICAgICAgdXNlckRhdGE/OiBvYmplY3RcbiAgICApOiB2b2lkO1xuICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICBkcmF3KCk6IHZvaWQ7XG4gICAgZml0Qm91bmRzKGJvdW5kczogUmVjdCwgYW5jaG9yPzogUGxhY2VtZW50LCBpbW1lZGlhdGVseT86IGJvb2xlYW4pOiB2b2lkO1xuICAgIGdldEJvdW5kcyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XG4gICAgZ2V0Qm91bmRzTm9Sb3RhdGUoY3VycmVudD86IGJvb2xlYW4pOiBSZWN0O1xuICAgIGdldENsaXAoKTogUmVjdCB8IG51bGw7XG4gICAgZ2V0Q2xpcHBlZEJvdW5kcyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XG4gICAgZ2V0Q29tcG9zaXRlT3BlcmF0aW9uKCk6IHN0cmluZztcbiAgICBnZXRDb250ZW50U2l6ZSgpOiBQb2ludDtcbiAgICBnZXRGdWxseUxvYWRlZCgpOiBib29sZWFuO1xuICAgIGdldEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcpOiAoc291cmNlOiBFdmVudCwgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gICAgZ2V0T3BhY2l0eSgpOiBudW1iZXI7XG4gICAgZ2V0UHJlbG9hZCgpOiBib29sZWFuO1xuICAgIGdldFJvdGF0aW9uKGN1cnJlbnQ/OiBib29sZWFuKTogbnVtYmVyO1xuICAgIGltYWdlVG9WaWV3ZXJFbGVtZW50Q29vcmRpbmF0cyhwaXhlbDogUG9pbnQpOiBQb2ludDtcbiAgICBpbWFnZVRvVmlld3BvcnRDb29yZGluYXRlcyhwb3NpdGlvbjogUG9pbnQsIGN1cnJlbnQ/OiBib29sZWFuKTogUG9pbnQ7XG4gICAgaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMoaW1hZ2VYOiBudW1iZXIsIGltYWdlWTogbnVtYmVyLCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xuICAgIGltYWdlVG9WaWV3cG9ydFJlY3RhbmdsZShcbiAgICAgIGltYWdlWDogbnVtYmVyLFxuICAgICAgaW1hZ2VZPzogbnVtYmVyLFxuICAgICAgcGl4ZWxXaWR0aD86IG51bWJlcixcbiAgICAgIHBpeGVsSGVpZ2h0PzogbnVtYmVyLFxuICAgICAgY3VycmVudD86IGJvb2xlYW5cbiAgICApOiBSZWN0O1xuICAgIGltYWdlVG9WaWV3cG9ydFJlY3RhbmdsZShcbiAgICAgIHBvc2l0aW9uOiBSZWN0LFxuICAgICAgcGl4ZWxXaWR0aD86IG51bWJlcixcbiAgICAgIHBpeGVsSGVpZ2h0PzogbnVtYmVyLFxuICAgICAgY3VycmVudD86IGJvb2xlYW5cbiAgICApOiBSZWN0O1xuXG4gICAgaW1hZ2VUb1ZpZXdwb3J0Wm9vbShpbWFnZVpvb206IG51bWJlcik6IG51bWJlcjtcbiAgICBpbWFnZVRvV2luZG93Q29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XG4gICAgbmVlZHNEcmF3KCk6IGJvb2xlYW47XG4gICAgcmFpc2VFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRBcmdzOiBvYmplY3QpOiB2b2lkO1xuICAgIHJlbW92ZUFsbEhhbmRsZXJzKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZDtcbiAgICByZW1vdmVIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXI8VGlsZWRJbWFnZUV2ZW50Pik6IHZvaWQ7XG4gICAgcmVzZXQoKTogdm9pZDtcbiAgICByZXNldENyb3BwaW5nUG9seWdvbnMoKTogdm9pZDtcbiAgICBzZXRDbGlwKG5ld0NsaXA6IFJlY3QgfCBudWxsKTogdm9pZDtcbiAgICBzZXRDb21wb3NpdGVPcGVyYXRpb24oY29tcG9zaXRlT3BlcmF0aW9uOiBzdHJpbmcpOiB2b2lkO1xuICAgIHNldENyb3BwaW5nUG9seWdvbnMocG9seWdvbnM6IFBvaW50W11bXSk6IHZvaWQ7XG4gICAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyLCBpbW1lZGlhdGVseT86IGJvb2xlYW4pOiB2b2lkO1xuICAgIHNldE9wYWNpdHkob3BhY2l0eTogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRQb3NpdGlvbihwb3NpdGlvbjogUG9pbnQsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IHZvaWQ7XG4gICAgc2V0UHJlbG9hZChwcmVsb2FkOiBib29sZWFuKTogdm9pZDtcbiAgICBzZXRSb3RhdGlvbihkZWdyZWVzOiBudW1iZXIsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IHZvaWQ7XG4gICAgc2V0V2lkdGgod2lkdGg6IG51bWJlciwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogdm9pZDtcbiAgICB1cGRhdGUoKTogYm9vbGVhbjtcbiAgICB2aWV3ZXJFbGVtZW50VG9JbWFnZUNvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xuICAgIHZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzKHBvc2l0aW9uOiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcbiAgICB2aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyh2aWV3ZXJYOiBudW1iZXIsIHZpZXdlclk6IG51bWJlciwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcbiAgICB2aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGUocG9zaXRpb246IFJlY3QpOiBSZWN0O1xuICAgIHZpZXdwb3J0VG9JbWFnZVJlY3RhbmdsZShcbiAgICAgIHZpZXdwb3J0WDogbnVtYmVyLFxuICAgICAgdmlld3BvcnRZOiBudW1iZXIsXG4gICAgICBwaXhlbFdpZHRoPzogbnVtYmVyLFxuICAgICAgcGl4ZWxIZWlnaHQ/OiBudW1iZXIsXG4gICAgICBjdXJyZW50PzogYm9vbGVhblxuICAgICk6IFJlY3Q7XG4gICAgdmlld3BvcnRUb0ltYWdlWm9vbSh2aWV3cG9ydFpvb206IG51bWJlcik6IG51bWJlcjtcbiAgICB3aW5kb3dUb0ltYWdlQ29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XG4gIH1cblxuICBjbGFzcyBUaWxlU291cmNlIGV4dGVuZHMgRXZlbnRTb3VyY2Uge1xuICAgIGFzcGVjdFJhdGlvOiBudW1iZXI7XG4gICAgZGltZW5zaW9uczogUG9pbnQ7XG4gICAgbWF4TGV2ZWw6IG51bWJlcjtcbiAgICBtaW5sZXZlbDogbnVtYmVyO1xuICAgIHJlYWR5OiBib29sZWFuO1xuICAgIHRpbGVPdmVybGFwOiBudW1iZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogVGlsZVNvdXJjZU9wdGlvbnMpO1xuICAgIGFkZEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlU291cmNlRXZlbnQ+LCB1c2VyRGF0YT86IG9iamVjdCk6IHZvaWQ7XG4gICAgYWRkT25jZUhhbmRsZXIoXG4gICAgICBldmVudE5hbWU6IHN0cmluZyxcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlU291cmNlRXZlbnQ+LFxuICAgICAgdXNlckRhdGE/OiBvYmplY3QsXG4gICAgICB0aW1lcz86IG51bWJlclxuICAgICk6IHZvaWQ7XG4gICAgY29uZmlndXJlKGRhdGE6IHN0cmluZyB8IG9iamVjdCB8IGFueVtdIHwgRG9jdW1lbnQpOiBvYmplY3Q7XG4gICAgZ2V0Q2xvc2VzdExldmVsKCk6IG51bWJlcjtcbiAgICBnZXRIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nKTogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcbiAgICBnZXRJbWFnZUluZm8odXJsOiBzdHJpbmcpOiB2b2lkO1xuICAgIGdldExldmVsU2NhbGUobGV2ZWw6IG51bWJlcik6IG51bWJlcjtcbiAgICBnZXROdW1UaWxlcyhsZXZlbDogbnVtYmVyKTogbnVtYmVyO1xuICAgIGdldFBpeGVsUmF0aW8obGV2ZWw6IG51bWJlcik6IG51bWJlcjtcbiAgICBnZXRUaWxlQWpheEhlYWRlcnMobGV2ZWw6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiBvYmplY3Q7XG4gICAgZ2V0VGlsZUF0UG9pbnQobGV2ZWw6IG51bWJlciwgcG9pbnQ6IFBvaW50KTogVGlsZTtcbiAgICBnZXRUaWxlQm91bmRzKGxldmVsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBpc1NvdXJjZT86IGJvb2xlYW4pOiBSZWN0O1xuICAgIGdldFRpbGVIZWlnaHQobGV2ZWw6IG51bWJlcik6IG51bWJlcjtcbiAgICBnZXRUaWxlVXJsKGxldmVsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogc3RyaW5nO1xuICAgIGdldFRpbGVXaWR0aChsZXZlbDogbnVtYmVyKTogbnVtYmVyO1xuICAgIHJhaXNlRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50QXJnczogb2JqZWN0KTogdm9pZDtcbiAgICByZW1vdmVBbGxIYW5kbGVycyhldmVudE5hbWU6IHN0cmluZyk6IHZvaWQ7XG4gICAgcmVtb3ZlSGFuZGxlcihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyPFRpbGVTb3VyY2VFdmVudD4pOiB2b2lkO1xuICAgIHN1cHBvcnRzKGRhdGE6IHN0cmluZyB8IG9iamVjdCB8IGFueVtdIHwgRG9jdW1lbnQsIHVybDogc3RyaW5nKTogYm9vbGVhbjtcbiAgICB0aWxlRXhpc3RzKGxldmVsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbjtcbiAgfVxuXG4gIGNsYXNzIFRtc1RpbGVTb3VyY2UgZXh0ZW5kcyBUaWxlU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIHRpbGVTaXplOiBudW1iZXIsXG4gICAgICB0aWxlT3ZlcmxhcDogbnVtYmVyLFxuICAgICAgdGlsZXNVcmw6IHN0cmluZ1xuICAgICk7XG4gIH1cblxuICBpbnRlcmZhY2UgSW1hZ2VPcHRpb25zIHtcbiAgICBpbmRleD86IG51bWJlcjtcbiAgICByZXBsYWNlPzogYm9vbGVhbjtcbiAgICB4PzogbnVtYmVyO1xuICAgIHk/OiBudW1iZXI7XG4gICAgd2lkdGg/OiBudW1iZXI7XG4gICAgaGVpZ2h0PzogbnVtYmVyO1xuICAgIGZpdEJvdW5kcz86IFJlY3Q7XG4gICAgZml0Qm91bmRzUGxhY2VtZW50PzogUGxhY2VtZW50O1xuICAgIGNsaXA/OiBSZWN0O1xuICAgIG9wYWNpdHk/OiBudW1iZXI7XG4gICAgcHJlbG9hZD86IGJvb2xlYW47XG4gICAgZGVncmVlcz86IG51bWJlcjtcbiAgICBjb21wb3NpdGVPcGVyYXRpb24/OiBzdHJpbmc7XG4gICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiBzdHJpbmc7XG4gICAgYWpheFdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47XG4gICAgbG9hZFRpbGVzV2l0aEFqYXg/OiBib29sZWFuO1xuICAgIGFqYXhIZWFkZXJzPzogb2JqZWN0O1xuICAgIHN1Y2Nlc3M/OiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkO1xuICAgIGVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcbiAgICBjb2xsZWN0aW9uSW1tZWRpYXRlbHk/OiBib29sZWFuO1xuICAgIHBsYWNlaG9sZGVyRmlsbFN0eWxlPzogc3RyaW5nIHwgQ2FudmFzR3JhZGllbnQgfCBDYW52YXNQYXR0ZXJuO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRpbGVkSW1hZ2VPcHRpb25zIGV4dGVuZHMgSW1hZ2VPcHRpb25zIHtcbiAgICB0aWxlU291cmNlOiBzdHJpbmcgfCBvYmplY3Q7XG4gIH1cblxuICBpbnRlcmZhY2UgU2ltcGxlSW1hZ2VPcHRpb25zIGV4dGVuZHMgSW1hZ2VPcHRpb25zIHtcbiAgICB1cmw6IHN0cmluZztcbiAgfVxuXG4gIGNsYXNzIFZpZXdlciBleHRlbmRzIENvbnRyb2xEb2NrIHtcbiAgICBjYW52YXM6IEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgZHJhd2VyOiBEcmF3ZXI7XG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgaW5pdGlhbFBhZ2U6IG51bWJlcjtcbiAgICBuYXZpZ2F0b3I6IE5hdmlnYXRvcjtcbiAgICB2aWV3cG9ydDogVmlld3BvcnQ7XG4gICAgd29ybGQ6IFdvcmxkO1xuICAgIHJlZmVyZW5jZVN0cmlwOiBSZWZlcmVuY2VTdHJpcDtcbiAgICBpbm5lclRyYWNrZXI6IHtcbiAgICAgIHNjcm9sbEhhbmRsZXI6IChldmVudDogeyBvcmlnaW5hbEV2ZW50OiBNb3VzZUV2ZW50OyBzY3JvbGw6IG51bWJlciB9KSA9PiB2b2lkO1xuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPcHRpb25zKTtcbiAgICBfY2FuY2VsUGVuZGluZ0ltYWdlcygpOiB2b2lkO1xuICAgIGFkZEhhbmRsZXIoXG4gICAgICBldmVudE5hbWU6IFZpZXdlckV2ZW50TmFtZSxcbiAgICAgIGNhbGxiYWNrOiBFdmVudEhhbmRsZXI8Vmlld2VyRXZlbnQ+LFxuICAgICAgdXNlckRhdGE/OiBvYmplY3RcbiAgICApOiB2b2lkO1xuICAgIGFkZE9uY2VIYW5kbGVyKFxuICAgICAgZXZlbnROYW1lOiBWaWV3ZXJFdmVudE5hbWUsXG4gICAgICBjYWxsYmFjazogRXZlbnRIYW5kbGVyPFZpZXdlckV2ZW50PixcbiAgICAgIHVzZXJEYXRhPzogb2JqZWN0LFxuICAgICAgdGltZXM/OiBudW1iZXJcbiAgICApOiB2b2lkO1xuICAgIGFkZE92ZXJsYXkoXG4gICAgICBlbGVtZW50OiBIVE1MRWxlbWVudCB8IHN0cmluZyB8IG9iamVjdCxcbiAgICAgIGxvY2F0aW9uPzogUG9pbnQgfCBSZWN0LFxuICAgICAgcGxhY2VtZW50PzogUGxhY2VtZW50LFxuICAgICAgb25EcmF3PzogKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBsb2NhdGlvbjogTG9jYXRpb24sIHBsYWNlbWVudDogUGxhY2VtZW50KSA9PiB2b2lkXG4gICAgKTogVmlld2VyO1xuICAgIGFkZFJlZmVyZW5jZVN0cmlwKCk6IHZvaWQ7XG4gICAgYWRkU2ltcGxlSW1hZ2Uob3B0aW9uczogU2ltcGxlSW1hZ2VPcHRpb25zKTogdm9pZDtcbiAgICBhZGRUaWxlZEltYWdlKG9wdGlvbnM6IFRpbGVkSW1hZ2VPcHRpb25zKTogdm9pZDtcbiAgICBiaW5kU2VxdWVuY2VDb250cm9scygpOiBWaWV3ZXI7XG4gICAgYmluZFN0YW5kYXJkQ29udHJvbHMoKTogVmlld2VyO1xuICAgIGNsZWFyT3ZlcmxheXMoKTogVmlld2VyO1xuICAgIGNsb3NlKCk6IFZpZXdlcjtcbiAgICBjdXJyZW50UGFnZSgpOiBudW1iZXI7XG4gICAgZGVzdHJveSgpOiB2b2lkO1xuICAgIGZvcmNlUmVkcmF3KCk6IFZpZXdlcjtcbiAgICBnZXN0dXJlU2V0dGluZ3NCeURldmljZVR5cGUodHlwZTogc3RyaW5nKTogR2VzdHVyZVNldHRpbmdzO1xuICAgIGdldEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcpOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkO1xuICAgIGdldE92ZXJsYXlCeUlkKGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcpOiBPdmVybGF5O1xuICAgIGdvVG9QYWdlKHBhZ2U6IG51bWJlcik6IFZpZXdlcjtcbiAgICBpc0Z1bGxQYWdlKCk6IGJvb2xlYW47XG4gICAgaXNNb3VzZU5hdkVuYWJsZWQoKTogYm9vbGVhbjtcbiAgICBpc09wZW4oKTogYm9vbGVhbjtcbiAgICBpc1Zpc2libGUoKTogYm9vbGVhbjtcbiAgICBvcGVuKHRpbGVTb3VyY2VzOiBzdHJpbmcgfCBvYmplY3QgfCBUaWxlU291cmNlW10sIGluaXRpYWxQYWdlPzogbnVtYmVyKTogVmlld2VyO1xuICAgIHJhaXNlRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50QXJncz86IG9iamVjdCk6IHZvaWQ7XG4gICAgcmVtb3ZlQWxsSGFuZGxlcnMoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkO1xuICAgIHJlbW92ZUhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxWaWV3ZXJFdmVudD4pOiB2b2lkO1xuICAgIHJlbW92ZU92ZXJsYXkob3ZlcmxheTogRWxlbWVudCB8IHN0cmluZyk6IFZpZXdlcjtcbiAgICByZW1vdmVSZWZlcmVuY2VTdHJpcCgpOiB2b2lkO1xuICAgIHNldENvbnRyb2xzRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogVmlld2VyO1xuICAgIHNldERlYnVnTW9kZShkZWJ1ZzogYm9vbGVhbik6IFZpZXdlcjtcbiAgICBzZXRGdWxsUGFnZShmdWxsU2NyZWVuOiBib29sZWFuKTogVmlld2VyO1xuICAgIHNldEZ1bGxTY3JlZW4oZnVsbFNjcmVlbjogYm9vbGVhbik6IFZpZXdlcjtcbiAgICBzZXRNb3VzZU5hdkVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbik6IFZpZXdlcjtcbiAgICBzZXRWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pOiBWaWV3ZXI7XG4gICAgdXBkYXRlT3ZlcmxheShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nLCBsb2NhdGlvbjogUG9pbnQgfCBSZWN0LCBwbGFjZW1lbnQ/OiBQbGFjZW1lbnQpOiBWaWV3ZXI7XG4gIH1cblxuICBjbGFzcyBWaWV3cG9ydCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczoge1xuICAgICAgbWFyZ2luczogb2JqZWN0O1xuICAgICAgc3ByaW5nU3RpZmZuZXNzPzogbnVtYmVyO1xuICAgICAgYW5pbWF0aW9uVGltZT86IG51bWJlcjtcbiAgICAgIG1pblpvb21JbWFnZVJhdGlvPzogbnVtYmVyO1xuICAgICAgbWF4Wm9vbVBpeGVsUmF0aW8/OiBudW1iZXI7XG4gICAgICB2aXNpYmlsaXR5UmF0aW8/OiBudW1iZXI7XG4gICAgICB3cmFwSG9yaXpvbnRhbD86IGJvb2xlYW47XG4gICAgICB3cmFwVmVydGljYWw/OiBib29sZWFuO1xuICAgICAgZGVmYXVsdFpvb21MZXZlbD86IG51bWJlcjtcbiAgICAgIG1pblpvb21MZXZlbD86IG51bWJlcjtcbiAgICAgIG1heFpvb21MZXZlbD86IG51bWJlcjtcbiAgICAgIGRlZ3JlZXM/OiBudW1iZXI7XG4gICAgICBob21lRmlsbHNWaWV3ZXI/OiBib29sZWFuO1xuICAgIH0pO1xuXG4gICAgYXBwbHlDb25zdHJhaW50cyhpbW1lZGlhdGVseT86IGJvb2xlYW4pOiBWaWV3cG9ydDtcbiAgICBkZWx0YVBpeGVsc0Zyb21Qb2ludHMoZGVsdGFQb2ludHM6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xuICAgIGRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlKGRlbHRhUG9pbnRzOiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcbiAgICBkZWx0YVBvaW50c0Zyb21QaXhlbHMoZGVsdGFQb2ludHM6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xuICAgIGRlbHRhUG9pbnRzRnJvbVBpeGVsc05vUm90YXRlKGRlbHRhUG9pbnRzOiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcbiAgICBlbnN1cmVWaXNpYmxlKGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xuICAgIGZpdEJvdW5kcyhib3VuZHM6IFJlY3QsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xuICAgIGZpdEJvdW5kc1dpdGhDb25zdHJhaW50cyhib3VuZHM6IFJlY3QsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xuICAgIGZpdEhvcml6b250YWxseShpbW1lZGlhdGVseT86IGJvb2xlYW4pOiBWaWV3cG9ydDtcbiAgICBmaXRWZXJ0aWNhbGx5KGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xuICAgIGdldEFzcGVjdFJhdGlvKCk6IGFueTsgLy8gVE9ETzogZGV0ZXJtaW5lIHJldHVybiB0eXBlXG4gICAgZ2V0Qm91bmRzKGN1cnJlbnQ/OiBib29sZWFuKTogUmVjdDtcbiAgICBnZXRCb3VuZHNOb1JvdGF0ZShjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XG4gICAgZ2V0Qm91bmRzTm9Sb3RhdGVXaXRoTWFyZ2lucyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XG4gICAgZ2V0Qm91bmRzV2l0aE1hcmdpbnMoY3VycmVudD86IGJvb2xlYW4pOiBSZWN0O1xuICAgIGdldENlbnRlcihjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xuICAgIGdldENvbnN0cmFpbmVkQm91bmRzKGN1cnJlbnQ/OiBib29sZWFuKTogVmlld3BvcnQ7XG4gICAgZ2V0Q29udGFpbmVyU2l6ZSgpOiBQb2ludDtcbiAgICBnZXRGbGlwKCk6IGJvb2xlYW47XG4gICAgZ2V0SG9tZUJvdW5kcygpOiBSZWN0O1xuICAgIGdldEhvbWVCb3VuZHNOb1JvdGF0ZSgpOiBSZWN0O1xuICAgIGdldEhvbWVab29tKCk6IG51bWJlcjtcbiAgICBnZXRNYXJnaW5zKCk6IG9iamVjdDtcbiAgICBnZXRNYXhab29tKCk6IG51bWJlcjtcbiAgICBnZXRNaW5ab29tKCk6IG51bWJlcjtcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXI7XG4gICAgZ2V0Wm9vbShjdXJyZW50PzogYm9vbGVhbik6IG51bWJlcjtcbiAgICBnb0hvbWUoaW1tZWRpYXRlbHk/OiBib29sZWFuKTogdm9pZDtcbiAgICBpbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xuICAgIGltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzKHBvc2l0aW9uOiBQb2ludCk6IFBvaW50O1xuICAgIGltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzKGltYWdlWDogbnVtYmVyLCBpbWFnZVk6IG51bWJlcik6IFBvaW50O1xuICAgIGltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzKFxuICAgICAgaW1hZ2VYOiBudW1iZXIsXG4gICAgICBpbWFnZVk6IG51bWJlcixcbiAgICAgIHBpeGVsV2lkdGg6IG51bWJlcixcbiAgICAgIHBpeGVsSGVpZ2h0OiBudW1iZXJcbiAgICApOiBQb2ludDtcbiAgICBpbWFnZVRvVmlld3BvcnRSZWN0YW5nbGUoXG4gICAgICBpbWFnZVg6IG51bWJlciB8IFJlY3QsXG4gICAgICBpbWFnZVk/OiBudW1iZXIsXG4gICAgICBwaXhlbFdpZHRoPzogbnVtYmVyLFxuICAgICAgcGl4ZWxIZWlnaHQ/OiBudW1iZXJcbiAgICApOiBSZWN0O1xuICAgIGltYWdlVG9WaWV3cG9ydFpvb20oaW1hZ2Vab29tOiBudW1iZXIpOiBudW1iZXI7XG4gICAgaW1hZ2VUb1dpbmRvd0Nvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xuICAgIHBhbkJ5KGRlbHRhOiBQb2ludCwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogVmlld3BvcnQ7XG4gICAgcGFuVG8oY2VudGVyOiBQb2ludCwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogVmlld3BvcnQ7XG4gICAgcGl4ZWxGcm9tUG9pbnQocG9pbnQ6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xuICAgIHBpeGVsRnJvbVBvaW50Tm9Sb3RhdGUocG9pbnQ6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xuICAgIHBvaW50RnJvbVBpeGVsKHBvaW50OiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcbiAgICBwb2ludEZyb21QaXhlbE5vUm90YXRlKHBvaW50OiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcbiAgICByZXNldENvbnRlbnRTaXplKGNvbnRlbnRTaXplOiBQb2ludCk6IFZpZXdwb3J0O1xuICAgIHJlc2l6ZSgpOiBWaWV3cG9ydDtcbiAgICBzZXRGbGlwKHN0YXRlOiBib29sZWFuKTogVmlld3BvcnQ7XG4gICAgc2V0TWFyZ2lucyhtYXJnaW5zOiBvYmplY3QpOiB2b2lkO1xuICAgIHNldFJvdGF0aW9uKGRlZ3JlZXM6IG51bWJlcik6IFZpZXdwb3J0O1xuICAgIHRvZ2dsZUZsaXAoKTogVmlld3BvcnQ7XG4gICAgdXBkYXRlKCk6IGJvb2xlYW47XG4gICAgdmlld2VyRWxlbWVudFRvSW1hZ2VDb29yZGluYXRlcyhwaXhlbDogUG9pbnQpOiBQb2ludDtcbiAgICB2aWV3ZXJFbGVtZW50VG9WaWV3cG9ydENvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xuICAgIHZpZXdlckVsZW1lbnRUb1ZpZXdwb3J0UmVjdGFuZ2xlKHJlY3RhbmdsZTogUmVjdCk6IFJlY3Q7XG4gICAgdmlld3BvcnRUb0ltYWdlQ29vcmRpbmF0ZXMocG9zaXRpb246IFBvaW50KTogUG9pbnQ7XG4gICAgdmlld3BvcnRUb0ltYWdlQ29vcmRpbmF0ZXModmlld2VyWDogbnVtYmVyLCB2aWV3ZXJZOiBudW1iZXIpOiBQb2ludDtcbiAgICB2aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGUocmVjdGFuZ2xlOiBSZWN0KTogUmVjdDtcbiAgICB2aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGUoXG4gICAgICB2aWV3ZXJYOiBudW1iZXIsXG4gICAgICB2aWV3ZXJZOiBudW1iZXIsXG4gICAgICBwb2ludFdpZHRoOiBudW1iZXIsXG4gICAgICBwb2ludEhlaWdodDogbnVtYmVyXG4gICAgKTogUmVjdDtcbiAgICB2aWV3cG9ydFRvSW1hZ2Vab29tKHZpZXdwb3J0Wm9vbTogbnVtYmVyKTogbnVtYmVyO1xuICAgIHZpZXdwb3J0VG9WaWV3ZXJFbGVtZW50Q29vcmRpbmF0ZXMocG9pbnQ6IFBvaW50KTogUG9pbnQ7XG4gICAgdmlld3BvcnRUb1ZpZXdlckVsZW1lbnRSZWN0YW5nbGUocmVjdGFuZ2xlOiBSZWN0KTogUmVjdDtcbiAgICB2aWV3cG9ydFRvV2luZG93Q29vcmRpbmF0ZXMocG9pbnQ6IFBvaW50KTogUG9pbnQ7XG4gICAgd2luZG93VG9JbWFnZUNvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xuICAgIHdpbmRvd1RvVmlld3BvcnRDb29yZGluYXRlcyhwaXhlbDogUG9pbnQpOiBQb2ludDtcbiAgICB6b29tQnkoZmFjdG9yOiBudW1iZXIsIHJlZlBvaW50PzogUG9pbnQsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xuICAgIHpvb21UbyhmYWN0b3I6IG51bWJlciwgcmVmUG9pbnQ/OiBQb2ludCwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogVmlld3BvcnQ7XG4gIH1cblxuICBjbGFzcyBXb3JsZCBleHRlbmRzIEV2ZW50U291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBvYmplY3QpO1xuXG4gICAgYWRkSGFuZGxlcihcbiAgICAgIGV2ZW50TmFtZTogV29ybGRFdmVudE5hbWUsXG4gICAgICBjYWxsYmFjazogRXZlbnRIYW5kbGVyPFdvcmxkRXZlbnQ+LFxuICAgICAgdXNlckRhdGE/OiBvYmplY3RcbiAgICApOiB2b2lkO1xuICAgIGFkZEl0ZW0oaXRlbTogVGlsZWRJbWFnZSwgb3B0aW9ucz86IHsgaW5kZXg/OiBudW1iZXIgfSk6IHZvaWQ7XG4gICAgYWRkT25jZUhhbmRsZXIoXG4gICAgICBldmVudE5hbWU6IHN0cmluZyxcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxXb3JsZEV2ZW50PixcbiAgICAgIHVzZXJEYXRhPzogb2JqZWN0LFxuICAgICAgdGltZXM/OiBudW1iZXJcbiAgICApOiB2b2lkO1xuICAgIGFycmFuZ2Uob3B0aW9uczoge1xuICAgICAgaW1tZWRpYXRlbHk/OiBib29sZWFuO1xuICAgICAgbGF5b3V0PzogJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJztcbiAgICAgIHJvd3M/OiBudW1iZXI7XG4gICAgICBjb2x1bW5zPzogbnVtYmVyO1xuICAgICAgdGlsZVNpemU/OiBudW1iZXI7XG4gICAgICB0aWxlTWFyZ2luPzogbnVtYmVyO1xuICAgIH0pOiB2b2lkO1xuICAgIGRyYXcoKTogdm9pZDtcbiAgICBnZXRDb250ZW50RmFjdG9yKCk6IG51bWJlcjtcbiAgICBnZXRIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nKTogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcbiAgICBnZXRIb21lQm91bmRzKCk6IFJlY3Q7XG4gICAgZ2V0SW5kZXhPZkl0ZW0oaXRlbTogVGlsZWRJbWFnZSk6IG51bWJlcjtcbiAgICBnZXRJdGVtQXQoaWQ6IG51bWJlcik6IFRpbGVkSW1hZ2U7XG4gICAgZ2V0SXRlbUNvdW50KCk6IG51bWJlcjtcbiAgICBuZWVkc0RyYXcoKTogYm9vbGVhbjtcbiAgICByYWlzZUV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEFyZ3M/OiBvYmplY3QpOiB2b2lkO1xuICAgIHJlbW92ZUFsbCgpOiB2b2lkO1xuICAgIHJlbW92ZUFsbEhhbmRsZXJzKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZDtcbiAgICByZW1vdmVIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXI8V29ybGRFdmVudD4pOiB2b2lkO1xuICAgIHJlbW92ZUl0ZW0oaXRlbTogVGlsZWRJbWFnZSk6IHZvaWQ7XG4gICAgcmVzZXRJdGVtcygpOiB2b2lkO1xuICAgIHNldEF1dG9SZWZpZ3VyZVNpemVzKHZhbHVlPzogYm9vbGVhbik6IHZvaWQ7XG4gICAgc2V0SXRlbUluZGV4KGl0ZW06IFRpbGVkSW1hZ2UsIGluZGV4OiBudW1iZXIpOiB2b2lkO1xuICAgIHVwZGF0ZSgpOiB2b2lkO1xuICB9XG5cbiAgY2xhc3MgWm9vbWlmeVRpbGVTb3VyY2UgZXh0ZW5kcyBUaWxlU291cmNlIHtcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgdGlsZVNpemU6IG51bWJlciwgdGlsZXNVcmw6IHN0cmluZyk7XG4gIH1cblxuICAvLyBUT0RPOiB1c2UgcHJvcGVyIGV2ZW50TmFtZSB0eXBlIGFsaWFzZXMsIGFuZCBPU0RFdmVudCB3aGVyZSBhcHByb3BpYXRlXG5cbiAgdHlwZSBFdmVudEhhbmRsZXI8VCBleHRlbmRzIE9TREV2ZW50PGFueT4+ID0gKGV2ZW50OiBUKSA9PiB2b2lkO1xuXG4gIHR5cGUgQnV0dG9uRXZlbnROYW1lID0gJ2JsdXInIHwgJ2NsaWNrJyB8ICdlbnRlcicgfCAnZXhpdCcgfCAnZm9jdXMnIHwgJ3ByZXNzJyB8ICdyZWxlYXNlJztcbiAgdHlwZSBUaWxlZEltYWdlRXZlbnROYW1lID1cbiAgICB8ICdib3VuZHMtY2hhbmdlJ1xuICAgIHwgJ2NsaXAtY2hhbmdlJ1xuICAgIHwgJ2NvbXBvc2l0ZS1vcGVyYXRpb24tY2hhbmdlJ1xuICAgIHwgJ2Z1bGx5LWxvYWRlZC1jaGFuZ2UnXG4gICAgfCAnb3BhY2l0eS1jaGFuZ2UnO1xuICB0eXBlIFRpbGVTb3VyY2VFdmVudG5hbWUgPSAnb3Blbi1mYWlsZWQnIHwgJ3JlYWR5JztcbiAgdHlwZSBWaWV3ZXJFdmVudE5hbWUgPVxuICAgIHwgJ2FkZC1pdGVtLWZhaWxlZCdcbiAgICB8ICdhZGQtb3ZlcmxheSdcbiAgICB8ICdhbmltYXRpb24nXG4gICAgfCAnYW5pbWF0aW9uLWZpbmlzaCdcbiAgICB8ICdhbmltYXRpb24tc3RhcnQnXG4gICAgfCAnY2FudmFzLWNsaWNrJ1xuICAgIHwgJ2NhbnZhcy1kb3VibGUtY2xpY2snXG4gICAgfCAnY2FudmFzLWRyYWcnXG4gICAgfCAnY2FudmFzLWRyYWctZW5kJ1xuICAgIHwgJ2NhbnZhcy1lbnRlcidcbiAgICB8ICdjYW52YXMtZXhpdCdcbiAgICB8ICdjYW52YXMta2V5J1xuICAgIHwgJ2NhbnZhcy1ub25wcmltYXJ5LXByZXNzJ1xuICAgIHwgJ2NhbnZhcy1ub25wcmltYXJ5LXJlbGVhc2UnXG4gICAgfCAnY2FudmFzLXBpbmNoJ1xuICAgIHwgJ2NhbnZhcy1wcmVzcydcbiAgICB8ICdjYW52YXMtcmVsZWFzZSdcbiAgICB8ICdjYW52YXMtc2Nyb2xsJ1xuICAgIHwgJ2NsZWFyLW92ZXJsYXknXG4gICAgfCAnY2xvc2UnXG4gICAgfCAnY29uc3RyYWluJ1xuICAgIHwgJ2NvbnRhaW5lci1lbnRlcidcbiAgICB8ICdjb250YWluZXItZXhpdCdcbiAgICB8ICdjb250cm9scy1lbmFibGVkJ1xuICAgIHwgJ2ZsaXAnXG4gICAgfCAnZnVsbC1wYWdlJ1xuICAgIHwgJ2Z1bGwtc2NyZWVuJ1xuICAgIHwgJ2hvbWUnXG4gICAgfCAnbW91c2UtZW5hYmxlZCdcbiAgICB8ICduYXZpZ2F0b3ItY2xpY2snXG4gICAgfCAnbmF2aWdhdG9yLWRyYWcnXG4gICAgfCAnbmF2aWdhdG9yLXNjcm9sbCdcbiAgICB8ICdvcGVuJ1xuICAgIHwgJ29wZW4tZmFpbGVkJ1xuICAgIHwgJ3BhZ2UnXG4gICAgfCAncGFuJ1xuICAgIHwgJ3ByZS1mdWxsLXBhZ2UnXG4gICAgfCAncHJlLWZ1bGwtc2NyZWVuJ1xuICAgIHwgJ3JlbW92ZS1vdmVybGF5J1xuICAgIHwgJ3Jlc2V0LXNpemUnXG4gICAgfCAncmVzaXplJ1xuICAgIHwgJ3JvdGF0ZSdcbiAgICB8ICd0aWxlLWRyYXdpbmcnXG4gICAgfCAndGlsZS1kcmF3bidcbiAgICB8ICd0aWxlLWxvYWQtZmFpbGVkJ1xuICAgIHwgJ3RpbGUtbG9hZGVkJ1xuICAgIHwgJ3RpbGUtdW5sb2FkZWQnXG4gICAgfCAndXBkYXRlLWxldmVsJ1xuICAgIHwgJ3VwZGF0ZS1vdmVybGF5J1xuICAgIHwgJ3VwZGF0ZS10aWxlJ1xuICAgIHwgJ3VwZGF0ZS12aWV3cG9ydCdcbiAgICB8ICd2aWV3cG9ydC1jaGFuZ2UnXG4gICAgfCAndmlzaWJsZSdcbiAgICB8ICd6b29tJztcbiAgdHlwZSBXb3JsZEV2ZW50TmFtZSA9ICdhZGQtaXRlbScgfCAnaXRlbS1pbmRleC1jaGFuZ2UnIHwgJ21ldHJpY3MtY2hhbmdlJyB8ICdyZW1vdmUtaXRlbSc7XG5cbiAgaW50ZXJmYWNlIE9TREV2ZW50PFQ+IGV4dGVuZHMgRXZlbnQge1xuICAgIGV2ZW50U291cmNlPzogVDtcbiAgICB1c2VyRGF0YTogYW55O1xuICB9XG5cbiAgaW50ZXJmYWNlIEJ1dHRvbkV2ZW50IGV4dGVuZHMgT1NERXZlbnQ8QnV0dG9uPiB7XG4gICAgb3JpZ2luYWxFdmVudDogRXZlbnQ7XG4gIH1cblxuICBpbnRlcmZhY2UgVGlsZWRJbWFnZUV2ZW50IGV4dGVuZHMgT1NERXZlbnQ8VGlsZWRJbWFnZT4ge1xuICAgIGNvbXBvc2l0ZU9wZXJhdGlvbkNoYW5nZT86IHN0cmluZztcbiAgICBmdWxseUxvYWRlZD86IGJvb2xlYW47XG4gICAgb3BhY2l0eT86IGJvb2xlYW47XG4gIH1cblxuICBpbnRlcmZhY2UgVGlsZVNvdXJjZUV2ZW50IGV4dGVuZHMgT1NERXZlbnQ8VGlsZVNvdXJjZT4ge1xuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XG4gICAgc291cmNlPzogc3RyaW5nO1xuICAgIHRpbGVTb3VyY2U/OiBvYmplY3Q7XG4gIH1cblxuICBpbnRlcmZhY2UgVmlld2VyRXZlbnQgZXh0ZW5kcyBPU0RFdmVudDxWaWV3ZXI+IHtcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xuICAgIHNvdXJjZT86IHN0cmluZztcbiAgICBvcHRpb25zPzogb2JqZWN0O1xuICAgIGVsZW1lbnQ/OiBFbGVtZW50O1xuICAgIGxvY2F0aW9uPzogUG9pbnQgfCBSZWN0O1xuICAgIHBsYWNlbWVudD86IFBsYWNlbWVudDtcbiAgICB0cmFja2VyPzogTW91c2VUcmFja2VyO1xuICAgIHBvc2l0aW9uPzogUG9pbnQ7XG4gICAgcXVpY2s/OiBib29sZWFuO1xuICAgIHNoaWZ0PzogYm9vbGVhbjtcbiAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbj86IHRydWU7XG4gICAgZGVsdGE/OiBQb2ludDtcbiAgICBzcGVlZD86IG51bWJlcjtcbiAgICBkaXJlY3Rpb24/OiBudW1iZXI7XG4gICAgcG9pbnRlclR5cGU/OiBzdHJpbmc7XG4gICAgYnV0dG9uPzogbnVtYmVyO1xuICAgIGJ1dHRvbnM/OiBudW1iZXI7XG4gICAgcG9pbnRlcnM/OiBudW1iZXI7XG4gICAgaW5zaWRlRWxlbWVudFByZXNzZWQ/OiBib29sZWFuO1xuICAgIGJ1dHRvbkRvd25Bbnk/OiBib29sZWFuO1xuICAgIHByZXZlbnRWZXJ0aWNhbFBhbj86IGJvb2xlYW47XG4gICAgcHJldmVudEhvcml6b250YWxQYW4/OiBib29sZWFuO1xuICAgIGdlc3R1cmVQb2ludHM/OiBHZXN0dXJlUG9pbnRbXTtcbiAgICBsYXN0Q2VudGVyPzogUG9pbnQ7XG4gICAgY2VudGVyPzogUG9pbnQ7XG4gICAgbGFzdERpc3RhbmNlPzogbnVtYmVyO1xuICAgIGluc2lkZUVsZW1lbnRSZWxlYXNlZD86IGJvb2xlYW47XG4gICAgc2Nyb2xsPzogbnVtYmVyO1xuICAgIGltbWVkaWF0ZWx5PzogbnVtYmVyO1xuICAgIGVuYWJsZWQ/OiBib29sZWFuO1xuICAgIGZsaXBwZWQ/OiBudW1iZXI7XG4gICAgZnVsbFBhZ2U/OiBib29sZWFuO1xuICAgIGZ1bGxTY3JlZW4/OiBib29sZWFuO1xuICAgIHBhZ2U/OiBudW1iZXI7XG4gICAgY29udGVudFNpemU/OiBQb2ludDtcbiAgICBjb250ZW50Qm91bmRzPzogUmVjdDtcbiAgICBob21lQm91bmRzPzogUmVjdDtcbiAgICBjb250ZW50RmFjdG9yPzogbnVtYmVyO1xuICAgIG5ld0NvbnRhaW5lclNpemU/OiBQb2ludDtcbiAgICBtYW50YWluPzogYm9vbGVhbjtcbiAgICBkZWdyZWVzPzogbnVtYmVyO1xuICAgIHRpbGU/OiBUaWxlO1xuICAgIHRpbGVkSW1hZ2U/OiBUaWxlZEltYWdlIHwgWE1MSHR0cFJlcXVlc3Q7XG4gICAgY29udGV4dD86IFRpbGU7XG4gICAgcmVuZGVyZWQ/OiBUaWxlO1xuICAgIHRpbWU/OiBudW1iZXI7XG4gICAgdGlsZVJlcXVlc3Q/OiBYTUxIdHRwUmVxdWVzdDtcbiAgICBnZXRDb21wbGV0aW9uQ2FsbGJhY2s/OiAoLi4uYXJnczogYW55KSA9PiB2b2lkO1xuICAgIHZpc2libGU/OiBib29sZWFuO1xuICAgIHJlZlBvaW50PzogUG9pbnQ7XG4gICAgem9vbT86IG51bWJlcjtcbiAgfVxuXG4gIGludGVyZmFjZSBXb3JsZEV2ZW50IGV4dGVuZHMgT1NERXZlbnQ8V29ybGQ+IHtcbiAgICBpdGVtPzogVGlsZWRJbWFnZTtcbiAgICBwcmV2aW91c0luZGV4PzogbnVtYmVyO1xuICAgIG5ld0luZGV4PzogbnVtYmVyO1xuICB9XG59XG5cbi8vIEN1c3RvbSB0eXBlIG5lZWRlZCBmb3IgaW1wb3J0aW5nIHR5cGVzIGRhdGEgd2l0aG91dCBoYXZpbmcgdG8gaW1wb3J0IHRoZSBhY3R1YWwgSlNcbmV4cG9ydCBpbnRlcmZhY2UgT3BlblNlYWRyYWdvblR5cGUge1xuICAob3B0aW9uczogT3BlblNlYWRyYWdvbi5PcHRpb25zKTogT3BlblNlYWRyYWdvbi5WaWV3ZXI7XG4gIFJlY3Q6IHR5cGVvZiBPcGVuU2VhZHJhZ29uLlJlY3Q7XG59XG5cbmV4cG9ydCB0eXBlIFZpZXdlclR5cGUgPSBPcGVuU2VhZHJhZ29uLlZpZXdlcjtcbiJdfQ=="}