{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/@dan503/load-js/index.js","src/demo/demo.ts","src/library/driftory.ts","src/library/openseadragon.types.ts"],"names":[],"mappings":"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","file":"demo.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar alreadyCalledSources = [];\r\nvar awaitingCallbacks = {};\r\nvar addCallback = function (src, callback) {\r\n    if (awaitingCallbacks[src]) {\r\n        awaitingCallbacks[src].push(callback);\r\n    }\r\n    else {\r\n        awaitingCallbacks[src] = [callback];\r\n    }\r\n};\r\nfunction loadJS(src, callback) {\r\n    if (alreadyCalledSources.indexOf(src) < 0) {\r\n        alreadyCalledSources.push(src);\r\n        var script = document.createElement('script');\r\n        script.src = src;\r\n        script.onload = function () {\r\n            addCallback(src, callback);\r\n            for (var key in awaitingCallbacks) {\r\n                awaitingCallbacks[key].forEach(function (cb) { return cb(); });\r\n            }\r\n        };\r\n        document.head.appendChild(script);\r\n    }\r\n    else {\r\n        addCallback(src, callback);\r\n    }\r\n}\r\nexports.default = loadJS;\r\n","import Driftory from '../library/driftory';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const container = document.querySelector('.driftory-viewer-container') as HTMLDivElement;\r\n  const startButton = document.querySelector('.start-button');\r\n  const previousButton = document.querySelector('.previous-button');\r\n  const nextButton = document.querySelector('.next-button');\r\n  const hideButton = document.querySelector('.hide-button');\r\n  const frameInfo = document.querySelector('.frame-info');\r\n\r\n  const driftory = new Driftory({\r\n    container,\r\n    prefixUrl: 'https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/images/',\r\n    onComicLoad: () => {\r\n      console.log('loaded!');\r\n    },\r\n    onFrameChange: ({ frameIndex = 0, isLastFrame }) => {\r\n      if (frameInfo) {\r\n        let text = `Frame ${frameIndex + 1}`;\r\n        if (isLastFrame) {\r\n          text += ' (last frame!)';\r\n        }\r\n\r\n        frameInfo.textContent = text;\r\n      }\r\n    }\r\n  });\r\n\r\n  startButton?.addEventListener('click', () => {\r\n    driftory.goToFrame(0);\r\n  });\r\n\r\n  previousButton?.addEventListener('click', () => {\r\n    driftory.goToPreviousFrame();\r\n  });\r\n\r\n  nextButton?.addEventListener('click', () => {\r\n    driftory.goToNextFrame();\r\n  });\r\n\r\n  hideButton?.addEventListener('click', () => {\r\n    container.classList.toggle('hide')\r\n  })\r\n\r\n  fetch('comic.json')\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        console.error(response);\r\n        throw new Error('Failed to load comic.json');\r\n      }\r\n\r\n      return response.json();\r\n    })\r\n    .then(json => {\r\n      // console.log(json);\r\n      driftory.openComic(json);\r\n    })\r\n    .catch(error => console.error(error));\r\n});\r\n","import loadJs from '@dan503/load-js';\r\nimport { Comic } from './Comic.types';\r\nexport * from './Comic.types';\r\nexport * from './openseadragon.types';\r\nimport { OpenSeadragonType, ViewerType } from './openseadragon.types';\r\n\r\ninterface OsdRequest {\r\n  resolve: (value?: unknown) => void;\r\n  reject: (reason?: any) => void;\r\n}\r\n\r\nlet OpenSeadragon: OpenSeadragonType | undefined;\r\nlet osdRequest: OsdRequest | undefined;\r\n\r\ndeclare global {\r\n  interface Window {\r\n    OpenSeadragon: OpenSeadragonType;\r\n  }\r\n}\r\n\r\nconst osdPromise = new Promise((resolve, reject) => {\r\n  osdRequest = { resolve, reject };\r\n});\r\n\r\ntype Frame = any;\r\ntype Container = any;\r\ntype OnFrameChange = (params: { frameIndex: number; isLastFrame: boolean }) => void;\r\ntype OnComicLoad = (params: {}) => void;\r\n\r\ninterface DriftoryArguments {\r\n  container: HTMLElement;\r\n  onFrameChange?: OnFrameChange;\r\n  onComicLoad?: OnComicLoad;\r\n  prefixUrl?: string;\r\n}\r\n\r\nexport default class Driftory {\r\n  container: Container;\r\n  onFrameChange: OnFrameChange;\r\n  onComicLoad: OnComicLoad;\r\n  frames: Array<Frame> = [];\r\n  frameIndex: number = -1;\r\n  lastScrollTime: number = 0;\r\n  scrollDelay: number = 2000;\r\n  viewer?: ViewerType;\r\n\r\n  constructor(args: DriftoryArguments) {\r\n    this.container = args.container;\r\n    this.onFrameChange = args.onFrameChange || function() {};\r\n    this.onComicLoad = args.onComicLoad || function() {};\r\n\r\n    // Note: loadJs only loads the file once, even if called multiple times, and always makes sure\r\n    // all of the callbacks are called.\r\n    loadJs(\r\n      'https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/openseadragon.min.js',\r\n      () => {\r\n        OpenSeadragon = window.OpenSeadragon;\r\n        this.initialize(args);\r\n        osdRequest?.resolve();\r\n      }\r\n    );\r\n  }\r\n\r\n  initialize({ container, prefixUrl }: DriftoryArguments) {\r\n    this.viewer =\r\n      OpenSeadragon &&\r\n      OpenSeadragon({\r\n        element: container,\r\n        prefixUrl: prefixUrl,\r\n        showNavigationControl: false,\r\n        maxZoomPixelRatio: 10,\r\n        gestureSettingsMouse: {\r\n          clickToZoom: false\r\n        }\r\n      });\r\n\r\n    if (this.viewer) {\r\n      // TODO: Maybe don't need to do this every frame.\r\n      this.viewer.addHandler('animation', () => {\r\n        const frameIndex = this.figureFrameIndex();\r\n        if (frameIndex !== -1 && frameIndex !== this.frameIndex) {\r\n          this.frameIndex = frameIndex;\r\n          if (this.onFrameChange) {\r\n            this.onFrameChange({\r\n              frameIndex,\r\n              isLastFrame: frameIndex === this.getFrameCount() - 1\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      this.viewer.addHandler('canvas-click', event => {\r\n        if (!event || !event.quick || !event.position || !this.viewer) {\r\n          return;\r\n        }\r\n\r\n        const point = this.viewer.viewport.pointFromPixel(event.position);\r\n        let foundIndex = -1;\r\n        const itemCount = this.viewer.world.getItemCount();\r\n\r\n        for (let i = 0; i < itemCount; i++) {\r\n          const item = this.viewer.world.getItemAt(i);\r\n          if (item.getBounds().containsPoint(point)) {\r\n            foundIndex = i;\r\n          }\r\n        }\r\n\r\n        if (foundIndex === -1) {\r\n          const realFrameIndex = this.figureFrameIndex();\r\n          if (realFrameIndex === -1 && this.frameIndex !== undefined) {\r\n            this.goToFrame(this.frameIndex);\r\n          } else {\r\n            this.goToNextFrame();\r\n          }\r\n        } else if (foundIndex === this.frameIndex) {\r\n          this.goToNextFrame();\r\n        } else {\r\n          this.goToFrame(foundIndex);\r\n        }\r\n      });\r\n\r\n      const originalScrollHandler = this.viewer.innerTracker.scrollHandler;\r\n      this.viewer.innerTracker.scrollHandler = event => {\r\n        if (\r\n          event.originalEvent.ctrlKey ||\r\n          event.originalEvent.altKey ||\r\n          event.originalEvent.metaKey\r\n        ) {\r\n          return originalScrollHandler.call(this.viewer?.innerTracker, event);\r\n        }\r\n\r\n        const now = Date.now();\r\n        // console.log(event.scroll, now, now - this.lastScrollTime);\r\n        if (now - this.lastScrollTime < this.scrollDelay) {\r\n          // Returning false stops the browser from scrolling itself.\r\n          return false;\r\n        }\r\n\r\n        this.lastScrollTime = now;\r\n        if (event.scroll < 0) {\r\n          this.goToNextFrame();\r\n        } else {\r\n          this.goToPreviousFrame();\r\n        }\r\n\r\n        // Returning false stops the browser from scrolling itself.\r\n        return false;\r\n      };\r\n\r\n      window.addEventListener('keydown', event => {\r\n        if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\r\n          return;\r\n        }\r\n\r\n        if (event.key === 'ArrowRight' || event.key === 'ArrowDown' || event.key === ' ') {\r\n          this.goToNextFrame();\r\n        } else if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\r\n          this.goToPreviousFrame();\r\n        } else {\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      });\r\n    }\r\n  }\r\n\r\n  openComic(unsafeComic: Comic | string) {\r\n    const { comic } =\r\n      typeof unsafeComic === 'string' ? (JSON.parse(unsafeComic) as Comic) : unsafeComic;\r\n\r\n    osdPromise.then(() => {\r\n      this.container.style.backgroundColor = comic.body.backgroundColor;\r\n\r\n      if (this.viewer) {\r\n        if (comic.body.frames) {\r\n          this.frames = comic.body.frames.map(frame => {\r\n            return (\r\n              OpenSeadragon &&\r\n              new OpenSeadragon.Rect(\r\n                frame.x - frame.width / 2,\r\n                frame.y - frame.height / 2,\r\n                frame.width,\r\n                frame.height\r\n              )\r\n            );\r\n          });\r\n        } else {\r\n          this.frames = comic.body.items.map(item => {\r\n            return (\r\n              OpenSeadragon &&\r\n              new OpenSeadragon.Rect(\r\n                item.x - item.width / 2,\r\n                item.y - item.height / 2,\r\n                item.width,\r\n                item.height\r\n              )\r\n            );\r\n          });\r\n        }\r\n\r\n        comic.body.items.forEach((item, i) => {\r\n          var success;\r\n\r\n          if (i === 0) {\r\n            success = () => this.goToFrame(0);\r\n          }\r\n\r\n          this.viewer?.addTiledImage({\r\n            x: item.x - item.width / 2,\r\n            y: item.y - item.height / 2,\r\n            width: item.width,\r\n            success: success,\r\n            tileSource: {\r\n              type: 'legacy-image-pyramid',\r\n              levels: [\r\n                {\r\n                  url: item.url,\r\n                  width: item.width,\r\n                  height: item.height\r\n                }\r\n              ]\r\n            }\r\n          });\r\n        });\r\n\r\n        if (this.onComicLoad) {\r\n          this.onComicLoad({});\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  goToFrame(index: number) {\r\n    if (this.getFrameIndex() !== index) {\r\n      var frame = this.frames[index];\r\n      var bufferFactor = 0.2;\r\n      if (frame) {\r\n        var box = frame.clone();\r\n\r\n        box.width *= 1 + bufferFactor;\r\n        box.height *= 1 + bufferFactor;\r\n        box.x -= frame.width * bufferFactor * 0.5;\r\n        box.y -= frame.height * bufferFactor * 0.5;\r\n\r\n        this.viewer?.viewport.fitBounds(box);\r\n      }\r\n    }\r\n  }\r\n\r\n  getFrameIndex() {\r\n    return this.frameIndex;\r\n  }\r\n\r\n  figureFrameIndex() {\r\n    let bestIndex = -1;\r\n    let bestDistance = Infinity;\r\n    if (this.viewer) {\r\n      const viewportBounds = this.viewer.viewport.getBounds(true);\r\n      const viewportCenter = viewportBounds.getCenter();\r\n\r\n      for (let i = 0; i < this.frames.length; i++) {\r\n        const frame = this.frames[i];\r\n        if (frame.containsPoint(viewportCenter)) {\r\n          const distance = viewportCenter.squaredDistanceTo(frame.getCenter());\r\n          if (distance < bestDistance) {\r\n            bestDistance = distance;\r\n            bestIndex = i;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return bestIndex;\r\n  }\r\n\r\n  getFrameCount() {\r\n    return this.frames.length;\r\n  }\r\n\r\n  goToNextFrame() {\r\n    let index = this.getFrameIndex();\r\n    if (index < this.frames.length - 1) {\r\n      this.goToFrame(index + 1);\r\n    }\r\n  }\r\n\r\n  goToPreviousFrame() {\r\n    let index = this.getFrameIndex();\r\n    if (index > 0) {\r\n      this.goToFrame(index - 1);\r\n    }\r\n  }\r\n}\r\n","// Type definitions is a manual copy of @types/openseadragon\r\n\r\n// Type definitions for OpenSeadragon 2.4\r\n// Project: https://openseadragon.github.io/\r\n// Definitions by:  Álvaro Martínez <https://github.com/alvaromartmart>\r\n//                  RobertYost <https://github.com/RobertYost>\r\n//                  Jasper Staab <https://github.com/jstaab>\r\n//                  Kristin Ruben <https://github.com/kristinruben>\r\n//                  Geoff Harper <https://github.com/geoff-harper>\r\n//                  Justin <https://github.com/justincy>\r\n//                  Peter Blazejewicz <https://github.com/peterblazejewicz>\r\n// Definitions: https://github.com/alvaromartmart/types-openseadragon\r\n// TypeScript Version: 3.1\r\ndeclare namespace OpenSeadragon {\r\n  class Browser {\r\n    vendor: BROWSERS;\r\n    version: number;\r\n    alpha: boolean;\r\n  }\r\n\r\n  enum BROWSERS {\r\n    UNKNOWN = 0,\r\n    IE = 1,\r\n    FIREFOX = 2,\r\n    SAFARI = 3,\r\n    CHROME = 4,\r\n    OPERA = 5\r\n  }\r\n\r\n  enum ButtonState {\r\n    REST,\r\n    GROUP,\r\n    HOVER,\r\n    DOWN\r\n  }\r\n\r\n  enum ControlAnchor {\r\n    NONE,\r\n    TOP_LEFT,\r\n    TOP_RIGHT,\r\n    BOTTOM_LEFT,\r\n    BOTTOM_RIGHT,\r\n    ABSOLUTE\r\n  }\r\n\r\n  const DEFAULT_SETTINGS: Options;\r\n\r\n  const fullScreenApi: {\r\n    supportsFullScreen: boolean;\r\n    isFullScreen: () => boolean;\r\n    getFullScreenElement: () => HTMLElement;\r\n    requestFullScreen: () => void;\r\n    exitFullScreen: () => void;\r\n    cancelFullScreen: () => void;\r\n    fullScreenEventName: string;\r\n    fullScreenErrorEventName: string;\r\n  };\r\n\r\n  enum OverlayPlacement {\r\n    CENTER,\r\n    TOP_LEFT,\r\n    TOP,\r\n    TOP_RIGHT,\r\n    RIGHT,\r\n    BOTTOM_RIGHT,\r\n    BOTTOM,\r\n    BOTTOM_LEFT,\r\n    LEFT\r\n  }\r\n\r\n  enum OverlayRotationMode {\r\n    NO_ROTATION,\r\n    EXACT,\r\n    BOUNDING_BOX\r\n  }\r\n\r\n  let pixelDensityRatio: number;\r\n\r\n  enum Placement {\r\n    CENTER,\r\n    TOP_LEFT,\r\n    TOP,\r\n    TOP_RIGHT,\r\n    RIGHT,\r\n    BOTTOM_RIGHT,\r\n    BOTTOM,\r\n    BOTTOM_LEFT,\r\n    LEFT\r\n  }\r\n\r\n  let supportsCanvas: boolean;\r\n\r\n  let version: {\r\n    versionStr: string;\r\n    major: number;\r\n    minor: number;\r\n    revision: number;\r\n  };\r\n\r\n  function addClass(element: Element | string, className: string): void;\r\n\r\n  function addEvent(\r\n    element: Element | string,\r\n    eventName: string,\r\n    handler: (event: Event) => void,\r\n    useCapture?: boolean\r\n  ): void;\r\n\r\n  function cancelEvent(event?: OSDEvent<any>): void;\r\n\r\n  function capitalizeFirstLetter(value: string): string;\r\n\r\n  function createCallback(\r\n    object: object,\r\n    method: (...args: any[]) => void,\r\n    ...args: any[]\r\n  ): (...args: any[]) => void;\r\n\r\n  function delegate(\r\n    object: object,\r\n    method: (...args: any[]) => void\r\n  ): (object: any, ...args: any[]) => void; // REVIEW: unsure of return type\r\n\r\n  function extend(): any;\r\n\r\n  function getCssPropertyWithVendorPrefix(property: string): string;\r\n\r\n  function getElement(element: string | Element): Element;\r\n\r\n  function getElementOffset(element: Element | string): Point;\r\n\r\n  function getElementPosition(element: Element | string): Point;\r\n\r\n  function getElementSize(element: Element | string): Point;\r\n\r\n  function getElementStyle(element: Element | string): any; // CSSStyle?\r\n\r\n  function getMousePosition(event?: OSDEvent<any>): Point;\r\n\r\n  function getPageScroll(): Point;\r\n\r\n  function getString(property: string): string;\r\n\r\n  function getUrlParameter(key: string): string;\r\n\r\n  function getWindowSize(): Point;\r\n\r\n  function imageFormatSupported(extension?: string): boolean;\r\n\r\n  function indexOf(array: any[], searchElement: object, fromIndex?: number): number;\r\n\r\n  // (missing jquery functions)\r\n\r\n  function makeAjaxRequest(options: {\r\n    url: string;\r\n    success: (obj: object) => void;\r\n    error: (obj: object) => void;\r\n    headers: object;\r\n    responseType: string;\r\n    withCredentials?: boolean;\r\n  }): XMLHttpRequest;\r\n\r\n  function makeCenteredNode(element: Element | string): Element;\r\n\r\n  function makeNeutralElement(tagName: string): Element;\r\n\r\n  function makeTransparentImage(src: string): Element;\r\n\r\n  function now(): number;\r\n\r\n  function parseJSON(string: string): object;\r\n\r\n  function parseXml(string: string): Document;\r\n\r\n  function pointInElement(element: Element | string, point: Point): boolean;\r\n\r\n  function positiveModulo(number: number, modulo: number): number;\r\n\r\n  function removeClass(element: Element | string, className: string): void;\r\n\r\n  function removeEvent(\r\n    element: Element | string,\r\n    eventName: string,\r\n    handler: EventHandler<any>,\r\n    useCapture?: boolean\r\n  ): void;\r\n\r\n  function setElementOpacity(element: Element | string, opacity: number, usesAlpha?: boolean): void;\r\n\r\n  function setElementTouchActionNone(element: Element | string): void;\r\n\r\n  function setPageScroll(point: Point): void;\r\n\r\n  function setString(property: string, value: any): void;\r\n\r\n  function stopEvent(event?: OSDEvent<any>): void;\r\n\r\n  interface GestureSettings {\r\n    scrollToZoom?: boolean;\r\n    clickToZoom?: boolean;\r\n    dblClickToZoom?: boolean;\r\n    pinchToZoom?: boolean;\r\n    flickEnabled?: boolean;\r\n    flickMinSpeed?: number;\r\n    flickMomentum?: number;\r\n  }\r\n\r\n  interface NavImagesValues {\r\n    REST: string;\r\n    GROUP: string;\r\n    HOVER: string;\r\n    DOWN: string;\r\n  }\r\n  interface NavImages {\r\n    zoomIn: NavImagesValues;\r\n    zoomOut: NavImagesValues;\r\n    home: NavImagesValues;\r\n    fullpage: NavImagesValues;\r\n    rotateleft: NavImagesValues;\r\n    rotateright: NavImagesValues;\r\n    flip: NavImagesValues;\r\n    previous: NavImagesValues;\r\n    next: NavImagesValues;\r\n  }\r\n\r\n  interface Options {\r\n    id?: string;\r\n    element?: HTMLElement;\r\n    tileSources?:\r\n      | string\r\n      | string[]\r\n      | TileSource[]\r\n      | TileSourceOptions\r\n      | {\r\n          type: string;\r\n          levels: Array<{\r\n            url: string;\r\n            height: number;\r\n            width: number;\r\n          }>;\r\n        }\r\n      | {\r\n          Image: {\r\n            xmlns?: string;\r\n            Url: string;\r\n            Format: string;\r\n            Overlap: string;\r\n            TileSize: string;\r\n            Size: {\r\n              Width: string;\r\n              Height: string;\r\n            };\r\n          };\r\n        };\r\n    tabIndex?: number;\r\n    overlays?: any[];\r\n    prefixUrl?: string;\r\n    navImages?: NavImages;\r\n    debugMode?: boolean;\r\n    debugGridColor?: string[];\r\n    blendTime?: number;\r\n    alwaysBlend?: boolean;\r\n    autoHideControls?: boolean;\r\n    immediateRender?: boolean;\r\n    defaultZoomLevel?: number;\r\n    opacity?: number;\r\n    preload?: boolean;\r\n    compositeOperation?:\r\n      | 'source-over'\r\n      | 'source-atop'\r\n      | 'source-in'\r\n      | 'source-out'\r\n      | 'destination-over'\r\n      | 'destination-atop'\r\n      | 'destination-in'\r\n      | 'destination-out'\r\n      | 'lighter'\r\n      | 'copy'\r\n      | 'xor';\r\n    placeholderFillStyle?: string | CanvasGradient | CanvasPattern;\r\n    degrees?: number;\r\n    flipped?: boolean;\r\n    minZoomLevel?: number;\r\n    maxZoomLevel?: number;\r\n    homeFillsViewer?: boolean;\r\n    panHorizontal?: boolean;\r\n    panVertical?: boolean;\r\n    constrainDuringPan?: boolean;\r\n    wrapHorizontal?: boolean;\r\n    wrapVertical?: boolean;\r\n    minZoomImageRatio?: number;\r\n    maxZoomPixelRatio?: number;\r\n    smoothTileEdgesMinZoom?: number;\r\n    iOSDevice?: boolean;\r\n    autoResize?: boolean;\r\n    preserveImageSizeOnResize?: boolean;\r\n    minScrollDeltaTime?: number;\r\n    pixelsPerWheelLine?: number;\r\n    pixelsPerArrowPress?: number;\r\n    visibilityRatio?: number;\r\n    viewportMargins?: object;\r\n    imageLoaderLimit?: number;\r\n    clickTimeThreshold?: number;\r\n    clickDistThreshold?: number;\r\n    dblClickTimeThreshold?: number;\r\n    dblClickDistThreshold?: number;\r\n    springStiffness?: number;\r\n    animationTime?: number;\r\n    gestureSettingsMouse?: GestureSettings;\r\n    gestureSettingsTouch?: GestureSettings;\r\n    gestureSettingsPen?: GestureSettings;\r\n    gestureSettingsUnknown?: GestureSettings;\r\n    zoomPerClick?: number;\r\n    zoomPerScroll?: number;\r\n    zoomPerSecond?: number;\r\n    showNavigator?: boolean;\r\n    navigatorId?: string;\r\n    navigatorPosition?: 'TOP_LEFT' | 'TOP_RIGHT' | 'BOTTOM_LEFT' | 'BOTTOM_RIGHT' | 'ABSOLUTE';\r\n    navigatorSizeRatio?: number;\r\n    navigatorMaintainSizeRatio?: boolean;\r\n    navigatorTop?: number | string;\r\n    navigatorLeft?: number | string;\r\n    navigatorHeight?: number | string;\r\n    navigatorWidth?: number | string;\r\n    navigatorAutoResize?: boolean;\r\n    navigatorAutoFade?: boolean;\r\n    navigatorRotate?: boolean;\r\n    navigatorBackground?: string;\r\n    navigatorOpacity?: number;\r\n    navigatorBorderColor?: string;\r\n    navigatorDisplayRegionColor?: string;\r\n    controlsFadeDelay?: number;\r\n    controlsFadeLength?: number;\r\n    maxImageCacheCount?: number;\r\n    timeout?: number;\r\n    useCanvas?: boolean;\r\n    minPixelRatio?: number;\r\n    mouseNavEnabled?: number;\r\n    showNavigationControl?: boolean;\r\n    navigationControlAnchor?: ControlAnchor;\r\n    showZoomControl?: boolean;\r\n    showHomeControl?: boolean;\r\n    showFullPageControl?: boolean;\r\n    showRotationControl?: boolean;\r\n    showFlipControl?: boolean;\r\n    showSequenceControl?: boolean;\r\n    sequenceControlAnchor?: ControlAnchor;\r\n    navPrevNextWrap?: boolean;\r\n    zoomInButton?: string;\r\n    zoomOutButton?: string;\r\n    homeButton?: string;\r\n    fullPageButton?: string;\r\n    rotateLeftButton?: string;\r\n    rotateRightButton?: string;\r\n    previousButton?: string;\r\n    nextButton?: string;\r\n    sequenceMode?: boolean;\r\n    /**\r\n     * If sequenceMode is true, display this page initially.\r\n     * @default 0\r\n     */\r\n    initialPage?: number;\r\n    preserveViewport?: boolean;\r\n    preserveOverlays?: boolean;\r\n    showReferenceStrip?: boolean;\r\n    referenceStripScroll?: string;\r\n    referenceStripElement?: HTMLElement;\r\n    referenceStripHeight?: number;\r\n    referenceStripWidth?: number;\r\n    referenceStripPosition?: string;\r\n    referenceStripSizeRatio?: number;\r\n    collectionMode?: boolean;\r\n    collectionRows?: number;\r\n    collectionColumns?: number;\r\n    collectionLayout?: 'horizontal' | 'vertical';\r\n    collectionTileSize?: number;\r\n    collectionTileMargin?: number;\r\n    crossOriginPolicy?: 'Anonymous' | 'use-credentials' | false;\r\n    ajaxWithCredentials?: boolean;\r\n    loadTilesWithAjax?: boolean;\r\n    ajaxHeaders?: object;\r\n    imageSmoothingEnabled?: boolean;\r\n    rotationIncrement?: number;\r\n  }\r\n\r\n  interface TileSourceOptions {\r\n    url?: string;\r\n    referenceStripThumbnailUrl?: string;\r\n    success?: (event: Event) => void;\r\n    ajaxWithCredentials?: boolean;\r\n    ajaxHeaders?: object;\r\n    width?: number;\r\n    height?: number;\r\n    tileSize?: number;\r\n    tileWidth?: number;\r\n    tileHeight?: number;\r\n    tileOverlap?: number;\r\n    minLevel?: number;\r\n    maxLevel?: number;\r\n    getTileUrl?: (l: number, x: number, y: number) => string;\r\n  }\r\n\r\n  class Button extends EventSource {\r\n    currentState: ButtonState;\r\n    element: Element;\r\n    fadeDelay: number;\r\n    fadeLength: number;\r\n    tracker: MouseTracker;\r\n\r\n    constructor(options: {\r\n      element?: Element;\r\n      tooltip?: string;\r\n      srcRest?: string;\r\n      srcGroup?: string;\r\n      srcHover?: string;\r\n      srcDown?: string;\r\n      fadeDelay?: number;\r\n      fadeLength?: number;\r\n      onPress?: EventHandler<ButtonEvent>;\r\n      onRelease?: EventHandler<ButtonEvent>;\r\n      onClick?: EventHandler<ButtonEvent>;\r\n      onEnter?: EventHandler<ButtonEvent>;\r\n      onExit?: EventHandler<ButtonEvent>;\r\n      onFocus?: EventHandler<ButtonEvent>;\r\n      onBlur?: EventHandler<ButtonEvent>;\r\n    });\r\n\r\n    addHandler(\r\n      eventName: ButtonEventName,\r\n      handler: EventHandler<ButtonEvent>,\r\n      userData?: object\r\n    ): void;\r\n    addOnceHandler(\r\n      eventName: ButtonEventName,\r\n      handler: EventHandler<ButtonEvent>,\r\n      userData?: object,\r\n      times?: number\r\n    ): void;\r\n    disable(): void;\r\n    enable(): void;\r\n    getHandler(eventName: ButtonEventName): (source: ButtonEventName, ...args: any[]) => void;\r\n    raiseEvent(eventName: ButtonEventName, eventArgs: object): void;\r\n    removeAllHandlers(eventName: ButtonEventName): void;\r\n    removeHandler(eventName: ButtonEventName, handler: EventHandler<ButtonEvent>): void;\r\n  }\r\n\r\n  class ButtonGroup {\r\n    buttons: Button[];\r\n    element: Element;\r\n    tracker: MouseTracker;\r\n\r\n    constructor(options: { buttons: Button[]; element?: Element });\r\n  }\r\n\r\n  interface TControlOptions {\r\n    anchor?: ControlAnchor;\r\n    attachToViewer?: boolean;\r\n    autoFade?: boolean;\r\n  }\r\n\r\n  class Control {\r\n    anchor: ControlAnchor;\r\n    autoFade: boolean;\r\n    container: Element;\r\n    element: Element;\r\n    wrapper: Element;\r\n\r\n    constructor(element: Element, options: TControlOptions, container: Element);\r\n\r\n    destroy(): void;\r\n    isVisible(): boolean;\r\n    setOpacity(opacity: number): void;\r\n    setVisible(visible: boolean): void;\r\n  }\r\n\r\n  class ControlDock {\r\n    constructor(options: object);\r\n\r\n    addControl(element: Control, controlOptions: TControlOptions): void;\r\n    areControlsEnabled(): boolean;\r\n    clearControls(): ControlDock;\r\n    removeControl(element: Control): ControlDock;\r\n    setControlsEnabled(enabled: boolean): ControlDock;\r\n  }\r\n\r\n  class DisplayRect extends Rect {\r\n    maxLevel: number;\r\n    minLevel: number;\r\n\r\n    constructor(\r\n      x: number,\r\n      y: number,\r\n      width: number,\r\n      height: number,\r\n      minLevel: number,\r\n      maxLevel: number\r\n    );\r\n  }\r\n\r\n  class Drawer {\r\n    canvas: HTMLCanvasElement | HTMLElement;\r\n    container: Element;\r\n    context: CanvasRenderingContext2D | null;\r\n    // element : Element; // Deprecated\r\n\r\n    constructor(options: {\r\n      viewer: Viewer;\r\n      viewport: Viewport;\r\n      element: Element;\r\n      debugGridColor?: string;\r\n    });\r\n\r\n    blendSketch(options: {\r\n      opacity: number;\r\n      scale?: number;\r\n      translate?: Point;\r\n      compositeOperation?: string;\r\n      bounds?: Rect;\r\n    }): void;\r\n    canRotate(): boolean;\r\n    clear(): void;\r\n    destroy(): void;\r\n    drawTile(\r\n      tile: Tile,\r\n      drawingHandler: (context: CanvasRenderingContext2D, tile: any, rendered: any) => void, // TODO: determine handler parameter types\r\n      useSketch: boolean,\r\n      scale?: number,\r\n      translate?: Point\r\n    ): void;\r\n    getCanvasSize(sketch: boolean): Point;\r\n    getOpacity(): number;\r\n    setOpacity(opacity: number): Drawer;\r\n    viewportToDrawerRectangle(rectangle: Rect): Rect;\r\n    setImageSmoothingEnabled(imageSmoothingEnabled?: boolean): void;\r\n    viewportCoordToDrawerCoord(point: Point): Point;\r\n    clipWithPolygons(polygons: Point[][], useSketch?: boolean): void;\r\n  }\r\n\r\n  class DziTileSource extends TileSource {\r\n    constructor(\r\n      width: number,\r\n      height: number,\r\n      tileSize: number,\r\n      tileOverlap: number,\r\n      tilesUrl: number,\r\n      fileFormat: number,\r\n      displayRects: number,\r\n      minLevel: number,\r\n      maxLevel: number\r\n    );\r\n  }\r\n\r\n  class IIIFTileSource extends TileSource {\r\n    constructor(options: TileSourceOptions & { tileFormat?: string });\r\n  }\r\n\r\n  class ImageLoader {\r\n    constructor(options: { jobLimit?: number; timeout?: number });\r\n\r\n    addJob(options: {\r\n      src?: string;\r\n      loadWithAjax?: string;\r\n      ajaxHeaders?: string;\r\n      crossOriginPolicy?: string | boolean;\r\n      ajaxWithCredentials?: boolean;\r\n      callback?: () => void;\r\n      abort?: () => void;\r\n    }): void;\r\n    clear(): void;\r\n  }\r\n\r\n  class ImageTileSource extends TileSource {\r\n    constructor(options: {\r\n      url: string;\r\n      buildPyramid?: boolean;\r\n      crossOriginPolicy?: string | boolean;\r\n      ajaxWithCredentials?: string | boolean;\r\n      useCanvas?: boolean;\r\n    });\r\n  }\r\n\r\n  class LegacyTileSource extends TileSource {\r\n    constructor(\r\n      levels?: Array<{\r\n        url: string;\r\n        width: number;\r\n        height: number;\r\n      }>\r\n    );\r\n  }\r\n\r\n  interface MouseTrackerOptions {\r\n    element: Element | string;\r\n    startDisabled?: boolean;\r\n    clickTimeThreshold?: number;\r\n    clickDistThreshold?: number;\r\n    dblClickTimeThreshold?: number;\r\n    dblClickDistThreshold?: number;\r\n    stopDelay?: number;\r\n    enterHandler?: EventHandler<OSDEvent<any>>;\r\n    exitHandler?: EventHandler<OSDEvent<any>>;\r\n    pressHandler?: EventHandler<OSDEvent<any>>;\r\n    nonPrimaryPressHandler?: EventHandler<OSDEvent<any>>;\r\n    releaseHandler?: EventHandler<OSDEvent<any>>;\r\n    nonPrimaryReleaseHandler?: EventHandler<OSDEvent<any>>;\r\n    moveHandler?: EventHandler<OSDEvent<any>>;\r\n    scrollHandler?: EventHandler<OSDEvent<any>>;\r\n    clickHandler?: EventHandler<OSDEvent<any>>;\r\n    dblClickHandler?: EventHandler<OSDEvent<any>>;\r\n    dragHandler?: EventHandler<OSDEvent<any>>;\r\n    dragEndHandler?: EventHandler<OSDEvent<any>>;\r\n    pinchHandler?: EventHandler<OSDEvent<any>>;\r\n    keyDownHandler?: EventHandler<OSDEvent<any>>;\r\n    keyUpHandler?: EventHandler<OSDEvent<any>>;\r\n    keyHandler?: EventHandler<OSDEvent<any>>;\r\n    focusHandler?: EventHandler<OSDEvent<any>>;\r\n    blurHandler?: EventHandler<OSDEvent<any>>;\r\n    userData?: object;\r\n  }\r\n  class MouseTracker {\r\n    clickTimeThreshold: number;\r\n    clickDistThreshold: number;\r\n    dblClickTimeThreshold: number;\r\n    dblClickDistThreshold: number;\r\n    element: Element;\r\n\r\n    constructor(options: MouseTrackerOptions);\r\n\r\n    blurHandler: (event: OSDEvent<any>) => void;\r\n    clickHandler: (event: OSDEvent<any>) => void;\r\n    dblClickHandler: (event: OSDEvent<any>) => void;\r\n    destroy(): void;\r\n    dragEndHandler: (event: OSDEvent<any>) => void;\r\n    dragHandler: (event: OSDEvent<any>) => void;\r\n    enterHandler: (event: OSDEvent<any>) => void;\r\n    exitHandler: (event: OSDEvent<any>) => void;\r\n    focusHandler: (event: OSDEvent<any>) => void;\r\n    getActivePointerCount(): number;\r\n    getActivePointersListByType(type: string): GesturePointList;\r\n    getActivePointersListsExceptType(type: string): GesturePointList[];\r\n    keyDownHandler: (event: OSDEvent<any>) => void;\r\n    keyHandler: (event: OSDEvent<any>) => void;\r\n    keyUpHandler: (event: OSDEvent<any>) => void;\r\n    moveHandler: (event: OSDEvent<any>) => void;\r\n    nonPrimaryPressHandler: (event: OSDEvent<any>) => void;\r\n    nonPrimaryReleaseHandler: (event: OSDEvent<any>) => void;\r\n    pinchHandler: (event: OSDEvent<any>) => void;\r\n    pressHandler: (event: OSDEvent<any>) => void;\r\n    releaseHandler: (event: OSDEvent<any>) => void;\r\n    scrollHandler: (event: OSDEvent<any>) => void;\r\n    setTracking(track: boolean): any;\r\n    stopHandler: (event: OSDEvent<any>) => void;\r\n  }\r\n\r\n  interface GesturePoint {\r\n    id: number;\r\n    type: string;\r\n    captured: boolean;\r\n    isPrimary: boolean;\r\n    insideElementPressed: boolean;\r\n    insideElement: boolean;\r\n    speed: number;\r\n    direction: number;\r\n    contactPos: Point;\r\n    contactTime: number;\r\n    lastPos: Point;\r\n    lastTime: number;\r\n    currentPos: Point;\r\n    currentTime: number;\r\n  }\r\n\r\n  class GesturePointList {\r\n    buttons: Button[];\r\n    captureCount: number;\r\n    clicks: number;\r\n    contacts: number;\r\n    type: string;\r\n\r\n    constructor(type: string);\r\n\r\n    add(gesturePoint: GesturePoint): number;\r\n    addContact(): void;\r\n    asArray(): GesturePoint[];\r\n    getById(id: number): GesturePoint | null;\r\n    getByIndex(index: number): GesturePoint | null;\r\n    getLength(): number;\r\n    getPrimary(): GesturePoint | null;\r\n    removeById(id: number): number;\r\n    removeContact(): void;\r\n  }\r\n\r\n  class Navigator extends Viewer {\r\n    setFlip(state: boolean): void;\r\n    update(viewport: Viewport): void;\r\n    updateSize(): void;\r\n    setWidth(width: number | string): void;\r\n    setHeight(width: number | string): void;\r\n  }\r\n\r\n  class OsmTileSource extends TileSource {\r\n    constructor(\r\n      width: number,\r\n      height: number,\r\n      tileSize: number,\r\n      tileOverlap: number,\r\n      tilesUrl: string\r\n    );\r\n  }\r\n\r\n  type OnDrawCallback = (position: Point, size: Point, element: HTMLElement) => void;\r\n\r\n  interface OverlayOptions {\r\n    element: HTMLElement;\r\n    location: Point | Rect;\r\n    placement?: Placement;\r\n    onDraw?: OnDrawCallback;\r\n    checkResize?: boolean;\r\n    width?: number;\r\n    height?: number;\r\n    rotationMode?: boolean;\r\n  }\r\n\r\n  class Overlay {\r\n    constructor(options: OverlayOptions);\r\n    adjust(position: Point, size: Point): void;\r\n    destroy(): void;\r\n    drawHTML(container: HTMLElement): void;\r\n    getBounds(viewport: Viewport): Rect;\r\n    update(location: Point | Rect, placement: Placement): void;\r\n  }\r\n\r\n  class Point {\r\n    x: number;\r\n    y: number;\r\n    constructor(x?: number, y?: number);\r\n    apply(func: (v: number) => number): Point;\r\n    clone(): Point;\r\n    distanceTo(point: Point): number;\r\n    divide(factor: number): Point;\r\n    equals(point: Point): boolean;\r\n    minus(point: Point): Point;\r\n    negate(): Point;\r\n    plus(point: Point): Point;\r\n    rotate(degrees: number, pivot?: Point): Point;\r\n    squaredDistanceTo(point: Point): number;\r\n    times(factor: number): Rect;\r\n    toString(): string;\r\n  }\r\n\r\n  class Rect {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    degrees: number;\r\n    constructor(x?: number, y?: number, width?: number, height?: number, degrees?: number);\r\n    clone(): Rect;\r\n    containsPoint(point: Point, epsilon?: number): boolean;\r\n    equals(rectangle: Rect): boolean;\r\n    getAspectRatio(): number;\r\n    getBottomLeft(): Point;\r\n    getBottomRight(): Point;\r\n    getBoundingBox(): Rect;\r\n    getCenter(): Point;\r\n    getIntegerBoundingBox(): Rect;\r\n    getSize(): Point;\r\n    getTopLeft(): Point;\r\n    getTopRight(): Point;\r\n    intersection(rect: Rect): Rect;\r\n    rotate(degrees: number, pivot?: Rect): Rect;\r\n    times(factor: number): Rect;\r\n    toString(): string;\r\n    translate(delta: Point): Rect;\r\n    union(rect: Rect): Rect;\r\n  }\r\n\r\n  class ReferenceStrip {\r\n    constructor(options: object);\r\n    setFocus(): void;\r\n    update(): void;\r\n  }\r\n\r\n  class Spring {\r\n    animationTime: number;\r\n    current: {\r\n      value: number;\r\n      time: number;\r\n    };\r\n    springStiffness: number;\r\n    start: {\r\n      value: number;\r\n      time: number;\r\n    };\r\n    constructor(options: {\r\n      springStiffness: number;\r\n      animationTime: number;\r\n      initial?: number;\r\n      exponential?: boolean;\r\n    });\r\n    isAtTargetValue(): boolean;\r\n    resetTo(target: number): void;\r\n    shiftBy(delta: number): void;\r\n    springTo(target: number): void;\r\n    update(): void;\r\n  }\r\n\r\n  class Tile {\r\n    ajaxHeaders: object;\r\n    beingDrawn: boolean;\r\n    blendStart: number;\r\n    bounds: Rect;\r\n    cacheKey: string;\r\n    context2D: CanvasRenderingContext2D;\r\n    element: Element;\r\n    exists: boolean;\r\n    image: object;\r\n    imgElement: HTMLImageElement;\r\n    isBottomMost: boolean;\r\n    isRightMost: boolean;\r\n    lastTouchTime: number;\r\n    level: number;\r\n    loaded: boolean;\r\n    loading: boolean;\r\n    loadWithAjax: boolean;\r\n    opacity: number;\r\n    position: Point;\r\n    size: Point;\r\n    sourceBounds: Rect;\r\n    style: string;\r\n    url: string;\r\n    visibility: number;\r\n    x: number;\r\n    y: number;\r\n\r\n    constructor(\r\n      level: number,\r\n      x: number,\r\n      y: number,\r\n      bounds: Rect,\r\n      exists: boolean,\r\n      url: string,\r\n      context2D: CanvasRenderingContext2D,\r\n      loadWithAjax: boolean,\r\n      ajaxHeaders: object,\r\n      sourceBounds: Rect\r\n    );\r\n    drawCanvas(\r\n      context: CanvasRenderingContext2D,\r\n      drawingHandler: (context: CanvasRenderingContext2D, tile: any, rendered: any) => void,\r\n      scale?: number,\r\n      translate?: Point\r\n    ): void;\r\n    drawHTML(container: Element): void;\r\n    getScaleForEdgeSmoothing(): number;\r\n    getTranslationForEdgeSmoothing(scale?: number): Point;\r\n    toString(): string;\r\n    unload(): void;\r\n  }\r\n\r\n  class TileCache {\r\n    constructor(options: { maxImageCacheCount?: number });\r\n    cacheTile(options: {\r\n      tile: Tile;\r\n      image: HTMLImageElement; // TODO: check type\r\n      tiledImage: TiledImage;\r\n      cutoff?: number;\r\n    }): void;\r\n    clearTilesFor(tiledImage: TiledImage): void;\r\n    numTilesLoaded(): number;\r\n  }\r\n\r\n  class TiledImage {\r\n    source: TileSource;\r\n    constructor(options: {\r\n      source: TileSource;\r\n      viewer: Viewer;\r\n      tileCache: TileCache;\r\n      drawer: Drawer;\r\n      imageLoader: ImageLoader;\r\n      x?: number;\r\n      y?: number;\r\n      width?: number;\r\n      height?: number;\r\n      fitBounds?: Rect;\r\n      fitBoundsPlacement?: Placement;\r\n      clip?: Rect;\r\n      springStiffness?: number;\r\n      animationTime?: boolean;\r\n      minZoomImageRatio?: number;\r\n      wrapHorizontal?: boolean;\r\n      wrapVertical?: boolean;\r\n      immediateRender?: boolean;\r\n      blendTime?: number;\r\n      alwaysBlend?: boolean;\r\n      minPixelRatio?: number;\r\n      smoothTileEdgesMinZoom?: number;\r\n      iOSDevice?: boolean;\r\n      opacity?: number;\r\n      preload?: boolean;\r\n      compositeOperation?: string;\r\n      debugMode?: boolean;\r\n      placeholderFillStyle?: string | CanvasGradient | CanvasPattern;\r\n      crossOriginPolicy?: string | boolean;\r\n      ajaxWithCredentials?: boolean;\r\n      loadTilesWithAjax?: boolean;\r\n      ajaxHeaders?: object;\r\n    });\r\n\r\n    addHandler(eventName: string, handler: EventHandler<TiledImageEvent>, userData?: object): void;\r\n    addOnceHandler(\r\n      eventName: string,\r\n      handler: EventHandler<TiledImageEvent>,\r\n      userData?: object\r\n    ): void;\r\n    destroy(): void;\r\n    draw(): void;\r\n    fitBounds(bounds: Rect, anchor?: Placement, immediately?: boolean): void;\r\n    getBounds(current?: boolean): Rect;\r\n    getBoundsNoRotate(current?: boolean): Rect;\r\n    getClip(): Rect | null;\r\n    getClippedBounds(current?: boolean): Rect;\r\n    getCompositeOperation(): string;\r\n    getContentSize(): Point;\r\n    getFullyLoaded(): boolean;\r\n    getHandler(eventName: string): (source: Event, ...args: any[]) => void;\r\n    getOpacity(): number;\r\n    getPreload(): boolean;\r\n    getRotation(current?: boolean): number;\r\n    imageToViewerElementCoordinats(pixel: Point): Point;\r\n    imageToViewportCoordinates(position: Point, current?: boolean): Point;\r\n    imageToViewportCoordinates(imageX: number, imageY: number, current?: boolean): Point;\r\n    imageToViewportRectangle(\r\n      imageX: number,\r\n      imageY?: number,\r\n      pixelWidth?: number,\r\n      pixelHeight?: number,\r\n      current?: boolean\r\n    ): Rect;\r\n    imageToViewportRectangle(\r\n      position: Rect,\r\n      pixelWidth?: number,\r\n      pixelHeight?: number,\r\n      current?: boolean\r\n    ): Rect;\r\n\r\n    imageToViewportZoom(imageZoom: number): number;\r\n    imageToWindowCoordinates(pixel: Point): Point;\r\n    needsDraw(): boolean;\r\n    raiseEvent(eventName: string, eventArgs: object): void;\r\n    removeAllHandlers(eventName: string): void;\r\n    removeHandler(eventName: string, handler: EventHandler<TiledImageEvent>): void;\r\n    reset(): void;\r\n    resetCroppingPolygons(): void;\r\n    setClip(newClip: Rect | null): void;\r\n    setCompositeOperation(compositeOperation: string): void;\r\n    setCroppingPolygons(polygons: Point[][]): void;\r\n    setHeight(height: number, immediately?: boolean): void;\r\n    setOpacity(opacity: number): void;\r\n    setPosition(position: Point, immediately?: boolean): void;\r\n    setPreload(preload: boolean): void;\r\n    setRotation(degrees: number, immediately?: boolean): void;\r\n    setWidth(width: number, immediately?: boolean): void;\r\n    update(): boolean;\r\n    viewerElementToImageCoordinates(pixel: Point): Point;\r\n    viewportToImageCoordinates(position: Point, current?: boolean): Point;\r\n    viewportToImageCoordinates(viewerX: number, viewerY: number, current?: boolean): Point;\r\n    viewportToImageRectangle(position: Rect): Rect;\r\n    viewportToImageRectangle(\r\n      viewportX: number,\r\n      viewportY: number,\r\n      pixelWidth?: number,\r\n      pixelHeight?: number,\r\n      current?: boolean\r\n    ): Rect;\r\n    viewportToImageZoom(viewportZoom: number): number;\r\n    windowToImageCoordinates(pixel: Point): Point;\r\n  }\r\n\r\n  class TileSource extends EventSource {\r\n    aspectRatio: number;\r\n    dimensions: Point;\r\n    maxLevel: number;\r\n    minlevel: number;\r\n    ready: boolean;\r\n    tileOverlap: number;\r\n    constructor(options: TileSourceOptions);\r\n    addHandler(eventName: string, handler: EventHandler<TileSourceEvent>, userData?: object): void;\r\n    addOnceHandler(\r\n      eventName: string,\r\n      handler: EventHandler<TileSourceEvent>,\r\n      userData?: object,\r\n      times?: number\r\n    ): void;\r\n    configure(data: string | object | any[] | Document): object;\r\n    getClosestLevel(): number;\r\n    getHandler(eventName: string): (event: Event) => void;\r\n    getImageInfo(url: string): void;\r\n    getLevelScale(level: number): number;\r\n    getNumTiles(level: number): number;\r\n    getPixelRatio(level: number): number;\r\n    getTileAjaxHeaders(level: number, x: number, y: number): object;\r\n    getTileAtPoint(level: number, point: Point): Tile;\r\n    getTileBounds(level: number, x: number, y: number, isSource?: boolean): Rect;\r\n    getTileHeight(level: number): number;\r\n    getTileUrl(level: number, x: number, y: number): string;\r\n    getTileWidth(level: number): number;\r\n    raiseEvent(eventName: string, eventArgs: object): void;\r\n    removeAllHandlers(eventName: string): void;\r\n    removeHandler(eventName: string, handler: EventHandler<TileSourceEvent>): void;\r\n    supports(data: string | object | any[] | Document, url: string): boolean;\r\n    tileExists(level: number, x: number, y: number): boolean;\r\n  }\r\n\r\n  class TmsTileSource extends TileSource {\r\n    constructor(\r\n      width: number,\r\n      height: number,\r\n      tileSize: number,\r\n      tileOverlap: number,\r\n      tilesUrl: string\r\n    );\r\n  }\r\n\r\n  interface ImageOptions {\r\n    index?: number;\r\n    replace?: boolean;\r\n    x?: number;\r\n    y?: number;\r\n    width?: number;\r\n    height?: number;\r\n    fitBounds?: Rect;\r\n    fitBoundsPlacement?: Placement;\r\n    clip?: Rect;\r\n    opacity?: number;\r\n    preload?: boolean;\r\n    degrees?: number;\r\n    compositeOperation?: string;\r\n    crossOriginPolicy?: string;\r\n    ajaxWithCredentials?: boolean;\r\n    loadTilesWithAjax?: boolean;\r\n    ajaxHeaders?: object;\r\n    success?: (event: Event) => void;\r\n    error?: (error: Error) => void;\r\n    collectionImmediately?: boolean;\r\n    placeholderFillStyle?: string | CanvasGradient | CanvasPattern;\r\n  }\r\n\r\n  interface TiledImageOptions extends ImageOptions {\r\n    tileSource: string | object;\r\n  }\r\n\r\n  interface SimpleImageOptions extends ImageOptions {\r\n    url: string;\r\n  }\r\n\r\n  class Viewer extends ControlDock {\r\n    canvas: HTMLElement;\r\n    container: HTMLElement;\r\n    drawer: Drawer;\r\n    element: HTMLElement;\r\n    initialPage: number;\r\n    navigator: Navigator;\r\n    viewport: Viewport;\r\n    world: World;\r\n    referenceStrip: ReferenceStrip;\r\n    innerTracker: {\r\n      scrollHandler: (event: { originalEvent: MouseEvent; scroll: number }) => void;\r\n    };\r\n\r\n    constructor(options: Options);\r\n    _cancelPendingImages(): void;\r\n    addHandler(\r\n      eventName: ViewerEventName,\r\n      callback: EventHandler<ViewerEvent>,\r\n      userData?: object\r\n    ): void;\r\n    addOnceHandler(\r\n      eventName: ViewerEventName,\r\n      callback: EventHandler<ViewerEvent>,\r\n      userData?: object,\r\n      times?: number\r\n    ): void;\r\n    addOverlay(\r\n      element: HTMLElement | string | object,\r\n      location?: Point | Rect,\r\n      placement?: Placement,\r\n      onDraw?: (element: HTMLElement, location: Location, placement: Placement) => void\r\n    ): Viewer;\r\n    addReferenceStrip(): void;\r\n    addSimpleImage(options: SimpleImageOptions): void;\r\n    addTiledImage(options: TiledImageOptions): void;\r\n    bindSequenceControls(): Viewer;\r\n    bindStandardControls(): Viewer;\r\n    clearOverlays(): Viewer;\r\n    close(): Viewer;\r\n    currentPage(): number;\r\n    destroy(): void;\r\n    forceRedraw(): Viewer;\r\n    gestureSettingsByDeviceType(type: string): GestureSettings;\r\n    getHandler(eventName: string): (event: Event) => void;\r\n    getOverlayById(element: Element | string): Overlay;\r\n    goToPage(page: number): Viewer;\r\n    isFullPage(): boolean;\r\n    isMouseNavEnabled(): boolean;\r\n    isOpen(): boolean;\r\n    isVisible(): boolean;\r\n    open(tileSources: string | object | TileSource[], initialPage?: number): Viewer;\r\n    raiseEvent(eventName: string, eventArgs?: object): void;\r\n    removeAllHandlers(eventName: string): void;\r\n    removeHandler(eventName: string, handler: EventHandler<ViewerEvent>): void;\r\n    removeOverlay(overlay: Element | string): Viewer;\r\n    removeReferenceStrip(): void;\r\n    setControlsEnabled(enabled: boolean): Viewer;\r\n    setDebugMode(debug: boolean): Viewer;\r\n    setFullPage(fullScreen: boolean): Viewer;\r\n    setFullScreen(fullScreen: boolean): Viewer;\r\n    setMouseNavEnabled(enabled: boolean): Viewer;\r\n    setVisible(visible: boolean): Viewer;\r\n    updateOverlay(element: Element | string, location: Point | Rect, placement?: Placement): Viewer;\r\n  }\r\n\r\n  class Viewport {\r\n    constructor(options: {\r\n      margins: object;\r\n      springStiffness?: number;\r\n      animationTime?: number;\r\n      minZoomImageRatio?: number;\r\n      maxZoomPixelRatio?: number;\r\n      visibilityRatio?: number;\r\n      wrapHorizontal?: boolean;\r\n      wrapVertical?: boolean;\r\n      defaultZoomLevel?: number;\r\n      minZoomLevel?: number;\r\n      maxZoomLevel?: number;\r\n      degrees?: number;\r\n      homeFillsViewer?: boolean;\r\n    });\r\n\r\n    applyConstraints(immediately?: boolean): Viewport;\r\n    deltaPixelsFromPoints(deltaPoints: Point, current?: boolean): Point;\r\n    deltaPixelsFromPointsNoRotate(deltaPoints: Point, current?: boolean): Point;\r\n    deltaPointsFromPixels(deltaPoints: Point, current?: boolean): Point;\r\n    deltaPointsFromPixelsNoRotate(deltaPoints: Point, current?: boolean): Point;\r\n    ensureVisible(immediately?: boolean): Viewport;\r\n    fitBounds(bounds: Rect, immediately?: boolean): Viewport;\r\n    fitBoundsWithConstraints(bounds: Rect, immediately?: boolean): Viewport;\r\n    fitHorizontally(immediately?: boolean): Viewport;\r\n    fitVertically(immediately?: boolean): Viewport;\r\n    getAspectRatio(): any; // TODO: determine return type\r\n    getBounds(current?: boolean): Rect;\r\n    getBoundsNoRotate(current?: boolean): Rect;\r\n    getBoundsNoRotateWithMargins(current?: boolean): Rect;\r\n    getBoundsWithMargins(current?: boolean): Rect;\r\n    getCenter(current?: boolean): Point;\r\n    getConstrainedBounds(current?: boolean): Viewport;\r\n    getContainerSize(): Point;\r\n    getFlip(): boolean;\r\n    getHomeBounds(): Rect;\r\n    getHomeBoundsNoRotate(): Rect;\r\n    getHomeZoom(): number;\r\n    getMargins(): object;\r\n    getMaxZoom(): number;\r\n    getMinZoom(): number;\r\n    getRotation(): number;\r\n    getZoom(current?: boolean): number;\r\n    goHome(immediately?: boolean): void;\r\n    imageToViewerElementCoordinates(pixel: Point): Point;\r\n    imageToViewportCoordinates(position: Point): Point;\r\n    imageToViewportCoordinates(imageX: number, imageY: number): Point;\r\n    imageToViewportCoordinates(\r\n      imageX: number,\r\n      imageY: number,\r\n      pixelWidth: number,\r\n      pixelHeight: number\r\n    ): Point;\r\n    imageToViewportRectangle(\r\n      imageX: number | Rect,\r\n      imageY?: number,\r\n      pixelWidth?: number,\r\n      pixelHeight?: number\r\n    ): Rect;\r\n    imageToViewportZoom(imageZoom: number): number;\r\n    imageToWindowCoordinates(pixel: Point): Point;\r\n    panBy(delta: Point, immediately?: boolean): Viewport;\r\n    panTo(center: Point, immediately?: boolean): Viewport;\r\n    pixelFromPoint(point: Point, current?: boolean): Point;\r\n    pixelFromPointNoRotate(point: Point, current?: boolean): Point;\r\n    pointFromPixel(point: Point, current?: boolean): Point;\r\n    pointFromPixelNoRotate(point: Point, current?: boolean): Point;\r\n    resetContentSize(contentSize: Point): Viewport;\r\n    resize(): Viewport;\r\n    setFlip(state: boolean): Viewport;\r\n    setMargins(margins: object): void;\r\n    setRotation(degrees: number): Viewport;\r\n    toggleFlip(): Viewport;\r\n    update(): boolean;\r\n    viewerElementToImageCoordinates(pixel: Point): Point;\r\n    viewerElementToViewportCoordinates(pixel: Point): Point;\r\n    viewerElementToViewportRectangle(rectangle: Rect): Rect;\r\n    viewportToImageCoordinates(position: Point): Point;\r\n    viewportToImageCoordinates(viewerX: number, viewerY: number): Point;\r\n    viewportToImageRectangle(rectangle: Rect): Rect;\r\n    viewportToImageRectangle(\r\n      viewerX: number,\r\n      viewerY: number,\r\n      pointWidth: number,\r\n      pointHeight: number\r\n    ): Rect;\r\n    viewportToImageZoom(viewportZoom: number): number;\r\n    viewportToViewerElementCoordinates(point: Point): Point;\r\n    viewportToViewerElementRectangle(rectangle: Rect): Rect;\r\n    viewportToWindowCoordinates(point: Point): Point;\r\n    windowToImageCoordinates(pixel: Point): Point;\r\n    windowToViewportCoordinates(pixel: Point): Point;\r\n    zoomBy(factor: number, refPoint?: Point, immediately?: boolean): Viewport;\r\n    zoomTo(factor: number, refPoint?: Point, immediately?: boolean): Viewport;\r\n  }\r\n\r\n  class World extends EventSource {\r\n    constructor(options: object);\r\n\r\n    addHandler(\r\n      eventName: WorldEventName,\r\n      callback: EventHandler<WorldEvent>,\r\n      userData?: object\r\n    ): void;\r\n    addItem(item: TiledImage, options?: { index?: number }): void;\r\n    addOnceHandler(\r\n      eventName: string,\r\n      handler: EventHandler<WorldEvent>,\r\n      userData?: object,\r\n      times?: number\r\n    ): void;\r\n    arrange(options: {\r\n      immediately?: boolean;\r\n      layout?: 'horizontal' | 'vertical';\r\n      rows?: number;\r\n      columns?: number;\r\n      tileSize?: number;\r\n      tileMargin?: number;\r\n    }): void;\r\n    draw(): void;\r\n    getContentFactor(): number;\r\n    getHandler(eventName: string): (event: Event) => void;\r\n    getHomeBounds(): Rect;\r\n    getIndexOfItem(item: TiledImage): number;\r\n    getItemAt(id: number): TiledImage;\r\n    getItemCount(): number;\r\n    needsDraw(): boolean;\r\n    raiseEvent(eventName: string, eventArgs?: object): void;\r\n    removeAll(): void;\r\n    removeAllHandlers(eventName: string): void;\r\n    removeHandler(eventName: string, handler: EventHandler<WorldEvent>): void;\r\n    removeItem(item: TiledImage): void;\r\n    resetItems(): void;\r\n    setAutoRefigureSizes(value?: boolean): void;\r\n    setItemIndex(item: TiledImage, index: number): void;\r\n    update(): void;\r\n  }\r\n\r\n  class ZoomifyTileSource extends TileSource {\r\n    constructor(width: number, height: number, tileSize: number, tilesUrl: string);\r\n  }\r\n\r\n  // TODO: use proper eventName type aliases, and OSDEvent where appropiate\r\n\r\n  type EventHandler<T extends OSDEvent<any>> = (event: T) => void;\r\n\r\n  type ButtonEventName = 'blur' | 'click' | 'enter' | 'exit' | 'focus' | 'press' | 'release';\r\n  type TiledImageEventName =\r\n    | 'bounds-change'\r\n    | 'clip-change'\r\n    | 'composite-operation-change'\r\n    | 'fully-loaded-change'\r\n    | 'opacity-change';\r\n  type TileSourceEventname = 'open-failed' | 'ready';\r\n  type ViewerEventName =\r\n    | 'add-item-failed'\r\n    | 'add-overlay'\r\n    | 'animation'\r\n    | 'animation-finish'\r\n    | 'animation-start'\r\n    | 'canvas-click'\r\n    | 'canvas-double-click'\r\n    | 'canvas-drag'\r\n    | 'canvas-drag-end'\r\n    | 'canvas-enter'\r\n    | 'canvas-exit'\r\n    | 'canvas-key'\r\n    | 'canvas-nonprimary-press'\r\n    | 'canvas-nonprimary-release'\r\n    | 'canvas-pinch'\r\n    | 'canvas-press'\r\n    | 'canvas-release'\r\n    | 'canvas-scroll'\r\n    | 'clear-overlay'\r\n    | 'close'\r\n    | 'constrain'\r\n    | 'container-enter'\r\n    | 'container-exit'\r\n    | 'controls-enabled'\r\n    | 'flip'\r\n    | 'full-page'\r\n    | 'full-screen'\r\n    | 'home'\r\n    | 'mouse-enabled'\r\n    | 'navigator-click'\r\n    | 'navigator-drag'\r\n    | 'navigator-scroll'\r\n    | 'open'\r\n    | 'open-failed'\r\n    | 'page'\r\n    | 'pan'\r\n    | 'pre-full-page'\r\n    | 'pre-full-screen'\r\n    | 'remove-overlay'\r\n    | 'reset-size'\r\n    | 'resize'\r\n    | 'rotate'\r\n    | 'tile-drawing'\r\n    | 'tile-drawn'\r\n    | 'tile-load-failed'\r\n    | 'tile-loaded'\r\n    | 'tile-unloaded'\r\n    | 'update-level'\r\n    | 'update-overlay'\r\n    | 'update-tile'\r\n    | 'update-viewport'\r\n    | 'viewport-change'\r\n    | 'visible'\r\n    | 'zoom';\r\n  type WorldEventName = 'add-item' | 'item-index-change' | 'metrics-change' | 'remove-item';\r\n\r\n  interface OSDEvent<T> extends Event {\r\n    eventSource?: T;\r\n    userData: any;\r\n  }\r\n\r\n  interface ButtonEvent extends OSDEvent<Button> {\r\n    originalEvent: Event;\r\n  }\r\n\r\n  interface TiledImageEvent extends OSDEvent<TiledImage> {\r\n    compositeOperationChange?: string;\r\n    fullyLoaded?: boolean;\r\n    opacity?: boolean;\r\n  }\r\n\r\n  interface TileSourceEvent extends OSDEvent<TileSource> {\r\n    message?: string;\r\n    source?: string;\r\n    tileSource?: object;\r\n  }\r\n\r\n  interface ViewerEvent extends OSDEvent<Viewer> {\r\n    message?: string;\r\n    source?: string;\r\n    options?: object;\r\n    element?: Element;\r\n    location?: Point | Rect;\r\n    placement?: Placement;\r\n    tracker?: MouseTracker;\r\n    position?: Point;\r\n    quick?: boolean;\r\n    shift?: boolean;\r\n    preventDefaultAction?: true;\r\n    delta?: Point;\r\n    speed?: number;\r\n    direction?: number;\r\n    pointerType?: string;\r\n    button?: number;\r\n    buttons?: number;\r\n    pointers?: number;\r\n    insideElementPressed?: boolean;\r\n    buttonDownAny?: boolean;\r\n    preventVerticalPan?: boolean;\r\n    preventHorizontalPan?: boolean;\r\n    gesturePoints?: GesturePoint[];\r\n    lastCenter?: Point;\r\n    center?: Point;\r\n    lastDistance?: number;\r\n    insideElementReleased?: boolean;\r\n    scroll?: number;\r\n    immediately?: number;\r\n    enabled?: boolean;\r\n    flipped?: number;\r\n    fullPage?: boolean;\r\n    fullScreen?: boolean;\r\n    page?: number;\r\n    contentSize?: Point;\r\n    contentBounds?: Rect;\r\n    homeBounds?: Rect;\r\n    contentFactor?: number;\r\n    newContainerSize?: Point;\r\n    mantain?: boolean;\r\n    degrees?: number;\r\n    tile?: Tile;\r\n    tiledImage?: TiledImage | XMLHttpRequest;\r\n    context?: Tile;\r\n    rendered?: Tile;\r\n    time?: number;\r\n    tileRequest?: XMLHttpRequest;\r\n    getCompletionCallback?: (...args: any) => void;\r\n    visible?: boolean;\r\n    refPoint?: Point;\r\n    zoom?: number;\r\n  }\r\n\r\n  interface WorldEvent extends OSDEvent<World> {\r\n    item?: TiledImage;\r\n    previousIndex?: number;\r\n    newIndex?: number;\r\n  }\r\n}\r\n\r\n// Custom type needed for importing types data without having to import the actual JS\r\nexport interface OpenSeadragonType {\r\n  (options: OpenSeadragon.Options): OpenSeadragon.Viewer;\r\n  Rect: typeof OpenSeadragon.Rect;\r\n}\r\n\r\nexport type ViewerType = OpenSeadragon.Viewer;\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQGRhbjUwMy9sb2FkLWpzL2luZGV4LmpzIiwic3JjL2RlbW8vZGVtby50cyIsInNyYy9saWJyYXJ5L2RyaWZ0b3J5LnRzIiwic3JjL2xpYnJhcnkvb3BlbnNlYWRyYWdvbi50eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDOUJBLGlFQUEyQztBQUUzQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUU7SUFDNUMsSUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBbUIsQ0FBQztJQUN6RixJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzVELElBQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNsRSxJQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzFELElBQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDMUQsSUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUV4RCxJQUFNLFFBQVEsR0FBRyxJQUFJLGtCQUFRLENBQUM7UUFDNUIsU0FBUyxXQUFBO1FBQ1QsU0FBUyxFQUFFLDRFQUE0RTtRQUN2RixXQUFXLEVBQUU7WUFDWCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFD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Q0UsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ2pDLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRTtZQUNiLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQUNILGVBQUM7QUFBRCxDQWpRQSxBQWlRQyxJQUFBOzs7O0FDclNELDREQUE0RCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhbHJlYWR5Q2FsbGVkU291cmNlcyA9IFtdO1xyXG52YXIgYXdhaXRpbmdDYWxsYmFja3MgPSB7fTtcclxudmFyIGFkZENhbGxiYWNrID0gZnVuY3Rpb24gKHNyYywgY2FsbGJhY2spIHtcclxuICAgIGlmIChhd2FpdGluZ0NhbGxiYWNrc1tzcmNdKSB7XHJcbiAgICAgICAgYXdhaXRpbmdDYWxsYmFja3Nbc3JjXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGF3YWl0aW5nQ2FsbGJhY2tzW3NyY10gPSBbY2FsbGJhY2tdO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiBsb2FkSlMoc3JjLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKGFscmVhZHlDYWxsZWRTb3VyY2VzLmluZGV4T2Yoc3JjKSA8IDApIHtcclxuICAgICAgICBhbHJlYWR5Q2FsbGVkU291cmNlcy5wdXNoKHNyYyk7XHJcbiAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICAgIHNjcmlwdC5zcmMgPSBzcmM7XHJcbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYWRkQ2FsbGJhY2soc3JjLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhd2FpdGluZ0NhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAgICAgYXdhaXRpbmdDYWxsYmFja3Nba2V5XS5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFkZENhbGxiYWNrKHNyYywgY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGxvYWRKUztcclxuIiwiaW1wb3J0IERyaWZ0b3J5IGZyb20gJy4uL2xpYnJhcnkvZHJpZnRvcnknO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJpZnRvcnktdmlld2VyLWNvbnRhaW5lcicpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIGNvbnN0IHN0YXJ0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXJ0LWJ1dHRvbicpO1xyXG4gIGNvbnN0IHByZXZpb3VzQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXZpb3VzLWJ1dHRvbicpO1xyXG4gIGNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dC1idXR0b24nKTtcclxuICBjb25zdCBoaWRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZGUtYnV0dG9uJyk7XHJcbiAgY29uc3QgZnJhbWVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZyYW1lLWluZm8nKTtcclxuXHJcbiAgY29uc3QgZHJpZnRvcnkgPSBuZXcgRHJpZnRvcnkoe1xyXG4gICAgY29udGFpbmVyLFxyXG4gICAgcHJlZml4VXJsOiAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9vcGVuc2VhZHJhZ29uQDIuNC9idWlsZC9vcGVuc2VhZHJhZ29uL2ltYWdlcy8nLFxyXG4gICAgb25Db21pY0xvYWQ6ICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ2xvYWRlZCEnKTtcclxuICAgIH0sXHJcbiAgICBvbkZyYW1lQ2hhbmdlOiAoeyBmcmFtZUluZGV4ID0gMCwgaXNMYXN0RnJhbWUgfSkgPT4ge1xyXG4gICAgICBpZiAoZnJhbWVJbmZvKSB7XHJcbiAgICAgICAgbGV0IHRleHQgPSBgRnJhbWUgJHtmcmFtZUluZGV4ICsgMX1gO1xyXG4gICAgICAgIGlmIChpc0xhc3RGcmFtZSkge1xyXG4gICAgICAgICAgdGV4dCArPSAnIChsYXN0IGZyYW1lISknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnJhbWVJbmZvLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBzdGFydEJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBkcmlmdG9yeS5nb1RvRnJhbWUoMCk7XHJcbiAgfSk7XHJcblxyXG4gIHByZXZpb3VzQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGRyaWZ0b3J5LmdvVG9QcmV2aW91c0ZyYW1lKCk7XHJcbiAgfSk7XHJcblxyXG4gIG5leHRCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZHJpZnRvcnkuZ29Ub05leHRGcmFtZSgpO1xyXG4gIH0pO1xyXG5cclxuICBoaWRlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdoaWRlJylcclxuICB9KVxyXG5cclxuICBmZXRjaCgnY29taWMuanNvbicpXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbWljLmpzb24nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH0pXHJcbiAgICAudGhlbihqc29uID0+IHtcclxuICAgICAgLy8gY29uc29sZS5sb2coanNvbik7XHJcbiAgICAgIGRyaWZ0b3J5Lm9wZW5Db21pYyhqc29uKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xyXG59KTtcclxuIiwiaW1wb3J0IGxvYWRKcyBmcm9tICdAZGFuNTAzL2xvYWQtanMnO1xyXG5pbXBvcnQgeyBDb21pYyB9IGZyb20gJy4vQ29taWMudHlwZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL0NvbWljLnR5cGVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9vcGVuc2VhZHJhZ29uLnR5cGVzJztcclxuaW1wb3J0IHsgT3BlblNlYWRyYWdvblR5cGUsIFZpZXdlclR5cGUgfSBmcm9tICcuL29wZW5zZWFkcmFnb24udHlwZXMnO1xyXG5cclxuaW50ZXJmYWNlIE9zZFJlcXVlc3Qge1xyXG4gIHJlc29sdmU6ICh2YWx1ZT86IHVua25vd24pID0+IHZvaWQ7XHJcbiAgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xyXG59XHJcblxyXG5sZXQgT3BlblNlYWRyYWdvbjogT3BlblNlYWRyYWdvblR5cGUgfCB1bmRlZmluZWQ7XHJcbmxldCBvc2RSZXF1ZXN0OiBPc2RSZXF1ZXN0IHwgdW5kZWZpbmVkO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgT3BlblNlYWRyYWdvbjogT3BlblNlYWRyYWdvblR5cGU7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBvc2RQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gIG9zZFJlcXVlc3QgPSB7IHJlc29sdmUsIHJlamVjdCB9O1xyXG59KTtcclxuXHJcbnR5cGUgRnJhbWUgPSBhbnk7XHJcbnR5cGUgQ29udGFpbmVyID0gYW55O1xyXG50eXBlIE9uRnJhbWVDaGFuZ2UgPSAocGFyYW1zOiB7IGZyYW1lSW5kZXg6IG51bWJlcjsgaXNMYXN0RnJhbWU6IGJvb2xlYW4gfSkgPT4gdm9pZDtcclxudHlwZSBPbkNvbWljTG9hZCA9IChwYXJhbXM6IHt9KSA9PiB2b2lkO1xyXG5cclxuaW50ZXJmYWNlIERyaWZ0b3J5QXJndW1lbnRzIHtcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gIG9uRnJhbWVDaGFuZ2U/OiBPbkZyYW1lQ2hhbmdlO1xyXG4gIG9uQ29taWNMb2FkPzogT25Db21pY0xvYWQ7XHJcbiAgcHJlZml4VXJsPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEcmlmdG9yeSB7XHJcbiAgY29udGFpbmVyOiBDb250YWluZXI7XHJcbiAgb25GcmFtZUNoYW5nZTogT25GcmFtZUNoYW5nZTtcclxuICBvbkNvbWljTG9hZDogT25Db21pY0xvYWQ7XHJcbiAgZnJhbWVzOiBBcnJheTxGcmFtZT4gPSBbXTtcclxuICBmcmFtZUluZGV4OiBudW1iZXIgPSAtMTtcclxuICBsYXN0U2Nyb2xsVGltZTogbnVtYmVyID0gMDtcclxuICBzY3JvbGxEZWxheTogbnVtYmVyID0gMjAwMDtcclxuICB2aWV3ZXI/OiBWaWV3ZXJUeXBlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcmdzOiBEcmlmdG9yeUFyZ3VtZW50cykge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBhcmdzLmNvbnRhaW5lcjtcclxuICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IGFyZ3Mub25GcmFtZUNoYW5nZSB8fCBmdW5jdGlvbigpIHt9O1xyXG4gICAgdGhpcy5vbkNvbWljTG9hZCA9IGFyZ3Mub25Db21pY0xvYWQgfHwgZnVuY3Rpb24oKSB7fTtcclxuXHJcbiAgICAvLyBOb3RlOiBsb2FkSnMgb25seSBsb2FkcyB0aGUgZmlsZSBvbmNlLCBldmVuIGlmIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgYW5kIGFsd2F5cyBtYWtlcyBzdXJlXHJcbiAgICAvLyBhbGwgb2YgdGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkLlxyXG4gICAgbG9hZEpzKFxyXG4gICAgICAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9vcGVuc2VhZHJhZ29uQDIuNC9idWlsZC9vcGVuc2VhZHJhZ29uL29wZW5zZWFkcmFnb24ubWluLmpzJyxcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIE9wZW5TZWFkcmFnb24gPSB3aW5kb3cuT3BlblNlYWRyYWdvbjtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUoYXJncyk7XHJcbiAgICAgICAgb3NkUmVxdWVzdD8ucmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZSh7IGNvbnRhaW5lciwgcHJlZml4VXJsIH06IERyaWZ0b3J5QXJndW1lbnRzKSB7XHJcbiAgICB0aGlzLnZpZXdlciA9XHJcbiAgICAgIE9wZW5TZWFkcmFnb24gJiZcclxuICAgICAgT3BlblNlYWRyYWdvbih7XHJcbiAgICAgICAgZWxlbWVudDogY29udGFpbmVyLFxyXG4gICAgICAgIHByZWZpeFVybDogcHJlZml4VXJsLFxyXG4gICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXHJcbiAgICAgICAgbWF4Wm9vbVBpeGVsUmF0aW86IDEwLFxyXG4gICAgICAgIGdlc3R1cmVTZXR0aW5nc01vdXNlOiB7XHJcbiAgICAgICAgICBjbGlja1RvWm9vbTogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnZpZXdlcikge1xyXG4gICAgICAvLyBUT0RPOiBNYXliZSBkb24ndCBuZWVkIHRvIGRvIHRoaXMgZXZlcnkgZnJhbWUuXHJcbiAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2FuaW1hdGlvbicsICgpID0+IHtcclxuICAgICAgICBjb25zdCBmcmFtZUluZGV4ID0gdGhpcy5maWd1cmVGcmFtZUluZGV4KCk7XHJcbiAgICAgICAgaWYgKGZyYW1lSW5kZXggIT09IC0xICYmIGZyYW1lSW5kZXggIT09IHRoaXMuZnJhbWVJbmRleCkge1xyXG4gICAgICAgICAgdGhpcy5mcmFtZUluZGV4ID0gZnJhbWVJbmRleDtcclxuICAgICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlKHtcclxuICAgICAgICAgICAgICBmcmFtZUluZGV4LFxyXG4gICAgICAgICAgICAgIGlzTGFzdEZyYW1lOiBmcmFtZUluZGV4ID09PSB0aGlzLmdldEZyYW1lQ291bnQoKSAtIDFcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ2NhbnZhcy1jbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICBpZiAoIWV2ZW50IHx8ICFldmVudC5xdWljayB8fCAhZXZlbnQucG9zaXRpb24gfHwgIXRoaXMudmlld2VyKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMudmlld2VyLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKGV2ZW50LnBvc2l0aW9uKTtcclxuICAgICAgICBsZXQgZm91bmRJbmRleCA9IC0xO1xyXG4gICAgICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1Db3VudCgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1Db3VudDsgaSsrKSB7XHJcbiAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SXRlbUF0KGkpO1xyXG4gICAgICAgICAgaWYgKGl0ZW0uZ2V0Qm91bmRzKCkuY29udGFpbnNQb2ludChwb2ludCkpIHtcclxuICAgICAgICAgICAgZm91bmRJbmRleCA9IGk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgIGNvbnN0IHJlYWxGcmFtZUluZGV4ID0gdGhpcy5maWd1cmVGcmFtZUluZGV4KCk7XHJcbiAgICAgICAgICBpZiAocmVhbEZyYW1lSW5kZXggPT09IC0xICYmIHRoaXMuZnJhbWVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ29Ub0ZyYW1lKHRoaXMuZnJhbWVJbmRleCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdvVG9OZXh0RnJhbWUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGZvdW5kSW5kZXggPT09IHRoaXMuZnJhbWVJbmRleCkge1xyXG4gICAgICAgICAgdGhpcy5nb1RvTmV4dEZyYW1lKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ29Ub0ZyYW1lKGZvdW5kSW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBvcmlnaW5hbFNjcm9sbEhhbmRsZXIgPSB0aGlzLnZpZXdlci5pbm5lclRyYWNrZXIuc2Nyb2xsSGFuZGxlcjtcclxuICAgICAgdGhpcy52aWV3ZXIuaW5uZXJUcmFja2VyLnNjcm9sbEhhbmRsZXIgPSBldmVudCA9PiB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5jdHJsS2V5IHx8XHJcbiAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LmFsdEtleSB8fFxyXG4gICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC5tZXRhS2V5XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxTY3JvbGxIYW5kbGVyLmNhbGwodGhpcy52aWV3ZXI/LmlubmVyVHJhY2tlciwgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC5zY3JvbGwsIG5vdywgbm93IC0gdGhpcy5sYXN0U2Nyb2xsVGltZSk7XHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdFNjcm9sbFRpbWUgPCB0aGlzLnNjcm9sbERlbGF5KSB7XHJcbiAgICAgICAgICAvLyBSZXR1cm5pbmcgZmFsc2Ugc3RvcHMgdGhlIGJyb3dzZXIgZnJvbSBzY3JvbGxpbmcgaXRzZWxmLlxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sYXN0U2Nyb2xsVGltZSA9IG5vdztcclxuICAgICAgICBpZiAoZXZlbnQuc2Nyb2xsIDwgMCkge1xyXG4gICAgICAgICAgdGhpcy5nb1RvTmV4dEZyYW1lKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ29Ub1ByZXZpb3VzRnJhbWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybmluZyBmYWxzZSBzdG9wcyB0aGUgYnJvd3NlciBmcm9tIHNjcm9sbGluZyBpdHNlbGYuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmFsdEtleSB8fCBldmVudC5zaGlmdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XHJcbiAgICAgICAgICB0aGlzLmdvVG9OZXh0RnJhbWUoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcclxuICAgICAgICAgIHRoaXMuZ29Ub1ByZXZpb3VzRnJhbWUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuQ29taWModW5zYWZlQ29taWM6IENvbWljIHwgc3RyaW5nKSB7XHJcbiAgICBjb25zdCB7IGNvbWljIH0gPVxyXG4gICAgICB0eXBlb2YgdW5zYWZlQ29taWMgPT09ICdzdHJpbmcnID8gKEpTT04ucGFyc2UodW5zYWZlQ29taWMpIGFzIENvbWljKSA6IHVuc2FmZUNvbWljO1xyXG5cclxuICAgIG9zZFByb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbWljLmJvZHkuYmFja2dyb3VuZENvbG9yO1xyXG5cclxuICAgICAgaWYgKHRoaXMudmlld2VyKSB7XHJcbiAgICAgICAgaWYgKGNvbWljLmJvZHkuZnJhbWVzKSB7XHJcbiAgICAgICAgICB0aGlzLmZyYW1lcyA9IGNvbWljLmJvZHkuZnJhbWVzLm1hcChmcmFtZSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgT3BlblNlYWRyYWdvbiAmJlxyXG4gICAgICAgICAgICAgIG5ldyBPcGVuU2VhZHJhZ29uLlJlY3QoXHJcbiAgICAgICAgICAgICAgICBmcmFtZS54IC0gZnJhbWUud2lkdGggLyAyLFxyXG4gICAgICAgICAgICAgICAgZnJhbWUueSAtIGZyYW1lLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICBmcmFtZS53aWR0aCxcclxuICAgICAgICAgICAgICAgIGZyYW1lLmhlaWdodFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmZyYW1lcyA9IGNvbWljLmJvZHkuaXRlbXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIE9wZW5TZWFkcmFnb24gJiZcclxuICAgICAgICAgICAgICBuZXcgT3BlblNlYWRyYWdvbi5SZWN0KFxyXG4gICAgICAgICAgICAgICAgaXRlbS54IC0gaXRlbS53aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICBpdGVtLnkgLSBpdGVtLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICBpdGVtLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgaXRlbS5oZWlnaHRcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbWljLmJvZHkuaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgdmFyIHN1Y2Nlc3M7XHJcblxyXG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9ICgpID0+IHRoaXMuZ29Ub0ZyYW1lKDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMudmlld2VyPy5hZGRUaWxlZEltYWdlKHtcclxuICAgICAgICAgICAgeDogaXRlbS54IC0gaXRlbS53aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IGl0ZW0ueSAtIGl0ZW0uaGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgd2lkdGg6IGl0ZW0ud2lkdGgsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcbiAgICAgICAgICAgIHRpbGVTb3VyY2U6IHtcclxuICAgICAgICAgICAgICB0eXBlOiAnbGVnYWN5LWltYWdlLXB5cmFtaWQnLFxyXG4gICAgICAgICAgICAgIGxldmVsczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogaXRlbS53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpdGVtLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9uQ29taWNMb2FkKSB7XHJcbiAgICAgICAgICB0aGlzLm9uQ29taWNMb2FkKHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ29Ub0ZyYW1lKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLmdldEZyYW1lSW5kZXgoKSAhPT0gaW5kZXgpIHtcclxuICAgICAgdmFyIGZyYW1lID0gdGhpcy5mcmFtZXNbaW5kZXhdO1xyXG4gICAgICB2YXIgYnVmZmVyRmFjdG9yID0gMC4yO1xyXG4gICAgICBpZiAoZnJhbWUpIHtcclxuICAgICAgICB2YXIgYm94ID0gZnJhbWUuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgYm94LndpZHRoICo9IDEgKyBidWZmZXJGYWN0b3I7XHJcbiAgICAgICAgYm94LmhlaWdodCAqPSAxICsgYnVmZmVyRmFjdG9yO1xyXG4gICAgICAgIGJveC54IC09IGZyYW1lLndpZHRoICogYnVmZmVyRmFjdG9yICogMC41O1xyXG4gICAgICAgIGJveC55IC09IGZyYW1lLmhlaWdodCAqIGJ1ZmZlckZhY3RvciAqIDAuNTtcclxuXHJcbiAgICAgICAgdGhpcy52aWV3ZXI/LnZpZXdwb3J0LmZpdEJvdW5kcyhib3gpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRGcmFtZUluZGV4KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZnJhbWVJbmRleDtcclxuICB9XHJcblxyXG4gIGZpZ3VyZUZyYW1lSW5kZXgoKSB7XHJcbiAgICBsZXQgYmVzdEluZGV4ID0gLTE7XHJcbiAgICBsZXQgYmVzdERpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgICBpZiAodGhpcy52aWV3ZXIpIHtcclxuICAgICAgY29uc3Qgdmlld3BvcnRCb3VuZHMgPSB0aGlzLnZpZXdlci52aWV3cG9ydC5nZXRCb3VuZHModHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHZpZXdwb3J0Q2VudGVyID0gdmlld3BvcnRCb3VuZHMuZ2V0Q2VudGVyKCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZnJhbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmZyYW1lc1tpXTtcclxuICAgICAgICBpZiAoZnJhbWUuY29udGFpbnNQb2ludCh2aWV3cG9ydENlbnRlcikpIHtcclxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdmlld3BvcnRDZW50ZXIuc3F1YXJlZERpc3RhbmNlVG8oZnJhbWUuZ2V0Q2VudGVyKCkpO1xyXG4gICAgICAgICAgaWYgKGRpc3RhbmNlIDwgYmVzdERpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGJlc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICBiZXN0SW5kZXggPSBpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJlc3RJbmRleDtcclxuICB9XHJcblxyXG4gIGdldEZyYW1lQ291bnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mcmFtZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgZ29Ub05leHRGcmFtZSgpIHtcclxuICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0RnJhbWVJbmRleCgpO1xyXG4gICAgaWYgKGluZGV4IDwgdGhpcy5mcmFtZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICB0aGlzLmdvVG9GcmFtZShpbmRleCArIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ29Ub1ByZXZpb3VzRnJhbWUoKSB7XHJcbiAgICBsZXQgaW5kZXggPSB0aGlzLmdldEZyYW1lSW5kZXgoKTtcclxuICAgIGlmIChpbmRleCA+IDApIHtcclxuICAgICAgdGhpcy5nb1RvRnJhbWUoaW5kZXggLSAxKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gVHlwZSBkZWZpbml0aW9ucyBpcyBhIG1hbnVhbCBjb3B5IG9mIEB0eXBlcy9vcGVuc2VhZHJhZ29uXHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zIGZvciBPcGVuU2VhZHJhZ29uIDIuNFxyXG4vLyBQcm9qZWN0OiBodHRwczovL29wZW5zZWFkcmFnb24uZ2l0aHViLmlvL1xyXG4vLyBEZWZpbml0aW9ucyBieTogIMOBbHZhcm8gTWFydMOtbmV6IDxodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvbWFydG1hcnQ+XHJcbi8vICAgICAgICAgICAgICAgICAgUm9iZXJ0WW9zdCA8aHR0cHM6Ly9naXRodWIuY29tL1JvYmVydFlvc3Q+XHJcbi8vICAgICAgICAgICAgICAgICAgSmFzcGVyIFN0YWFiIDxodHRwczovL2dpdGh1Yi5jb20vanN0YWFiPlxyXG4vLyAgICAgICAgICAgICAgICAgIEtyaXN0aW4gUnViZW4gPGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlzdGlucnViZW4+XHJcbi8vICAgICAgICAgICAgICAgICAgR2VvZmYgSGFycGVyIDxodHRwczovL2dpdGh1Yi5jb20vZ2VvZmYtaGFycGVyPlxyXG4vLyAgICAgICAgICAgICAgICAgIEp1c3RpbiA8aHR0cHM6Ly9naXRodWIuY29tL2p1c3RpbmN5PlxyXG4vLyAgICAgICAgICAgICAgICAgIFBldGVyIEJsYXplamV3aWN6IDxodHRwczovL2dpdGh1Yi5jb20vcGV0ZXJibGF6ZWpld2ljej5cclxuLy8gRGVmaW5pdGlvbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm9tYXJ0bWFydC90eXBlcy1vcGVuc2VhZHJhZ29uXHJcbi8vIFR5cGVTY3JpcHQgVmVyc2lvbjogMy4xXHJcbmRlY2xhcmUgbmFtZXNwYWNlIE9wZW5TZWFkcmFnb24ge1xyXG4gIGNsYXNzIEJyb3dzZXIge1xyXG4gICAgdmVuZG9yOiBCUk9XU0VSUztcclxuICAgIHZlcnNpb246IG51bWJlcjtcclxuICAgIGFscGhhOiBib29sZWFuO1xyXG4gIH1cclxuXHJcbiAgZW51bSBCUk9XU0VSUyB7XHJcbiAgICBVTktOT1dOID0gMCxcclxuICAgIElFID0gMSxcclxuICAgIEZJUkVGT1ggPSAyLFxyXG4gICAgU0FGQVJJID0gMyxcclxuICAgIENIUk9NRSA9IDQsXHJcbiAgICBPUEVSQSA9IDVcclxuICB9XHJcblxyXG4gIGVudW0gQnV0dG9uU3RhdGUge1xyXG4gICAgUkVTVCxcclxuICAgIEdST1VQLFxyXG4gICAgSE9WRVIsXHJcbiAgICBET1dOXHJcbiAgfVxyXG5cclxuICBlbnVtIENvbnRyb2xBbmNob3Ige1xyXG4gICAgTk9ORSxcclxuICAgIFRPUF9MRUZULFxyXG4gICAgVE9QX1JJR0hULFxyXG4gICAgQk9UVE9NX0xFRlQsXHJcbiAgICBCT1RUT01fUklHSFQsXHJcbiAgICBBQlNPTFVURVxyXG4gIH1cclxuXHJcbiAgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogT3B0aW9ucztcclxuXHJcbiAgY29uc3QgZnVsbFNjcmVlbkFwaToge1xyXG4gICAgc3VwcG9ydHNGdWxsU2NyZWVuOiBib29sZWFuO1xyXG4gICAgaXNGdWxsU2NyZWVuOiAoKSA9PiBib29sZWFuO1xyXG4gICAgZ2V0RnVsbFNjcmVlbkVsZW1lbnQ6ICgpID0+IEhUTUxFbGVtZW50O1xyXG4gICAgcmVxdWVzdEZ1bGxTY3JlZW46ICgpID0+IHZvaWQ7XHJcbiAgICBleGl0RnVsbFNjcmVlbjogKCkgPT4gdm9pZDtcclxuICAgIGNhbmNlbEZ1bGxTY3JlZW46ICgpID0+IHZvaWQ7XHJcbiAgICBmdWxsU2NyZWVuRXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgICBmdWxsU2NyZWVuRXJyb3JFdmVudE5hbWU6IHN0cmluZztcclxuICB9O1xyXG5cclxuICBlbnVtIE92ZXJsYXlQbGFjZW1lbnQge1xyXG4gICAgQ0VOVEVSLFxyXG4gICAgVE9QX0xFRlQsXHJcbiAgICBUT1AsXHJcbiAgICBUT1BfUklHSFQsXHJcbiAgICBSSUdIVCxcclxuICAgIEJPVFRPTV9SSUdIVCxcclxuICAgIEJPVFRPTSxcclxuICAgIEJPVFRPTV9MRUZULFxyXG4gICAgTEVGVFxyXG4gIH1cclxuXHJcbiAgZW51bSBPdmVybGF5Um90YXRpb25Nb2RlIHtcclxuICAgIE5PX1JPVEFUSU9OLFxyXG4gICAgRVhBQ1QsXHJcbiAgICBCT1VORElOR19CT1hcclxuICB9XHJcblxyXG4gIGxldCBwaXhlbERlbnNpdHlSYXRpbzogbnVtYmVyO1xyXG5cclxuICBlbnVtIFBsYWNlbWVudCB7XHJcbiAgICBDRU5URVIsXHJcbiAgICBUT1BfTEVGVCxcclxuICAgIFRPUCxcclxuICAgIFRPUF9SSUdIVCxcclxuICAgIFJJR0hULFxyXG4gICAgQk9UVE9NX1JJR0hULFxyXG4gICAgQk9UVE9NLFxyXG4gICAgQk9UVE9NX0xFRlQsXHJcbiAgICBMRUZUXHJcbiAgfVxyXG5cclxuICBsZXQgc3VwcG9ydHNDYW52YXM6IGJvb2xlYW47XHJcblxyXG4gIGxldCB2ZXJzaW9uOiB7XHJcbiAgICB2ZXJzaW9uU3RyOiBzdHJpbmc7XHJcbiAgICBtYWpvcjogbnVtYmVyO1xyXG4gICAgbWlub3I6IG51bWJlcjtcclxuICAgIHJldmlzaW9uOiBudW1iZXI7XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZywgY2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkO1xyXG5cclxuICBmdW5jdGlvbiBhZGRFdmVudChcclxuICAgIGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcsXHJcbiAgICBldmVudE5hbWU6IHN0cmluZyxcclxuICAgIGhhbmRsZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQsXHJcbiAgICB1c2VDYXB0dXJlPzogYm9vbGVhblxyXG4gICk6IHZvaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEV2ZW50KGV2ZW50PzogT1NERXZlbnQ8YW55Pik6IHZvaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcih2YWx1ZTogc3RyaW5nKTogc3RyaW5nO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVDYWxsYmFjayhcclxuICAgIG9iamVjdDogb2JqZWN0LFxyXG4gICAgbWV0aG9kOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQsXHJcbiAgICAuLi5hcmdzOiBhbnlbXVxyXG4gICk6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcclxuXHJcbiAgZnVuY3Rpb24gZGVsZWdhdGUoXHJcbiAgICBvYmplY3Q6IG9iamVjdCxcclxuICAgIG1ldGhvZDogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkXHJcbiAgKTogKG9iamVjdDogYW55LCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDsgLy8gUkVWSUVXOiB1bnN1cmUgb2YgcmV0dXJuIHR5cGVcclxuXHJcbiAgZnVuY3Rpb24gZXh0ZW5kKCk6IGFueTtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0Q3NzUHJvcGVydHlXaXRoVmVuZG9yUHJlZml4KHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmc7XHJcblxyXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnQoZWxlbWVudDogc3RyaW5nIHwgRWxlbWVudCk6IEVsZW1lbnQ7XHJcblxyXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRPZmZzZXQoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZyk6IFBvaW50O1xyXG5cclxuICBmdW5jdGlvbiBnZXRFbGVtZW50UG9zaXRpb24oZWxlbWVudDogRWxlbWVudCB8IHN0cmluZyk6IFBvaW50O1xyXG5cclxuICBmdW5jdGlvbiBnZXRFbGVtZW50U2l6ZShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nKTogUG9pbnQ7XHJcblxyXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRTdHlsZShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nKTogYW55OyAvLyBDU1NTdHlsZT9cclxuXHJcbiAgZnVuY3Rpb24gZ2V0TW91c2VQb3NpdGlvbihldmVudD86IE9TREV2ZW50PGFueT4pOiBQb2ludDtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0UGFnZVNjcm9sbCgpOiBQb2ludDtcclxuXHJcbiAgZnVuY3Rpb24gZ2V0U3RyaW5nKHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmc7XHJcblxyXG4gIGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihrZXk6IHN0cmluZyk6IHN0cmluZztcclxuXHJcbiAgZnVuY3Rpb24gZ2V0V2luZG93U2l6ZSgpOiBQb2ludDtcclxuXHJcbiAgZnVuY3Rpb24gaW1hZ2VGb3JtYXRTdXBwb3J0ZWQoZXh0ZW5zaW9uPzogc3RyaW5nKTogYm9vbGVhbjtcclxuXHJcbiAgZnVuY3Rpb24gaW5kZXhPZihhcnJheTogYW55W10sIHNlYXJjaEVsZW1lbnQ6IG9iamVjdCwgZnJvbUluZGV4PzogbnVtYmVyKTogbnVtYmVyO1xyXG5cclxuICAvLyAobWlzc2luZyBqcXVlcnkgZnVuY3Rpb25zKVxyXG5cclxuICBmdW5jdGlvbiBtYWtlQWpheFJlcXVlc3Qob3B0aW9uczoge1xyXG4gICAgdXJsOiBzdHJpbmc7XHJcbiAgICBzdWNjZXNzOiAob2JqOiBvYmplY3QpID0+IHZvaWQ7XHJcbiAgICBlcnJvcjogKG9iajogb2JqZWN0KSA9PiB2b2lkO1xyXG4gICAgaGVhZGVyczogb2JqZWN0O1xyXG4gICAgcmVzcG9uc2VUeXBlOiBzdHJpbmc7XHJcbiAgICB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuO1xyXG4gIH0pOiBYTUxIdHRwUmVxdWVzdDtcclxuXHJcbiAgZnVuY3Rpb24gbWFrZUNlbnRlcmVkTm9kZShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nKTogRWxlbWVudDtcclxuXHJcbiAgZnVuY3Rpb24gbWFrZU5ldXRyYWxFbGVtZW50KHRhZ05hbWU6IHN0cmluZyk6IEVsZW1lbnQ7XHJcblxyXG4gIGZ1bmN0aW9uIG1ha2VUcmFuc3BhcmVudEltYWdlKHNyYzogc3RyaW5nKTogRWxlbWVudDtcclxuXHJcbiAgZnVuY3Rpb24gbm93KCk6IG51bWJlcjtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VKU09OKHN0cmluZzogc3RyaW5nKTogb2JqZWN0O1xyXG5cclxuICBmdW5jdGlvbiBwYXJzZVhtbChzdHJpbmc6IHN0cmluZyk6IERvY3VtZW50O1xyXG5cclxuICBmdW5jdGlvbiBwb2ludEluRWxlbWVudChlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nLCBwb2ludDogUG9pbnQpOiBib29sZWFuO1xyXG5cclxuICBmdW5jdGlvbiBwb3NpdGl2ZU1vZHVsbyhudW1iZXI6IG51bWJlciwgbW9kdWxvOiBudW1iZXIpOiBudW1iZXI7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcsIGNsYXNzTmFtZTogc3RyaW5nKTogdm9pZDtcclxuXHJcbiAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQoXHJcbiAgICBlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nLFxyXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgICBoYW5kbGVyOiBFdmVudEhhbmRsZXI8YW55PixcclxuICAgIHVzZUNhcHR1cmU/OiBib29sZWFuXHJcbiAgKTogdm9pZDtcclxuXHJcbiAgZnVuY3Rpb24gc2V0RWxlbWVudE9wYWNpdHkoZWxlbWVudDogRWxlbWVudCB8IHN0cmluZywgb3BhY2l0eTogbnVtYmVyLCB1c2VzQWxwaGE/OiBib29sZWFuKTogdm9pZDtcclxuXHJcbiAgZnVuY3Rpb24gc2V0RWxlbWVudFRvdWNoQWN0aW9uTm9uZShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nKTogdm9pZDtcclxuXHJcbiAgZnVuY3Rpb24gc2V0UGFnZVNjcm9sbChwb2ludDogUG9pbnQpOiB2b2lkO1xyXG5cclxuICBmdW5jdGlvbiBzZXRTdHJpbmcocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQ7XHJcblxyXG4gIGZ1bmN0aW9uIHN0b3BFdmVudChldmVudD86IE9TREV2ZW50PGFueT4pOiB2b2lkO1xyXG5cclxuICBpbnRlcmZhY2UgR2VzdHVyZVNldHRpbmdzIHtcclxuICAgIHNjcm9sbFRvWm9vbT86IGJvb2xlYW47XHJcbiAgICBjbGlja1RvWm9vbT86IGJvb2xlYW47XHJcbiAgICBkYmxDbGlja1RvWm9vbT86IGJvb2xlYW47XHJcbiAgICBwaW5jaFRvWm9vbT86IGJvb2xlYW47XHJcbiAgICBmbGlja0VuYWJsZWQ/OiBib29sZWFuO1xyXG4gICAgZmxpY2tNaW5TcGVlZD86IG51bWJlcjtcclxuICAgIGZsaWNrTW9tZW50dW0/OiBudW1iZXI7XHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgTmF2SW1hZ2VzVmFsdWVzIHtcclxuICAgIFJFU1Q6IHN0cmluZztcclxuICAgIEdST1VQOiBzdHJpbmc7XHJcbiAgICBIT1ZFUjogc3RyaW5nO1xyXG4gICAgRE9XTjogc3RyaW5nO1xyXG4gIH1cclxuICBpbnRlcmZhY2UgTmF2SW1hZ2VzIHtcclxuICAgIHpvb21JbjogTmF2SW1hZ2VzVmFsdWVzO1xyXG4gICAgem9vbU91dDogTmF2SW1hZ2VzVmFsdWVzO1xyXG4gICAgaG9tZTogTmF2SW1hZ2VzVmFsdWVzO1xyXG4gICAgZnVsbHBhZ2U6IE5hdkltYWdlc1ZhbHVlcztcclxuICAgIHJvdGF0ZWxlZnQ6IE5hdkltYWdlc1ZhbHVlcztcclxuICAgIHJvdGF0ZXJpZ2h0OiBOYXZJbWFnZXNWYWx1ZXM7XHJcbiAgICBmbGlwOiBOYXZJbWFnZXNWYWx1ZXM7XHJcbiAgICBwcmV2aW91czogTmF2SW1hZ2VzVmFsdWVzO1xyXG4gICAgbmV4dDogTmF2SW1hZ2VzVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIE9wdGlvbnMge1xyXG4gICAgaWQ/OiBzdHJpbmc7XHJcbiAgICBlbGVtZW50PzogSFRNTEVsZW1lbnQ7XHJcbiAgICB0aWxlU291cmNlcz86XHJcbiAgICAgIHwgc3RyaW5nXHJcbiAgICAgIHwgc3RyaW5nW11cclxuICAgICAgfCBUaWxlU291cmNlW11cclxuICAgICAgfCBUaWxlU291cmNlT3B0aW9uc1xyXG4gICAgICB8IHtcclxuICAgICAgICAgIHR5cGU6IHN0cmluZztcclxuICAgICAgICAgIGxldmVsczogQXJyYXk8e1xyXG4gICAgICAgICAgICB1cmw6IHN0cmluZztcclxuICAgICAgICAgICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICAgICAgICB9PjtcclxuICAgICAgICB9XHJcbiAgICAgIHwge1xyXG4gICAgICAgICAgSW1hZ2U6IHtcclxuICAgICAgICAgICAgeG1sbnM/OiBzdHJpbmc7XHJcbiAgICAgICAgICAgIFVybDogc3RyaW5nO1xyXG4gICAgICAgICAgICBGb3JtYXQ6IHN0cmluZztcclxuICAgICAgICAgICAgT3ZlcmxhcDogc3RyaW5nO1xyXG4gICAgICAgICAgICBUaWxlU2l6ZTogc3RyaW5nO1xyXG4gICAgICAgICAgICBTaXplOiB7XHJcbiAgICAgICAgICAgICAgV2lkdGg6IHN0cmluZztcclxuICAgICAgICAgICAgICBIZWlnaHQ6IHN0cmluZztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgIHRhYkluZGV4PzogbnVtYmVyO1xyXG4gICAgb3ZlcmxheXM/OiBhbnlbXTtcclxuICAgIHByZWZpeFVybD86IHN0cmluZztcclxuICAgIG5hdkltYWdlcz86IE5hdkltYWdlcztcclxuICAgIGRlYnVnTW9kZT86IGJvb2xlYW47XHJcbiAgICBkZWJ1Z0dyaWRDb2xvcj86IHN0cmluZ1tdO1xyXG4gICAgYmxlbmRUaW1lPzogbnVtYmVyO1xyXG4gICAgYWx3YXlzQmxlbmQ/OiBib29sZWFuO1xyXG4gICAgYXV0b0hpZGVDb250cm9scz86IGJvb2xlYW47XHJcbiAgICBpbW1lZGlhdGVSZW5kZXI/OiBib29sZWFuO1xyXG4gICAgZGVmYXVsdFpvb21MZXZlbD86IG51bWJlcjtcclxuICAgIG9wYWNpdHk/OiBudW1iZXI7XHJcbiAgICBwcmVsb2FkPzogYm9vbGVhbjtcclxuICAgIGNvbXBvc2l0ZU9wZXJhdGlvbj86XHJcbiAgICAgIHwgJ3NvdXJjZS1vdmVyJ1xyXG4gICAgICB8ICdzb3VyY2UtYXRvcCdcclxuICAgICAgfCAnc291cmNlLWluJ1xyXG4gICAgICB8ICdzb3VyY2Utb3V0J1xyXG4gICAgICB8ICdkZXN0aW5hdGlvbi1vdmVyJ1xyXG4gICAgICB8ICdkZXN0aW5hdGlvbi1hdG9wJ1xyXG4gICAgICB8ICdkZXN0aW5hdGlvbi1pbidcclxuICAgICAgfCAnZGVzdGluYXRpb24tb3V0J1xyXG4gICAgICB8ICdsaWdodGVyJ1xyXG4gICAgICB8ICdjb3B5J1xyXG4gICAgICB8ICd4b3InO1xyXG4gICAgcGxhY2Vob2xkZXJGaWxsU3R5bGU/OiBzdHJpbmcgfCBDYW52YXNHcmFkaWVudCB8IENhbnZhc1BhdHRlcm47XHJcbiAgICBkZWdyZWVzPzogbnVtYmVyO1xyXG4gICAgZmxpcHBlZD86IGJvb2xlYW47XHJcbiAgICBtaW5ab29tTGV2ZWw/OiBudW1iZXI7XHJcbiAgICBtYXhab29tTGV2ZWw/OiBudW1iZXI7XHJcbiAgICBob21lRmlsbHNWaWV3ZXI/OiBib29sZWFuO1xyXG4gICAgcGFuSG9yaXpvbnRhbD86IGJvb2xlYW47XHJcbiAgICBwYW5WZXJ0aWNhbD86IGJvb2xlYW47XHJcbiAgICBjb25zdHJhaW5EdXJpbmdQYW4/OiBib29sZWFuO1xyXG4gICAgd3JhcEhvcml6b250YWw/OiBib29sZWFuO1xyXG4gICAgd3JhcFZlcnRpY2FsPzogYm9vbGVhbjtcclxuICAgIG1pblpvb21JbWFnZVJhdGlvPzogbnVtYmVyO1xyXG4gICAgbWF4Wm9vbVBpeGVsUmF0aW8/OiBudW1iZXI7XHJcbiAgICBzbW9vdGhUaWxlRWRnZXNNaW5ab29tPzogbnVtYmVyO1xyXG4gICAgaU9TRGV2aWNlPzogYm9vbGVhbjtcclxuICAgIGF1dG9SZXNpemU/OiBib29sZWFuO1xyXG4gICAgcHJlc2VydmVJbWFnZVNpemVPblJlc2l6ZT86IGJvb2xlYW47XHJcbiAgICBtaW5TY3JvbGxEZWx0YVRpbWU/OiBudW1iZXI7XHJcbiAgICBwaXhlbHNQZXJXaGVlbExpbmU/OiBudW1iZXI7XHJcbiAgICBwaXhlbHNQZXJBcnJvd1ByZXNzPzogbnVtYmVyO1xyXG4gICAgdmlzaWJpbGl0eVJhdGlvPzogbnVtYmVyO1xyXG4gICAgdmlld3BvcnRNYXJnaW5zPzogb2JqZWN0O1xyXG4gICAgaW1hZ2VMb2FkZXJMaW1pdD86IG51bWJlcjtcclxuICAgIGNsaWNrVGltZVRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIGNsaWNrRGlzdFRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIGRibENsaWNrVGltZVRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIGRibENsaWNrRGlzdFRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIHNwcmluZ1N0aWZmbmVzcz86IG51bWJlcjtcclxuICAgIGFuaW1hdGlvblRpbWU/OiBudW1iZXI7XHJcbiAgICBnZXN0dXJlU2V0dGluZ3NNb3VzZT86IEdlc3R1cmVTZXR0aW5ncztcclxuICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoPzogR2VzdHVyZVNldHRpbmdzO1xyXG4gICAgZ2VzdHVyZVNldHRpbmdzUGVuPzogR2VzdHVyZVNldHRpbmdzO1xyXG4gICAgZ2VzdHVyZVNldHRpbmdzVW5rbm93bj86IEdlc3R1cmVTZXR0aW5ncztcclxuICAgIHpvb21QZXJDbGljaz86IG51bWJlcjtcclxuICAgIHpvb21QZXJTY3JvbGw/OiBudW1iZXI7XHJcbiAgICB6b29tUGVyU2Vjb25kPzogbnVtYmVyO1xyXG4gICAgc2hvd05hdmlnYXRvcj86IGJvb2xlYW47XHJcbiAgICBuYXZpZ2F0b3JJZD86IHN0cmluZztcclxuICAgIG5hdmlnYXRvclBvc2l0aW9uPzogJ1RPUF9MRUZUJyB8ICdUT1BfUklHSFQnIHwgJ0JPVFRPTV9MRUZUJyB8ICdCT1RUT01fUklHSFQnIHwgJ0FCU09MVVRFJztcclxuICAgIG5hdmlnYXRvclNpemVSYXRpbz86IG51bWJlcjtcclxuICAgIG5hdmlnYXRvck1haW50YWluU2l6ZVJhdGlvPzogYm9vbGVhbjtcclxuICAgIG5hdmlnYXRvclRvcD86IG51bWJlciB8IHN0cmluZztcclxuICAgIG5hdmlnYXRvckxlZnQ/OiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgICBuYXZpZ2F0b3JIZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7XHJcbiAgICBuYXZpZ2F0b3JXaWR0aD86IG51bWJlciB8IHN0cmluZztcclxuICAgIG5hdmlnYXRvckF1dG9SZXNpemU/OiBib29sZWFuO1xyXG4gICAgbmF2aWdhdG9yQXV0b0ZhZGU/OiBib29sZWFuO1xyXG4gICAgbmF2aWdhdG9yUm90YXRlPzogYm9vbGVhbjtcclxuICAgIG5hdmlnYXRvckJhY2tncm91bmQ/OiBzdHJpbmc7XHJcbiAgICBuYXZpZ2F0b3JPcGFjaXR5PzogbnVtYmVyO1xyXG4gICAgbmF2aWdhdG9yQm9yZGVyQ29sb3I/OiBzdHJpbmc7XHJcbiAgICBuYXZpZ2F0b3JEaXNwbGF5UmVnaW9uQ29sb3I/OiBzdHJpbmc7XHJcbiAgICBjb250cm9sc0ZhZGVEZWxheT86IG51bWJlcjtcclxuICAgIGNvbnRyb2xzRmFkZUxlbmd0aD86IG51bWJlcjtcclxuICAgIG1heEltYWdlQ2FjaGVDb3VudD86IG51bWJlcjtcclxuICAgIHRpbWVvdXQ/OiBudW1iZXI7XHJcbiAgICB1c2VDYW52YXM/OiBib29sZWFuO1xyXG4gICAgbWluUGl4ZWxSYXRpbz86IG51bWJlcjtcclxuICAgIG1vdXNlTmF2RW5hYmxlZD86IG51bWJlcjtcclxuICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbD86IGJvb2xlYW47XHJcbiAgICBuYXZpZ2F0aW9uQ29udHJvbEFuY2hvcj86IENvbnRyb2xBbmNob3I7XHJcbiAgICBzaG93Wm9vbUNvbnRyb2w/OiBib29sZWFuO1xyXG4gICAgc2hvd0hvbWVDb250cm9sPzogYm9vbGVhbjtcclxuICAgIHNob3dGdWxsUGFnZUNvbnRyb2w/OiBib29sZWFuO1xyXG4gICAgc2hvd1JvdGF0aW9uQ29udHJvbD86IGJvb2xlYW47XHJcbiAgICBzaG93RmxpcENvbnRyb2w/OiBib29sZWFuO1xyXG4gICAgc2hvd1NlcXVlbmNlQ29udHJvbD86IGJvb2xlYW47XHJcbiAgICBzZXF1ZW5jZUNvbnRyb2xBbmNob3I/OiBDb250cm9sQW5jaG9yO1xyXG4gICAgbmF2UHJldk5leHRXcmFwPzogYm9vbGVhbjtcclxuICAgIHpvb21JbkJ1dHRvbj86IHN0cmluZztcclxuICAgIHpvb21PdXRCdXR0b24/OiBzdHJpbmc7XHJcbiAgICBob21lQnV0dG9uPzogc3RyaW5nO1xyXG4gICAgZnVsbFBhZ2VCdXR0b24/OiBzdHJpbmc7XHJcbiAgICByb3RhdGVMZWZ0QnV0dG9uPzogc3RyaW5nO1xyXG4gICAgcm90YXRlUmlnaHRCdXR0b24/OiBzdHJpbmc7XHJcbiAgICBwcmV2aW91c0J1dHRvbj86IHN0cmluZztcclxuICAgIG5leHRCdXR0b24/OiBzdHJpbmc7XHJcbiAgICBzZXF1ZW5jZU1vZGU/OiBib29sZWFuO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJZiBzZXF1ZW5jZU1vZGUgaXMgdHJ1ZSwgZGlzcGxheSB0aGlzIHBhZ2UgaW5pdGlhbGx5LlxyXG4gICAgICogQGRlZmF1bHQgMFxyXG4gICAgICovXHJcbiAgICBpbml0aWFsUGFnZT86IG51bWJlcjtcclxuICAgIHByZXNlcnZlVmlld3BvcnQ/OiBib29sZWFuO1xyXG4gICAgcHJlc2VydmVPdmVybGF5cz86IGJvb2xlYW47XHJcbiAgICBzaG93UmVmZXJlbmNlU3RyaXA/OiBib29sZWFuO1xyXG4gICAgcmVmZXJlbmNlU3RyaXBTY3JvbGw/OiBzdHJpbmc7XHJcbiAgICByZWZlcmVuY2VTdHJpcEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICAgIHJlZmVyZW5jZVN0cmlwSGVpZ2h0PzogbnVtYmVyO1xyXG4gICAgcmVmZXJlbmNlU3RyaXBXaWR0aD86IG51bWJlcjtcclxuICAgIHJlZmVyZW5jZVN0cmlwUG9zaXRpb24/OiBzdHJpbmc7XHJcbiAgICByZWZlcmVuY2VTdHJpcFNpemVSYXRpbz86IG51bWJlcjtcclxuICAgIGNvbGxlY3Rpb25Nb2RlPzogYm9vbGVhbjtcclxuICAgIGNvbGxlY3Rpb25Sb3dzPzogbnVtYmVyO1xyXG4gICAgY29sbGVjdGlvbkNvbHVtbnM/OiBudW1iZXI7XHJcbiAgICBjb2xsZWN0aW9uTGF5b3V0PzogJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJztcclxuICAgIGNvbGxlY3Rpb25UaWxlU2l6ZT86IG51bWJlcjtcclxuICAgIGNvbGxlY3Rpb25UaWxlTWFyZ2luPzogbnVtYmVyO1xyXG4gICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiAnQW5vbnltb3VzJyB8ICd1c2UtY3JlZGVudGlhbHMnIHwgZmFsc2U7XHJcbiAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcclxuICAgIGxvYWRUaWxlc1dpdGhBamF4PzogYm9vbGVhbjtcclxuICAgIGFqYXhIZWFkZXJzPzogb2JqZWN0O1xyXG4gICAgaW1hZ2VTbW9vdGhpbmdFbmFibGVkPzogYm9vbGVhbjtcclxuICAgIHJvdGF0aW9uSW5jcmVtZW50PzogbnVtYmVyO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFRpbGVTb3VyY2VPcHRpb25zIHtcclxuICAgIHVybD86IHN0cmluZztcclxuICAgIHJlZmVyZW5jZVN0cmlwVGh1bWJuYWlsVXJsPzogc3RyaW5nO1xyXG4gICAgc3VjY2Vzcz86IChldmVudDogRXZlbnQpID0+IHZvaWQ7XHJcbiAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcclxuICAgIGFqYXhIZWFkZXJzPzogb2JqZWN0O1xyXG4gICAgd2lkdGg/OiBudW1iZXI7XHJcbiAgICBoZWlnaHQ/OiBudW1iZXI7XHJcbiAgICB0aWxlU2l6ZT86IG51bWJlcjtcclxuICAgIHRpbGVXaWR0aD86IG51bWJlcjtcclxuICAgIHRpbGVIZWlnaHQ/OiBudW1iZXI7XHJcbiAgICB0aWxlT3ZlcmxhcD86IG51bWJlcjtcclxuICAgIG1pbkxldmVsPzogbnVtYmVyO1xyXG4gICAgbWF4TGV2ZWw/OiBudW1iZXI7XHJcbiAgICBnZXRUaWxlVXJsPzogKGw6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHN0cmluZztcclxuICB9XHJcblxyXG4gIGNsYXNzIEJ1dHRvbiBleHRlbmRzIEV2ZW50U291cmNlIHtcclxuICAgIGN1cnJlbnRTdGF0ZTogQnV0dG9uU3RhdGU7XHJcbiAgICBlbGVtZW50OiBFbGVtZW50O1xyXG4gICAgZmFkZURlbGF5OiBudW1iZXI7XHJcbiAgICBmYWRlTGVuZ3RoOiBudW1iZXI7XHJcbiAgICB0cmFja2VyOiBNb3VzZVRyYWNrZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczoge1xyXG4gICAgICBlbGVtZW50PzogRWxlbWVudDtcclxuICAgICAgdG9vbHRpcD86IHN0cmluZztcclxuICAgICAgc3JjUmVzdD86IHN0cmluZztcclxuICAgICAgc3JjR3JvdXA/OiBzdHJpbmc7XHJcbiAgICAgIHNyY0hvdmVyPzogc3RyaW5nO1xyXG4gICAgICBzcmNEb3duPzogc3RyaW5nO1xyXG4gICAgICBmYWRlRGVsYXk/OiBudW1iZXI7XHJcbiAgICAgIGZhZGVMZW5ndGg/OiBudW1iZXI7XHJcbiAgICAgIG9uUHJlc3M/OiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+O1xyXG4gICAgICBvblJlbGVhc2U/OiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+O1xyXG4gICAgICBvbkNsaWNrPzogRXZlbnRIYW5kbGVyPEJ1dHRvbkV2ZW50PjtcclxuICAgICAgb25FbnRlcj86IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD47XHJcbiAgICAgIG9uRXhpdD86IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD47XHJcbiAgICAgIG9uRm9jdXM/OiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+O1xyXG4gICAgICBvbkJsdXI/OiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+O1xyXG4gICAgfSk7XHJcblxyXG4gICAgYWRkSGFuZGxlcihcclxuICAgICAgZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUsXHJcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxCdXR0b25FdmVudD4sXHJcbiAgICAgIHVzZXJEYXRhPzogb2JqZWN0XHJcbiAgICApOiB2b2lkO1xyXG4gICAgYWRkT25jZUhhbmRsZXIoXHJcbiAgICAgIGV2ZW50TmFtZTogQnV0dG9uRXZlbnROYW1lLFxyXG4gICAgICBoYW5kbGVyOiBFdmVudEhhbmRsZXI8QnV0dG9uRXZlbnQ+LFxyXG4gICAgICB1c2VyRGF0YT86IG9iamVjdCxcclxuICAgICAgdGltZXM/OiBudW1iZXJcclxuICAgICk6IHZvaWQ7XHJcbiAgICBkaXNhYmxlKCk6IHZvaWQ7XHJcbiAgICBlbmFibGUoKTogdm9pZDtcclxuICAgIGdldEhhbmRsZXIoZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUpOiAoc291cmNlOiBCdXR0b25FdmVudE5hbWUsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xyXG4gICAgcmFpc2VFdmVudChldmVudE5hbWU6IEJ1dHRvbkV2ZW50TmFtZSwgZXZlbnRBcmdzOiBvYmplY3QpOiB2b2lkO1xyXG4gICAgcmVtb3ZlQWxsSGFuZGxlcnMoZXZlbnROYW1lOiBCdXR0b25FdmVudE5hbWUpOiB2b2lkO1xyXG4gICAgcmVtb3ZlSGFuZGxlcihldmVudE5hbWU6IEJ1dHRvbkV2ZW50TmFtZSwgaGFuZGxlcjogRXZlbnRIYW5kbGVyPEJ1dHRvbkV2ZW50Pik6IHZvaWQ7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBCdXR0b25Hcm91cCB7XHJcbiAgICBidXR0b25zOiBCdXR0b25bXTtcclxuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XHJcbiAgICB0cmFja2VyOiBNb3VzZVRyYWNrZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogeyBidXR0b25zOiBCdXR0b25bXTsgZWxlbWVudD86IEVsZW1lbnQgfSk7XHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgVENvbnRyb2xPcHRpb25zIHtcclxuICAgIGFuY2hvcj86IENvbnRyb2xBbmNob3I7XHJcbiAgICBhdHRhY2hUb1ZpZXdlcj86IGJvb2xlYW47XHJcbiAgICBhdXRvRmFkZT86IGJvb2xlYW47XHJcbiAgfVxyXG5cclxuICBjbGFzcyBDb250cm9sIHtcclxuICAgIGFuY2hvcjogQ29udHJvbEFuY2hvcjtcclxuICAgIGF1dG9GYWRlOiBib29sZWFuO1xyXG4gICAgY29udGFpbmVyOiBFbGVtZW50O1xyXG4gICAgZWxlbWVudDogRWxlbWVudDtcclxuICAgIHdyYXBwZXI6IEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogRWxlbWVudCwgb3B0aW9uczogVENvbnRyb2xPcHRpb25zLCBjb250YWluZXI6IEVsZW1lbnQpO1xyXG5cclxuICAgIGRlc3Ryb3koKTogdm9pZDtcclxuICAgIGlzVmlzaWJsZSgpOiBib29sZWFuO1xyXG4gICAgc2V0T3BhY2l0eShvcGFjaXR5OiBudW1iZXIpOiB2b2lkO1xyXG4gICAgc2V0VmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKTogdm9pZDtcclxuICB9XHJcblxyXG4gIGNsYXNzIENvbnRyb2xEb2NrIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IG9iamVjdCk7XHJcblxyXG4gICAgYWRkQ29udHJvbChlbGVtZW50OiBDb250cm9sLCBjb250cm9sT3B0aW9uczogVENvbnRyb2xPcHRpb25zKTogdm9pZDtcclxuICAgIGFyZUNvbnRyb2xzRW5hYmxlZCgpOiBib29sZWFuO1xyXG4gICAgY2xlYXJDb250cm9scygpOiBDb250cm9sRG9jaztcclxuICAgIHJlbW92ZUNvbnRyb2woZWxlbWVudDogQ29udHJvbCk6IENvbnRyb2xEb2NrO1xyXG4gICAgc2V0Q29udHJvbHNFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiBDb250cm9sRG9jaztcclxuICB9XHJcblxyXG4gIGNsYXNzIERpc3BsYXlSZWN0IGV4dGVuZHMgUmVjdCB7XHJcbiAgICBtYXhMZXZlbDogbnVtYmVyO1xyXG4gICAgbWluTGV2ZWw6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgeDogbnVtYmVyLFxyXG4gICAgICB5OiBudW1iZXIsXHJcbiAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICBtaW5MZXZlbDogbnVtYmVyLFxyXG4gICAgICBtYXhMZXZlbDogbnVtYmVyXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgRHJhd2VyIHtcclxuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MRWxlbWVudDtcclxuICAgIGNvbnRhaW5lcjogRWxlbWVudDtcclxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGw7XHJcbiAgICAvLyBlbGVtZW50IDogRWxlbWVudDsgLy8gRGVwcmVjYXRlZFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcclxuICAgICAgdmlld2VyOiBWaWV3ZXI7XHJcbiAgICAgIHZpZXdwb3J0OiBWaWV3cG9ydDtcclxuICAgICAgZWxlbWVudDogRWxlbWVudDtcclxuICAgICAgZGVidWdHcmlkQ29sb3I/OiBzdHJpbmc7XHJcbiAgICB9KTtcclxuXHJcbiAgICBibGVuZFNrZXRjaChvcHRpb25zOiB7XHJcbiAgICAgIG9wYWNpdHk6IG51bWJlcjtcclxuICAgICAgc2NhbGU/OiBudW1iZXI7XHJcbiAgICAgIHRyYW5zbGF0ZT86IFBvaW50O1xyXG4gICAgICBjb21wb3NpdGVPcGVyYXRpb24/OiBzdHJpbmc7XHJcbiAgICAgIGJvdW5kcz86IFJlY3Q7XHJcbiAgICB9KTogdm9pZDtcclxuICAgIGNhblJvdGF0ZSgpOiBib29sZWFuO1xyXG4gICAgY2xlYXIoKTogdm9pZDtcclxuICAgIGRlc3Ryb3koKTogdm9pZDtcclxuICAgIGRyYXdUaWxlKFxyXG4gICAgICB0aWxlOiBUaWxlLFxyXG4gICAgICBkcmF3aW5nSGFuZGxlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogYW55LCByZW5kZXJlZDogYW55KSA9PiB2b2lkLCAvLyBUT0RPOiBkZXRlcm1pbmUgaGFuZGxlciBwYXJhbWV0ZXIgdHlwZXNcclxuICAgICAgdXNlU2tldGNoOiBib29sZWFuLFxyXG4gICAgICBzY2FsZT86IG51bWJlcixcclxuICAgICAgdHJhbnNsYXRlPzogUG9pbnRcclxuICAgICk6IHZvaWQ7XHJcbiAgICBnZXRDYW52YXNTaXplKHNrZXRjaDogYm9vbGVhbik6IFBvaW50O1xyXG4gICAgZ2V0T3BhY2l0eSgpOiBudW1iZXI7XHJcbiAgICBzZXRPcGFjaXR5KG9wYWNpdHk6IG51bWJlcik6IERyYXdlcjtcclxuICAgIHZpZXdwb3J0VG9EcmF3ZXJSZWN0YW5nbGUocmVjdGFuZ2xlOiBSZWN0KTogUmVjdDtcclxuICAgIHNldEltYWdlU21vb3RoaW5nRW5hYmxlZChpbWFnZVNtb290aGluZ0VuYWJsZWQ/OiBib29sZWFuKTogdm9pZDtcclxuICAgIHZpZXdwb3J0Q29vcmRUb0RyYXdlckNvb3JkKHBvaW50OiBQb2ludCk6IFBvaW50O1xyXG4gICAgY2xpcFdpdGhQb2x5Z29ucyhwb2x5Z29uczogUG9pbnRbXVtdLCB1c2VTa2V0Y2g/OiBib29sZWFuKTogdm9pZDtcclxuICB9XHJcblxyXG4gIGNsYXNzIER6aVRpbGVTb3VyY2UgZXh0ZW5kcyBUaWxlU291cmNlIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgdGlsZVNpemU6IG51bWJlcixcclxuICAgICAgdGlsZU92ZXJsYXA6IG51bWJlcixcclxuICAgICAgdGlsZXNVcmw6IG51bWJlcixcclxuICAgICAgZmlsZUZvcm1hdDogbnVtYmVyLFxyXG4gICAgICBkaXNwbGF5UmVjdHM6IG51bWJlcixcclxuICAgICAgbWluTGV2ZWw6IG51bWJlcixcclxuICAgICAgbWF4TGV2ZWw6IG51bWJlclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNsYXNzIElJSUZUaWxlU291cmNlIGV4dGVuZHMgVGlsZVNvdXJjZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBUaWxlU291cmNlT3B0aW9ucyAmIHsgdGlsZUZvcm1hdD86IHN0cmluZyB9KTtcclxuICB9XHJcblxyXG4gIGNsYXNzIEltYWdlTG9hZGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHsgam9iTGltaXQ/OiBudW1iZXI7IHRpbWVvdXQ/OiBudW1iZXIgfSk7XHJcblxyXG4gICAgYWRkSm9iKG9wdGlvbnM6IHtcclxuICAgICAgc3JjPzogc3RyaW5nO1xyXG4gICAgICBsb2FkV2l0aEFqYXg/OiBzdHJpbmc7XHJcbiAgICAgIGFqYXhIZWFkZXJzPzogc3RyaW5nO1xyXG4gICAgICBjcm9zc09yaWdpblBvbGljeT86IHN0cmluZyB8IGJvb2xlYW47XHJcbiAgICAgIGFqYXhXaXRoQ3JlZGVudGlhbHM/OiBib29sZWFuO1xyXG4gICAgICBjYWxsYmFjaz86ICgpID0+IHZvaWQ7XHJcbiAgICAgIGFib3J0PzogKCkgPT4gdm9pZDtcclxuICAgIH0pOiB2b2lkO1xyXG4gICAgY2xlYXIoKTogdm9pZDtcclxuICB9XHJcblxyXG4gIGNsYXNzIEltYWdlVGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczoge1xyXG4gICAgICB1cmw6IHN0cmluZztcclxuICAgICAgYnVpbGRQeXJhbWlkPzogYm9vbGVhbjtcclxuICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiBzdHJpbmcgfCBib29sZWFuO1xyXG4gICAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogc3RyaW5nIHwgYm9vbGVhbjtcclxuICAgICAgdXNlQ2FudmFzPzogYm9vbGVhbjtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgTGVnYWN5VGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgIGxldmVscz86IEFycmF5PHtcclxuICAgICAgICB1cmw6IHN0cmluZztcclxuICAgICAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgICB9PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGludGVyZmFjZSBNb3VzZVRyYWNrZXJPcHRpb25zIHtcclxuICAgIGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmc7XHJcbiAgICBzdGFydERpc2FibGVkPzogYm9vbGVhbjtcclxuICAgIGNsaWNrVGltZVRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIGNsaWNrRGlzdFRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIGRibENsaWNrVGltZVRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIGRibENsaWNrRGlzdFRocmVzaG9sZD86IG51bWJlcjtcclxuICAgIHN0b3BEZWxheT86IG51bWJlcjtcclxuICAgIGVudGVySGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcclxuICAgIGV4aXRIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgcHJlc3NIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgbm9uUHJpbWFyeVByZXNzSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcclxuICAgIHJlbGVhc2VIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgbm9uUHJpbWFyeVJlbGVhc2VIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgbW92ZUhhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XHJcbiAgICBzY3JvbGxIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgY2xpY2tIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgZGJsQ2xpY2tIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgZHJhZ0hhbmRsZXI/OiBFdmVudEhhbmRsZXI8T1NERXZlbnQ8YW55Pj47XHJcbiAgICBkcmFnRW5kSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcclxuICAgIHBpbmNoSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcclxuICAgIGtleURvd25IYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAga2V5VXBIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAga2V5SGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcclxuICAgIGZvY3VzSGFuZGxlcj86IEV2ZW50SGFuZGxlcjxPU0RFdmVudDxhbnk+PjtcclxuICAgIGJsdXJIYW5kbGVyPzogRXZlbnRIYW5kbGVyPE9TREV2ZW50PGFueT4+O1xyXG4gICAgdXNlckRhdGE/OiBvYmplY3Q7XHJcbiAgfVxyXG4gIGNsYXNzIE1vdXNlVHJhY2tlciB7XHJcbiAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IG51bWJlcjtcclxuICAgIGNsaWNrRGlzdFRocmVzaG9sZDogbnVtYmVyO1xyXG4gICAgZGJsQ2xpY2tUaW1lVGhyZXNob2xkOiBudW1iZXI7XHJcbiAgICBkYmxDbGlja0Rpc3RUaHJlc2hvbGQ6IG51bWJlcjtcclxuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogTW91c2VUcmFja2VyT3B0aW9ucyk7XHJcblxyXG4gICAgYmx1ckhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIGNsaWNrSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xyXG4gICAgZGJsQ2xpY2tIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XHJcbiAgICBkZXN0cm95KCk6IHZvaWQ7XHJcbiAgICBkcmFnRW5kSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xyXG4gICAgZHJhZ0hhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIGVudGVySGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xyXG4gICAgZXhpdEhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIGZvY3VzSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xyXG4gICAgZ2V0QWN0aXZlUG9pbnRlckNvdW50KCk6IG51bWJlcjtcclxuICAgIGdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZSh0eXBlOiBzdHJpbmcpOiBHZXN0dXJlUG9pbnRMaXN0O1xyXG4gICAgZ2V0QWN0aXZlUG9pbnRlcnNMaXN0c0V4Y2VwdFR5cGUodHlwZTogc3RyaW5nKTogR2VzdHVyZVBvaW50TGlzdFtdO1xyXG4gICAga2V5RG93bkhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIGtleUhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIGtleVVwSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xyXG4gICAgbW92ZUhhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIG5vblByaW1hcnlQcmVzc0hhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIG5vblByaW1hcnlSZWxlYXNlSGFuZGxlcjogKGV2ZW50OiBPU0RFdmVudDxhbnk+KSA9PiB2b2lkO1xyXG4gICAgcGluY2hIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XHJcbiAgICBwcmVzc0hhbmRsZXI6IChldmVudDogT1NERXZlbnQ8YW55PikgPT4gdm9pZDtcclxuICAgIHJlbGVhc2VIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XHJcbiAgICBzY3JvbGxIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XHJcbiAgICBzZXRUcmFja2luZyh0cmFjazogYm9vbGVhbik6IGFueTtcclxuICAgIHN0b3BIYW5kbGVyOiAoZXZlbnQ6IE9TREV2ZW50PGFueT4pID0+IHZvaWQ7XHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgR2VzdHVyZVBvaW50IHtcclxuICAgIGlkOiBudW1iZXI7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBjYXB0dXJlZDogYm9vbGVhbjtcclxuICAgIGlzUHJpbWFyeTogYm9vbGVhbjtcclxuICAgIGluc2lkZUVsZW1lbnRQcmVzc2VkOiBib29sZWFuO1xyXG4gICAgaW5zaWRlRWxlbWVudDogYm9vbGVhbjtcclxuICAgIHNwZWVkOiBudW1iZXI7XHJcbiAgICBkaXJlY3Rpb246IG51bWJlcjtcclxuICAgIGNvbnRhY3RQb3M6IFBvaW50O1xyXG4gICAgY29udGFjdFRpbWU6IG51bWJlcjtcclxuICAgIGxhc3RQb3M6IFBvaW50O1xyXG4gICAgbGFzdFRpbWU6IG51bWJlcjtcclxuICAgIGN1cnJlbnRQb3M6IFBvaW50O1xyXG4gICAgY3VycmVudFRpbWU6IG51bWJlcjtcclxuICB9XHJcblxyXG4gIGNsYXNzIEdlc3R1cmVQb2ludExpc3Qge1xyXG4gICAgYnV0dG9uczogQnV0dG9uW107XHJcbiAgICBjYXB0dXJlQ291bnQ6IG51bWJlcjtcclxuICAgIGNsaWNrczogbnVtYmVyO1xyXG4gICAgY29udGFjdHM6IG51bWJlcjtcclxuICAgIHR5cGU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcpO1xyXG5cclxuICAgIGFkZChnZXN0dXJlUG9pbnQ6IEdlc3R1cmVQb2ludCk6IG51bWJlcjtcclxuICAgIGFkZENvbnRhY3QoKTogdm9pZDtcclxuICAgIGFzQXJyYXkoKTogR2VzdHVyZVBvaW50W107XHJcbiAgICBnZXRCeUlkKGlkOiBudW1iZXIpOiBHZXN0dXJlUG9pbnQgfCBudWxsO1xyXG4gICAgZ2V0QnlJbmRleChpbmRleDogbnVtYmVyKTogR2VzdHVyZVBvaW50IHwgbnVsbDtcclxuICAgIGdldExlbmd0aCgpOiBudW1iZXI7XHJcbiAgICBnZXRQcmltYXJ5KCk6IEdlc3R1cmVQb2ludCB8IG51bGw7XHJcbiAgICByZW1vdmVCeUlkKGlkOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICByZW1vdmVDb250YWN0KCk6IHZvaWQ7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBOYXZpZ2F0b3IgZXh0ZW5kcyBWaWV3ZXIge1xyXG4gICAgc2V0RmxpcChzdGF0ZTogYm9vbGVhbik6IHZvaWQ7XHJcbiAgICB1cGRhdGUodmlld3BvcnQ6IFZpZXdwb3J0KTogdm9pZDtcclxuICAgIHVwZGF0ZVNpemUoKTogdm9pZDtcclxuICAgIHNldFdpZHRoKHdpZHRoOiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkO1xyXG4gICAgc2V0SGVpZ2h0KHdpZHRoOiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkO1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgT3NtVGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICB0aWxlU2l6ZTogbnVtYmVyLFxyXG4gICAgICB0aWxlT3ZlcmxhcDogbnVtYmVyLFxyXG4gICAgICB0aWxlc1VybDogc3RyaW5nXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgdHlwZSBPbkRyYXdDYWxsYmFjayA9IChwb3NpdGlvbjogUG9pbnQsIHNpemU6IFBvaW50LCBlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcclxuXHJcbiAgaW50ZXJmYWNlIE92ZXJsYXlPcHRpb25zIHtcclxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgbG9jYXRpb246IFBvaW50IHwgUmVjdDtcclxuICAgIHBsYWNlbWVudD86IFBsYWNlbWVudDtcclxuICAgIG9uRHJhdz86IE9uRHJhd0NhbGxiYWNrO1xyXG4gICAgY2hlY2tSZXNpemU/OiBib29sZWFuO1xyXG4gICAgd2lkdGg/OiBudW1iZXI7XHJcbiAgICBoZWlnaHQ/OiBudW1iZXI7XHJcbiAgICByb3RhdGlvbk1vZGU/OiBib29sZWFuO1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgT3ZlcmxheSB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBPdmVybGF5T3B0aW9ucyk7XHJcbiAgICBhZGp1c3QocG9zaXRpb246IFBvaW50LCBzaXplOiBQb2ludCk6IHZvaWQ7XHJcbiAgICBkZXN0cm95KCk6IHZvaWQ7XHJcbiAgICBkcmF3SFRNTChjb250YWluZXI6IEhUTUxFbGVtZW50KTogdm9pZDtcclxuICAgIGdldEJvdW5kcyh2aWV3cG9ydDogVmlld3BvcnQpOiBSZWN0O1xyXG4gICAgdXBkYXRlKGxvY2F0aW9uOiBQb2ludCB8IFJlY3QsIHBsYWNlbWVudDogUGxhY2VtZW50KTogdm9pZDtcclxuICB9XHJcblxyXG4gIGNsYXNzIFBvaW50IHtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKHg/OiBudW1iZXIsIHk/OiBudW1iZXIpO1xyXG4gICAgYXBwbHkoZnVuYzogKHY6IG51bWJlcikgPT4gbnVtYmVyKTogUG9pbnQ7XHJcbiAgICBjbG9uZSgpOiBQb2ludDtcclxuICAgIGRpc3RhbmNlVG8ocG9pbnQ6IFBvaW50KTogbnVtYmVyO1xyXG4gICAgZGl2aWRlKGZhY3RvcjogbnVtYmVyKTogUG9pbnQ7XHJcbiAgICBlcXVhbHMocG9pbnQ6IFBvaW50KTogYm9vbGVhbjtcclxuICAgIG1pbnVzKHBvaW50OiBQb2ludCk6IFBvaW50O1xyXG4gICAgbmVnYXRlKCk6IFBvaW50O1xyXG4gICAgcGx1cyhwb2ludDogUG9pbnQpOiBQb2ludDtcclxuICAgIHJvdGF0ZShkZWdyZWVzOiBudW1iZXIsIHBpdm90PzogUG9pbnQpOiBQb2ludDtcclxuICAgIHNxdWFyZWREaXN0YW5jZVRvKHBvaW50OiBQb2ludCk6IG51bWJlcjtcclxuICAgIHRpbWVzKGZhY3RvcjogbnVtYmVyKTogUmVjdDtcclxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcclxuICB9XHJcblxyXG4gIGNsYXNzIFJlY3Qge1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgZGVncmVlczogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IoeD86IG51bWJlciwgeT86IG51bWJlciwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlciwgZGVncmVlcz86IG51bWJlcik7XHJcbiAgICBjbG9uZSgpOiBSZWN0O1xyXG4gICAgY29udGFpbnNQb2ludChwb2ludDogUG9pbnQsIGVwc2lsb24/OiBudW1iZXIpOiBib29sZWFuO1xyXG4gICAgZXF1YWxzKHJlY3RhbmdsZTogUmVjdCk6IGJvb2xlYW47XHJcbiAgICBnZXRBc3BlY3RSYXRpbygpOiBudW1iZXI7XHJcbiAgICBnZXRCb3R0b21MZWZ0KCk6IFBvaW50O1xyXG4gICAgZ2V0Qm90dG9tUmlnaHQoKTogUG9pbnQ7XHJcbiAgICBnZXRCb3VuZGluZ0JveCgpOiBSZWN0O1xyXG4gICAgZ2V0Q2VudGVyKCk6IFBvaW50O1xyXG4gICAgZ2V0SW50ZWdlckJvdW5kaW5nQm94KCk6IFJlY3Q7XHJcbiAgICBnZXRTaXplKCk6IFBvaW50O1xyXG4gICAgZ2V0VG9wTGVmdCgpOiBQb2ludDtcclxuICAgIGdldFRvcFJpZ2h0KCk6IFBvaW50O1xyXG4gICAgaW50ZXJzZWN0aW9uKHJlY3Q6IFJlY3QpOiBSZWN0O1xyXG4gICAgcm90YXRlKGRlZ3JlZXM6IG51bWJlciwgcGl2b3Q/OiBSZWN0KTogUmVjdDtcclxuICAgIHRpbWVzKGZhY3RvcjogbnVtYmVyKTogUmVjdDtcclxuICAgIHRvU3RyaW5nKCk6IHN0cmluZztcclxuICAgIHRyYW5zbGF0ZShkZWx0YTogUG9pbnQpOiBSZWN0O1xyXG4gICAgdW5pb24ocmVjdDogUmVjdCk6IFJlY3Q7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBSZWZlcmVuY2VTdHJpcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBvYmplY3QpO1xyXG4gICAgc2V0Rm9jdXMoKTogdm9pZDtcclxuICAgIHVwZGF0ZSgpOiB2b2lkO1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgU3ByaW5nIHtcclxuICAgIGFuaW1hdGlvblRpbWU6IG51bWJlcjtcclxuICAgIGN1cnJlbnQ6IHtcclxuICAgICAgdmFsdWU6IG51bWJlcjtcclxuICAgICAgdGltZTogbnVtYmVyO1xyXG4gICAgfTtcclxuICAgIHNwcmluZ1N0aWZmbmVzczogbnVtYmVyO1xyXG4gICAgc3RhcnQ6IHtcclxuICAgICAgdmFsdWU6IG51bWJlcjtcclxuICAgICAgdGltZTogbnVtYmVyO1xyXG4gICAgfTtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcclxuICAgICAgc3ByaW5nU3RpZmZuZXNzOiBudW1iZXI7XHJcbiAgICAgIGFuaW1hdGlvblRpbWU6IG51bWJlcjtcclxuICAgICAgaW5pdGlhbD86IG51bWJlcjtcclxuICAgICAgZXhwb25lbnRpYWw/OiBib29sZWFuO1xyXG4gICAgfSk7XHJcbiAgICBpc0F0VGFyZ2V0VmFsdWUoKTogYm9vbGVhbjtcclxuICAgIHJlc2V0VG8odGFyZ2V0OiBudW1iZXIpOiB2b2lkO1xyXG4gICAgc2hpZnRCeShkZWx0YTogbnVtYmVyKTogdm9pZDtcclxuICAgIHNwcmluZ1RvKHRhcmdldDogbnVtYmVyKTogdm9pZDtcclxuICAgIHVwZGF0ZSgpOiB2b2lkO1xyXG4gIH1cclxuXHJcbiAgY2xhc3MgVGlsZSB7XHJcbiAgICBhamF4SGVhZGVyczogb2JqZWN0O1xyXG4gICAgYmVpbmdEcmF3bjogYm9vbGVhbjtcclxuICAgIGJsZW5kU3RhcnQ6IG51bWJlcjtcclxuICAgIGJvdW5kczogUmVjdDtcclxuICAgIGNhY2hlS2V5OiBzdHJpbmc7XHJcbiAgICBjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XHJcbiAgICBleGlzdHM6IGJvb2xlYW47XHJcbiAgICBpbWFnZTogb2JqZWN0O1xyXG4gICAgaW1nRWxlbWVudDogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGlzQm90dG9tTW9zdDogYm9vbGVhbjtcclxuICAgIGlzUmlnaHRNb3N0OiBib29sZWFuO1xyXG4gICAgbGFzdFRvdWNoVGltZTogbnVtYmVyO1xyXG4gICAgbGV2ZWw6IG51bWJlcjtcclxuICAgIGxvYWRlZDogYm9vbGVhbjtcclxuICAgIGxvYWRpbmc6IGJvb2xlYW47XHJcbiAgICBsb2FkV2l0aEFqYXg6IGJvb2xlYW47XHJcbiAgICBvcGFjaXR5OiBudW1iZXI7XHJcbiAgICBwb3NpdGlvbjogUG9pbnQ7XHJcbiAgICBzaXplOiBQb2ludDtcclxuICAgIHNvdXJjZUJvdW5kczogUmVjdDtcclxuICAgIHN0eWxlOiBzdHJpbmc7XHJcbiAgICB1cmw6IHN0cmluZztcclxuICAgIHZpc2liaWxpdHk6IG51bWJlcjtcclxuICAgIHg6IG51bWJlcjtcclxuICAgIHk6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgbGV2ZWw6IG51bWJlcixcclxuICAgICAgeDogbnVtYmVyLFxyXG4gICAgICB5OiBudW1iZXIsXHJcbiAgICAgIGJvdW5kczogUmVjdCxcclxuICAgICAgZXhpc3RzOiBib29sZWFuLFxyXG4gICAgICB1cmw6IHN0cmluZyxcclxuICAgICAgY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXHJcbiAgICAgIGxvYWRXaXRoQWpheDogYm9vbGVhbixcclxuICAgICAgYWpheEhlYWRlcnM6IG9iamVjdCxcclxuICAgICAgc291cmNlQm91bmRzOiBSZWN0XHJcbiAgICApO1xyXG4gICAgZHJhd0NhbnZhcyhcclxuICAgICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gICAgICBkcmF3aW5nSGFuZGxlcjogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgdGlsZTogYW55LCByZW5kZXJlZDogYW55KSA9PiB2b2lkLFxyXG4gICAgICBzY2FsZT86IG51bWJlcixcclxuICAgICAgdHJhbnNsYXRlPzogUG9pbnRcclxuICAgICk6IHZvaWQ7XHJcbiAgICBkcmF3SFRNTChjb250YWluZXI6IEVsZW1lbnQpOiB2b2lkO1xyXG4gICAgZ2V0U2NhbGVGb3JFZGdlU21vb3RoaW5nKCk6IG51bWJlcjtcclxuICAgIGdldFRyYW5zbGF0aW9uRm9yRWRnZVNtb290aGluZyhzY2FsZT86IG51bWJlcik6IFBvaW50O1xyXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nO1xyXG4gICAgdW5sb2FkKCk6IHZvaWQ7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBUaWxlQ2FjaGUge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogeyBtYXhJbWFnZUNhY2hlQ291bnQ/OiBudW1iZXIgfSk7XHJcbiAgICBjYWNoZVRpbGUob3B0aW9uczoge1xyXG4gICAgICB0aWxlOiBUaWxlO1xyXG4gICAgICBpbWFnZTogSFRNTEltYWdlRWxlbWVudDsgLy8gVE9ETzogY2hlY2sgdHlwZVxyXG4gICAgICB0aWxlZEltYWdlOiBUaWxlZEltYWdlO1xyXG4gICAgICBjdXRvZmY/OiBudW1iZXI7XHJcbiAgICB9KTogdm9pZDtcclxuICAgIGNsZWFyVGlsZXNGb3IodGlsZWRJbWFnZTogVGlsZWRJbWFnZSk6IHZvaWQ7XHJcbiAgICBudW1UaWxlc0xvYWRlZCgpOiBudW1iZXI7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBUaWxlZEltYWdlIHtcclxuICAgIHNvdXJjZTogVGlsZVNvdXJjZTtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtcclxuICAgICAgc291cmNlOiBUaWxlU291cmNlO1xyXG4gICAgICB2aWV3ZXI6IFZpZXdlcjtcclxuICAgICAgdGlsZUNhY2hlOiBUaWxlQ2FjaGU7XHJcbiAgICAgIGRyYXdlcjogRHJhd2VyO1xyXG4gICAgICBpbWFnZUxvYWRlcjogSW1hZ2VMb2FkZXI7XHJcbiAgICAgIHg/OiBudW1iZXI7XHJcbiAgICAgIHk/OiBudW1iZXI7XHJcbiAgICAgIHdpZHRoPzogbnVtYmVyO1xyXG4gICAgICBoZWlnaHQ/OiBudW1iZXI7XHJcbiAgICAgIGZpdEJvdW5kcz86IFJlY3Q7XHJcbiAgICAgIGZpdEJvdW5kc1BsYWNlbWVudD86IFBsYWNlbWVudDtcclxuICAgICAgY2xpcD86IFJlY3Q7XHJcbiAgICAgIHNwcmluZ1N0aWZmbmVzcz86IG51bWJlcjtcclxuICAgICAgYW5pbWF0aW9uVGltZT86IGJvb2xlYW47XHJcbiAgICAgIG1pblpvb21JbWFnZVJhdGlvPzogbnVtYmVyO1xyXG4gICAgICB3cmFwSG9yaXpvbnRhbD86IGJvb2xlYW47XHJcbiAgICAgIHdyYXBWZXJ0aWNhbD86IGJvb2xlYW47XHJcbiAgICAgIGltbWVkaWF0ZVJlbmRlcj86IGJvb2xlYW47XHJcbiAgICAgIGJsZW5kVGltZT86IG51bWJlcjtcclxuICAgICAgYWx3YXlzQmxlbmQ/OiBib29sZWFuO1xyXG4gICAgICBtaW5QaXhlbFJhdGlvPzogbnVtYmVyO1xyXG4gICAgICBzbW9vdGhUaWxlRWRnZXNNaW5ab29tPzogbnVtYmVyO1xyXG4gICAgICBpT1NEZXZpY2U/OiBib29sZWFuO1xyXG4gICAgICBvcGFjaXR5PzogbnVtYmVyO1xyXG4gICAgICBwcmVsb2FkPzogYm9vbGVhbjtcclxuICAgICAgY29tcG9zaXRlT3BlcmF0aW9uPzogc3RyaW5nO1xyXG4gICAgICBkZWJ1Z01vZGU/OiBib29sZWFuO1xyXG4gICAgICBwbGFjZWhvbGRlckZpbGxTdHlsZT86IHN0cmluZyB8IENhbnZhc0dyYWRpZW50IHwgQ2FudmFzUGF0dGVybjtcclxuICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiBzdHJpbmcgfCBib29sZWFuO1xyXG4gICAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcclxuICAgICAgbG9hZFRpbGVzV2l0aEFqYXg/OiBib29sZWFuO1xyXG4gICAgICBhamF4SGVhZGVycz86IG9iamVjdDtcclxuICAgIH0pO1xyXG5cclxuICAgIGFkZEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlZEltYWdlRXZlbnQ+LCB1c2VyRGF0YT86IG9iamVjdCk6IHZvaWQ7XHJcbiAgICBhZGRPbmNlSGFuZGxlcihcclxuICAgICAgZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlZEltYWdlRXZlbnQ+LFxyXG4gICAgICB1c2VyRGF0YT86IG9iamVjdFxyXG4gICAgKTogdm9pZDtcclxuICAgIGRlc3Ryb3koKTogdm9pZDtcclxuICAgIGRyYXcoKTogdm9pZDtcclxuICAgIGZpdEJvdW5kcyhib3VuZHM6IFJlY3QsIGFuY2hvcj86IFBsYWNlbWVudCwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogdm9pZDtcclxuICAgIGdldEJvdW5kcyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XHJcbiAgICBnZXRCb3VuZHNOb1JvdGF0ZShjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XHJcbiAgICBnZXRDbGlwKCk6IFJlY3QgfCBudWxsO1xyXG4gICAgZ2V0Q2xpcHBlZEJvdW5kcyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XHJcbiAgICBnZXRDb21wb3NpdGVPcGVyYXRpb24oKTogc3RyaW5nO1xyXG4gICAgZ2V0Q29udGVudFNpemUoKTogUG9pbnQ7XHJcbiAgICBnZXRGdWxseUxvYWRlZCgpOiBib29sZWFuO1xyXG4gICAgZ2V0SGFuZGxlcihldmVudE5hbWU6IHN0cmluZyk6IChzb3VyY2U6IEV2ZW50LCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcclxuICAgIGdldE9wYWNpdHkoKTogbnVtYmVyO1xyXG4gICAgZ2V0UHJlbG9hZCgpOiBib29sZWFuO1xyXG4gICAgZ2V0Um90YXRpb24oY3VycmVudD86IGJvb2xlYW4pOiBudW1iZXI7XHJcbiAgICBpbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdHMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XHJcbiAgICBpbWFnZVRvVmlld3BvcnRDb29yZGluYXRlcyhwb3NpdGlvbjogUG9pbnQsIGN1cnJlbnQ/OiBib29sZWFuKTogUG9pbnQ7XHJcbiAgICBpbWFnZVRvVmlld3BvcnRDb29yZGluYXRlcyhpbWFnZVg6IG51bWJlciwgaW1hZ2VZOiBudW1iZXIsIGN1cnJlbnQ/OiBib29sZWFuKTogUG9pbnQ7XHJcbiAgICBpbWFnZVRvVmlld3BvcnRSZWN0YW5nbGUoXHJcbiAgICAgIGltYWdlWDogbnVtYmVyLFxyXG4gICAgICBpbWFnZVk/OiBudW1iZXIsXHJcbiAgICAgIHBpeGVsV2lkdGg/OiBudW1iZXIsXHJcbiAgICAgIHBpeGVsSGVpZ2h0PzogbnVtYmVyLFxyXG4gICAgICBjdXJyZW50PzogYm9vbGVhblxyXG4gICAgKTogUmVjdDtcclxuICAgIGltYWdlVG9WaWV3cG9ydFJlY3RhbmdsZShcclxuICAgICAgcG9zaXRpb246IFJlY3QsXHJcbiAgICAgIHBpeGVsV2lkdGg/OiBudW1iZXIsXHJcbiAgICAgIHBpeGVsSGVpZ2h0PzogbnVtYmVyLFxyXG4gICAgICBjdXJyZW50PzogYm9vbGVhblxyXG4gICAgKTogUmVjdDtcclxuXHJcbiAgICBpbWFnZVRvVmlld3BvcnRab29tKGltYWdlWm9vbTogbnVtYmVyKTogbnVtYmVyO1xyXG4gICAgaW1hZ2VUb1dpbmRvd0Nvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xyXG4gICAgbmVlZHNEcmF3KCk6IGJvb2xlYW47XHJcbiAgICByYWlzZUV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEFyZ3M6IG9iamVjdCk6IHZvaWQ7XHJcbiAgICByZW1vdmVBbGxIYW5kbGVycyhldmVudE5hbWU6IHN0cmluZyk6IHZvaWQ7XHJcbiAgICByZW1vdmVIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXI8VGlsZWRJbWFnZUV2ZW50Pik6IHZvaWQ7XHJcbiAgICByZXNldCgpOiB2b2lkO1xyXG4gICAgcmVzZXRDcm9wcGluZ1BvbHlnb25zKCk6IHZvaWQ7XHJcbiAgICBzZXRDbGlwKG5ld0NsaXA6IFJlY3QgfCBudWxsKTogdm9pZDtcclxuICAgIHNldENvbXBvc2l0ZU9wZXJhdGlvbihjb21wb3NpdGVPcGVyYXRpb246IHN0cmluZyk6IHZvaWQ7XHJcbiAgICBzZXRDcm9wcGluZ1BvbHlnb25zKHBvbHlnb25zOiBQb2ludFtdW10pOiB2b2lkO1xyXG4gICAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyLCBpbW1lZGlhdGVseT86IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgc2V0T3BhY2l0eShvcGFjaXR5OiBudW1iZXIpOiB2b2lkO1xyXG4gICAgc2V0UG9zaXRpb24ocG9zaXRpb246IFBvaW50LCBpbW1lZGlhdGVseT86IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgc2V0UHJlbG9hZChwcmVsb2FkOiBib29sZWFuKTogdm9pZDtcclxuICAgIHNldFJvdGF0aW9uKGRlZ3JlZXM6IG51bWJlciwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogdm9pZDtcclxuICAgIHNldFdpZHRoKHdpZHRoOiBudW1iZXIsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IHZvaWQ7XHJcbiAgICB1cGRhdGUoKTogYm9vbGVhbjtcclxuICAgIHZpZXdlckVsZW1lbnRUb0ltYWdlQ29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XHJcbiAgICB2aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyhwb3NpdGlvbjogUG9pbnQsIGN1cnJlbnQ/OiBib29sZWFuKTogUG9pbnQ7XHJcbiAgICB2aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyh2aWV3ZXJYOiBudW1iZXIsIHZpZXdlclk6IG51bWJlciwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcclxuICAgIHZpZXdwb3J0VG9JbWFnZVJlY3RhbmdsZShwb3NpdGlvbjogUmVjdCk6IFJlY3Q7XHJcbiAgICB2aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGUoXHJcbiAgICAgIHZpZXdwb3J0WDogbnVtYmVyLFxyXG4gICAgICB2aWV3cG9ydFk6IG51bWJlcixcclxuICAgICAgcGl4ZWxXaWR0aD86IG51bWJlcixcclxuICAgICAgcGl4ZWxIZWlnaHQ/OiBudW1iZXIsXHJcbiAgICAgIGN1cnJlbnQ/OiBib29sZWFuXHJcbiAgICApOiBSZWN0O1xyXG4gICAgdmlld3BvcnRUb0ltYWdlWm9vbSh2aWV3cG9ydFpvb206IG51bWJlcik6IG51bWJlcjtcclxuICAgIHdpbmRvd1RvSW1hZ2VDb29yZGluYXRlcyhwaXhlbDogUG9pbnQpOiBQb2ludDtcclxuICB9XHJcblxyXG4gIGNsYXNzIFRpbGVTb3VyY2UgZXh0ZW5kcyBFdmVudFNvdXJjZSB7XHJcbiAgICBhc3BlY3RSYXRpbzogbnVtYmVyO1xyXG4gICAgZGltZW5zaW9uczogUG9pbnQ7XHJcbiAgICBtYXhMZXZlbDogbnVtYmVyO1xyXG4gICAgbWlubGV2ZWw6IG51bWJlcjtcclxuICAgIHJlYWR5OiBib29sZWFuO1xyXG4gICAgdGlsZU92ZXJsYXA6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFRpbGVTb3VyY2VPcHRpb25zKTtcclxuICAgIGFkZEhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlU291cmNlRXZlbnQ+LCB1c2VyRGF0YT86IG9iamVjdCk6IHZvaWQ7XHJcbiAgICBhZGRPbmNlSGFuZGxlcihcclxuICAgICAgZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxUaWxlU291cmNlRXZlbnQ+LFxyXG4gICAgICB1c2VyRGF0YT86IG9iamVjdCxcclxuICAgICAgdGltZXM/OiBudW1iZXJcclxuICAgICk6IHZvaWQ7XHJcbiAgICBjb25maWd1cmUoZGF0YTogc3RyaW5nIHwgb2JqZWN0IHwgYW55W10gfCBEb2N1bWVudCk6IG9iamVjdDtcclxuICAgIGdldENsb3Nlc3RMZXZlbCgpOiBudW1iZXI7XHJcbiAgICBnZXRIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nKTogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcclxuICAgIGdldEltYWdlSW5mbyh1cmw6IHN0cmluZyk6IHZvaWQ7XHJcbiAgICBnZXRMZXZlbFNjYWxlKGxldmVsOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICBnZXROdW1UaWxlcyhsZXZlbDogbnVtYmVyKTogbnVtYmVyO1xyXG4gICAgZ2V0UGl4ZWxSYXRpbyhsZXZlbDogbnVtYmVyKTogbnVtYmVyO1xyXG4gICAgZ2V0VGlsZUFqYXhIZWFkZXJzKGxldmVsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogb2JqZWN0O1xyXG4gICAgZ2V0VGlsZUF0UG9pbnQobGV2ZWw6IG51bWJlciwgcG9pbnQ6IFBvaW50KTogVGlsZTtcclxuICAgIGdldFRpbGVCb3VuZHMobGV2ZWw6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzU291cmNlPzogYm9vbGVhbik6IFJlY3Q7XHJcbiAgICBnZXRUaWxlSGVpZ2h0KGxldmVsOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICBnZXRUaWxlVXJsKGxldmVsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogc3RyaW5nO1xyXG4gICAgZ2V0VGlsZVdpZHRoKGxldmVsOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICByYWlzZUV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudEFyZ3M6IG9iamVjdCk6IHZvaWQ7XHJcbiAgICByZW1vdmVBbGxIYW5kbGVycyhldmVudE5hbWU6IHN0cmluZyk6IHZvaWQ7XHJcbiAgICByZW1vdmVIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXI8VGlsZVNvdXJjZUV2ZW50Pik6IHZvaWQ7XHJcbiAgICBzdXBwb3J0cyhkYXRhOiBzdHJpbmcgfCBvYmplY3QgfCBhbnlbXSB8IERvY3VtZW50LCB1cmw6IHN0cmluZyk6IGJvb2xlYW47XHJcbiAgICB0aWxlRXhpc3RzKGxldmVsOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbjtcclxuICB9XHJcblxyXG4gIGNsYXNzIFRtc1RpbGVTb3VyY2UgZXh0ZW5kcyBUaWxlU291cmNlIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgdGlsZVNpemU6IG51bWJlcixcclxuICAgICAgdGlsZU92ZXJsYXA6IG51bWJlcixcclxuICAgICAgdGlsZXNVcmw6IHN0cmluZ1xyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGludGVyZmFjZSBJbWFnZU9wdGlvbnMge1xyXG4gICAgaW5kZXg/OiBudW1iZXI7XHJcbiAgICByZXBsYWNlPzogYm9vbGVhbjtcclxuICAgIHg/OiBudW1iZXI7XHJcbiAgICB5PzogbnVtYmVyO1xyXG4gICAgd2lkdGg/OiBudW1iZXI7XHJcbiAgICBoZWlnaHQ/OiBudW1iZXI7XHJcbiAgICBmaXRCb3VuZHM/OiBSZWN0O1xyXG4gICAgZml0Qm91bmRzUGxhY2VtZW50PzogUGxhY2VtZW50O1xyXG4gICAgY2xpcD86IFJlY3Q7XHJcbiAgICBvcGFjaXR5PzogbnVtYmVyO1xyXG4gICAgcHJlbG9hZD86IGJvb2xlYW47XHJcbiAgICBkZWdyZWVzPzogbnVtYmVyO1xyXG4gICAgY29tcG9zaXRlT3BlcmF0aW9uPzogc3RyaW5nO1xyXG4gICAgY3Jvc3NPcmlnaW5Qb2xpY3k/OiBzdHJpbmc7XHJcbiAgICBhamF4V2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcclxuICAgIGxvYWRUaWxlc1dpdGhBamF4PzogYm9vbGVhbjtcclxuICAgIGFqYXhIZWFkZXJzPzogb2JqZWN0O1xyXG4gICAgc3VjY2Vzcz86IChldmVudDogRXZlbnQpID0+IHZvaWQ7XHJcbiAgICBlcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XHJcbiAgICBjb2xsZWN0aW9uSW1tZWRpYXRlbHk/OiBib29sZWFuO1xyXG4gICAgcGxhY2Vob2xkZXJGaWxsU3R5bGU/OiBzdHJpbmcgfCBDYW52YXNHcmFkaWVudCB8IENhbnZhc1BhdHRlcm47XHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgVGlsZWRJbWFnZU9wdGlvbnMgZXh0ZW5kcyBJbWFnZU9wdGlvbnMge1xyXG4gICAgdGlsZVNvdXJjZTogc3RyaW5nIHwgb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFNpbXBsZUltYWdlT3B0aW9ucyBleHRlbmRzIEltYWdlT3B0aW9ucyB7XHJcbiAgICB1cmw6IHN0cmluZztcclxuICB9XHJcblxyXG4gIGNsYXNzIFZpZXdlciBleHRlbmRzIENvbnRyb2xEb2NrIHtcclxuICAgIGNhbnZhczogSFRNTEVsZW1lbnQ7XHJcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgZHJhd2VyOiBEcmF3ZXI7XHJcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICAgIGluaXRpYWxQYWdlOiBudW1iZXI7XHJcbiAgICBuYXZpZ2F0b3I6IE5hdmlnYXRvcjtcclxuICAgIHZpZXdwb3J0OiBWaWV3cG9ydDtcclxuICAgIHdvcmxkOiBXb3JsZDtcclxuICAgIHJlZmVyZW5jZVN0cmlwOiBSZWZlcmVuY2VTdHJpcDtcclxuICAgIGlubmVyVHJhY2tlcjoge1xyXG4gICAgICBzY3JvbGxIYW5kbGVyOiAoZXZlbnQ6IHsgb3JpZ2luYWxFdmVudDogTW91c2VFdmVudDsgc2Nyb2xsOiBudW1iZXIgfSkgPT4gdm9pZDtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogT3B0aW9ucyk7XHJcbiAgICBfY2FuY2VsUGVuZGluZ0ltYWdlcygpOiB2b2lkO1xyXG4gICAgYWRkSGFuZGxlcihcclxuICAgICAgZXZlbnROYW1lOiBWaWV3ZXJFdmVudE5hbWUsXHJcbiAgICAgIGNhbGxiYWNrOiBFdmVudEhhbmRsZXI8Vmlld2VyRXZlbnQ+LFxyXG4gICAgICB1c2VyRGF0YT86IG9iamVjdFxyXG4gICAgKTogdm9pZDtcclxuICAgIGFkZE9uY2VIYW5kbGVyKFxyXG4gICAgICBldmVudE5hbWU6IFZpZXdlckV2ZW50TmFtZSxcclxuICAgICAgY2FsbGJhY2s6IEV2ZW50SGFuZGxlcjxWaWV3ZXJFdmVudD4sXHJcbiAgICAgIHVzZXJEYXRhPzogb2JqZWN0LFxyXG4gICAgICB0aW1lcz86IG51bWJlclxyXG4gICAgKTogdm9pZDtcclxuICAgIGFkZE92ZXJsYXkoXHJcbiAgICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgc3RyaW5nIHwgb2JqZWN0LFxyXG4gICAgICBsb2NhdGlvbj86IFBvaW50IHwgUmVjdCxcclxuICAgICAgcGxhY2VtZW50PzogUGxhY2VtZW50LFxyXG4gICAgICBvbkRyYXc/OiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGxvY2F0aW9uOiBMb2NhdGlvbiwgcGxhY2VtZW50OiBQbGFjZW1lbnQpID0+IHZvaWRcclxuICAgICk6IFZpZXdlcjtcclxuICAgIGFkZFJlZmVyZW5jZVN0cmlwKCk6IHZvaWQ7XHJcbiAgICBhZGRTaW1wbGVJbWFnZShvcHRpb25zOiBTaW1wbGVJbWFnZU9wdGlvbnMpOiB2b2lkO1xyXG4gICAgYWRkVGlsZWRJbWFnZShvcHRpb25zOiBUaWxlZEltYWdlT3B0aW9ucyk6IHZvaWQ7XHJcbiAgICBiaW5kU2VxdWVuY2VDb250cm9scygpOiBWaWV3ZXI7XHJcbiAgICBiaW5kU3RhbmRhcmRDb250cm9scygpOiBWaWV3ZXI7XHJcbiAgICBjbGVhck92ZXJsYXlzKCk6IFZpZXdlcjtcclxuICAgIGNsb3NlKCk6IFZpZXdlcjtcclxuICAgIGN1cnJlbnRQYWdlKCk6IG51bWJlcjtcclxuICAgIGRlc3Ryb3koKTogdm9pZDtcclxuICAgIGZvcmNlUmVkcmF3KCk6IFZpZXdlcjtcclxuICAgIGdlc3R1cmVTZXR0aW5nc0J5RGV2aWNlVHlwZSh0eXBlOiBzdHJpbmcpOiBHZXN0dXJlU2V0dGluZ3M7XHJcbiAgICBnZXRIYW5kbGVyKGV2ZW50TmFtZTogc3RyaW5nKTogKGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcclxuICAgIGdldE92ZXJsYXlCeUlkKGVsZW1lbnQ6IEVsZW1lbnQgfCBzdHJpbmcpOiBPdmVybGF5O1xyXG4gICAgZ29Ub1BhZ2UocGFnZTogbnVtYmVyKTogVmlld2VyO1xyXG4gICAgaXNGdWxsUGFnZSgpOiBib29sZWFuO1xyXG4gICAgaXNNb3VzZU5hdkVuYWJsZWQoKTogYm9vbGVhbjtcclxuICAgIGlzT3BlbigpOiBib29sZWFuO1xyXG4gICAgaXNWaXNpYmxlKCk6IGJvb2xlYW47XHJcbiAgICBvcGVuKHRpbGVTb3VyY2VzOiBzdHJpbmcgfCBvYmplY3QgfCBUaWxlU291cmNlW10sIGluaXRpYWxQYWdlPzogbnVtYmVyKTogVmlld2VyO1xyXG4gICAgcmFpc2VFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRBcmdzPzogb2JqZWN0KTogdm9pZDtcclxuICAgIHJlbW92ZUFsbEhhbmRsZXJzKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZDtcclxuICAgIHJlbW92ZUhhbmRsZXIoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxWaWV3ZXJFdmVudD4pOiB2b2lkO1xyXG4gICAgcmVtb3ZlT3ZlcmxheShvdmVybGF5OiBFbGVtZW50IHwgc3RyaW5nKTogVmlld2VyO1xyXG4gICAgcmVtb3ZlUmVmZXJlbmNlU3RyaXAoKTogdm9pZDtcclxuICAgIHNldENvbnRyb2xzRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogVmlld2VyO1xyXG4gICAgc2V0RGVidWdNb2RlKGRlYnVnOiBib29sZWFuKTogVmlld2VyO1xyXG4gICAgc2V0RnVsbFBhZ2UoZnVsbFNjcmVlbjogYm9vbGVhbik6IFZpZXdlcjtcclxuICAgIHNldEZ1bGxTY3JlZW4oZnVsbFNjcmVlbjogYm9vbGVhbik6IFZpZXdlcjtcclxuICAgIHNldE1vdXNlTmF2RW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogVmlld2VyO1xyXG4gICAgc2V0VmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKTogVmlld2VyO1xyXG4gICAgdXBkYXRlT3ZlcmxheShlbGVtZW50OiBFbGVtZW50IHwgc3RyaW5nLCBsb2NhdGlvbjogUG9pbnQgfCBSZWN0LCBwbGFjZW1lbnQ/OiBQbGFjZW1lbnQpOiBWaWV3ZXI7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBWaWV3cG9ydCB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7XHJcbiAgICAgIG1hcmdpbnM6IG9iamVjdDtcclxuICAgICAgc3ByaW5nU3RpZmZuZXNzPzogbnVtYmVyO1xyXG4gICAgICBhbmltYXRpb25UaW1lPzogbnVtYmVyO1xyXG4gICAgICBtaW5ab29tSW1hZ2VSYXRpbz86IG51bWJlcjtcclxuICAgICAgbWF4Wm9vbVBpeGVsUmF0aW8/OiBudW1iZXI7XHJcbiAgICAgIHZpc2liaWxpdHlSYXRpbz86IG51bWJlcjtcclxuICAgICAgd3JhcEhvcml6b250YWw/OiBib29sZWFuO1xyXG4gICAgICB3cmFwVmVydGljYWw/OiBib29sZWFuO1xyXG4gICAgICBkZWZhdWx0Wm9vbUxldmVsPzogbnVtYmVyO1xyXG4gICAgICBtaW5ab29tTGV2ZWw/OiBudW1iZXI7XHJcbiAgICAgIG1heFpvb21MZXZlbD86IG51bWJlcjtcclxuICAgICAgZGVncmVlcz86IG51bWJlcjtcclxuICAgICAgaG9tZUZpbGxzVmlld2VyPzogYm9vbGVhbjtcclxuICAgIH0pO1xyXG5cclxuICAgIGFwcGx5Q29uc3RyYWludHMoaW1tZWRpYXRlbHk/OiBib29sZWFuKTogVmlld3BvcnQ7XHJcbiAgICBkZWx0YVBpeGVsc0Zyb21Qb2ludHMoZGVsdGFQb2ludHM6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xyXG4gICAgZGVsdGFQaXhlbHNGcm9tUG9pbnRzTm9Sb3RhdGUoZGVsdGFQb2ludHM6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xyXG4gICAgZGVsdGFQb2ludHNGcm9tUGl4ZWxzKGRlbHRhUG9pbnRzOiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcclxuICAgIGRlbHRhUG9pbnRzRnJvbVBpeGVsc05vUm90YXRlKGRlbHRhUG9pbnRzOiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcclxuICAgIGVuc3VyZVZpc2libGUoaW1tZWRpYXRlbHk/OiBib29sZWFuKTogVmlld3BvcnQ7XHJcbiAgICBmaXRCb3VuZHMoYm91bmRzOiBSZWN0LCBpbW1lZGlhdGVseT86IGJvb2xlYW4pOiBWaWV3cG9ydDtcclxuICAgIGZpdEJvdW5kc1dpdGhDb25zdHJhaW50cyhib3VuZHM6IFJlY3QsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xyXG4gICAgZml0SG9yaXpvbnRhbGx5KGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xyXG4gICAgZml0VmVydGljYWxseShpbW1lZGlhdGVseT86IGJvb2xlYW4pOiBWaWV3cG9ydDtcclxuICAgIGdldEFzcGVjdFJhdGlvKCk6IGFueTsgLy8gVE9ETzogZGV0ZXJtaW5lIHJldHVybiB0eXBlXHJcbiAgICBnZXRCb3VuZHMoY3VycmVudD86IGJvb2xlYW4pOiBSZWN0O1xyXG4gICAgZ2V0Qm91bmRzTm9Sb3RhdGUoY3VycmVudD86IGJvb2xlYW4pOiBSZWN0O1xyXG4gICAgZ2V0Qm91bmRzTm9Sb3RhdGVXaXRoTWFyZ2lucyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XHJcbiAgICBnZXRCb3VuZHNXaXRoTWFyZ2lucyhjdXJyZW50PzogYm9vbGVhbik6IFJlY3Q7XHJcbiAgICBnZXRDZW50ZXIoY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcclxuICAgIGdldENvbnN0cmFpbmVkQm91bmRzKGN1cnJlbnQ/OiBib29sZWFuKTogVmlld3BvcnQ7XHJcbiAgICBnZXRDb250YWluZXJTaXplKCk6IFBvaW50O1xyXG4gICAgZ2V0RmxpcCgpOiBib29sZWFuO1xyXG4gICAgZ2V0SG9tZUJvdW5kcygpOiBSZWN0O1xyXG4gICAgZ2V0SG9tZUJvdW5kc05vUm90YXRlKCk6IFJlY3Q7XHJcbiAgICBnZXRIb21lWm9vbSgpOiBudW1iZXI7XHJcbiAgICBnZXRNYXJnaW5zKCk6IG9iamVjdDtcclxuICAgIGdldE1heFpvb20oKTogbnVtYmVyO1xyXG4gICAgZ2V0TWluWm9vbSgpOiBudW1iZXI7XHJcbiAgICBnZXRSb3RhdGlvbigpOiBudW1iZXI7XHJcbiAgICBnZXRab29tKGN1cnJlbnQ/OiBib29sZWFuKTogbnVtYmVyO1xyXG4gICAgZ29Ib21lKGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IHZvaWQ7XHJcbiAgICBpbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzKHBpeGVsOiBQb2ludCk6IFBvaW50O1xyXG4gICAgaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMocG9zaXRpb246IFBvaW50KTogUG9pbnQ7XHJcbiAgICBpbWFnZVRvVmlld3BvcnRDb29yZGluYXRlcyhpbWFnZVg6IG51bWJlciwgaW1hZ2VZOiBudW1iZXIpOiBQb2ludDtcclxuICAgIGltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzKFxyXG4gICAgICBpbWFnZVg6IG51bWJlcixcclxuICAgICAgaW1hZ2VZOiBudW1iZXIsXHJcbiAgICAgIHBpeGVsV2lkdGg6IG51bWJlcixcclxuICAgICAgcGl4ZWxIZWlnaHQ6IG51bWJlclxyXG4gICAgKTogUG9pbnQ7XHJcbiAgICBpbWFnZVRvVmlld3BvcnRSZWN0YW5nbGUoXHJcbiAgICAgIGltYWdlWDogbnVtYmVyIHwgUmVjdCxcclxuICAgICAgaW1hZ2VZPzogbnVtYmVyLFxyXG4gICAgICBwaXhlbFdpZHRoPzogbnVtYmVyLFxyXG4gICAgICBwaXhlbEhlaWdodD86IG51bWJlclxyXG4gICAgKTogUmVjdDtcclxuICAgIGltYWdlVG9WaWV3cG9ydFpvb20oaW1hZ2Vab29tOiBudW1iZXIpOiBudW1iZXI7XHJcbiAgICBpbWFnZVRvV2luZG93Q29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XHJcbiAgICBwYW5CeShkZWx0YTogUG9pbnQsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xyXG4gICAgcGFuVG8oY2VudGVyOiBQb2ludCwgaW1tZWRpYXRlbHk/OiBib29sZWFuKTogVmlld3BvcnQ7XHJcbiAgICBwaXhlbEZyb21Qb2ludChwb2ludDogUG9pbnQsIGN1cnJlbnQ/OiBib29sZWFuKTogUG9pbnQ7XHJcbiAgICBwaXhlbEZyb21Qb2ludE5vUm90YXRlKHBvaW50OiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcclxuICAgIHBvaW50RnJvbVBpeGVsKHBvaW50OiBQb2ludCwgY3VycmVudD86IGJvb2xlYW4pOiBQb2ludDtcclxuICAgIHBvaW50RnJvbVBpeGVsTm9Sb3RhdGUocG9pbnQ6IFBvaW50LCBjdXJyZW50PzogYm9vbGVhbik6IFBvaW50O1xyXG4gICAgcmVzZXRDb250ZW50U2l6ZShjb250ZW50U2l6ZTogUG9pbnQpOiBWaWV3cG9ydDtcclxuICAgIHJlc2l6ZSgpOiBWaWV3cG9ydDtcclxuICAgIHNldEZsaXAoc3RhdGU6IGJvb2xlYW4pOiBWaWV3cG9ydDtcclxuICAgIHNldE1hcmdpbnMobWFyZ2luczogb2JqZWN0KTogdm9pZDtcclxuICAgIHNldFJvdGF0aW9uKGRlZ3JlZXM6IG51bWJlcik6IFZpZXdwb3J0O1xyXG4gICAgdG9nZ2xlRmxpcCgpOiBWaWV3cG9ydDtcclxuICAgIHVwZGF0ZSgpOiBib29sZWFuO1xyXG4gICAgdmlld2VyRWxlbWVudFRvSW1hZ2VDb29yZGluYXRlcyhwaXhlbDogUG9pbnQpOiBQb2ludDtcclxuICAgIHZpZXdlckVsZW1lbnRUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XHJcbiAgICB2aWV3ZXJFbGVtZW50VG9WaWV3cG9ydFJlY3RhbmdsZShyZWN0YW5nbGU6IFJlY3QpOiBSZWN0O1xyXG4gICAgdmlld3BvcnRUb0ltYWdlQ29vcmRpbmF0ZXMocG9zaXRpb246IFBvaW50KTogUG9pbnQ7XHJcbiAgICB2aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyh2aWV3ZXJYOiBudW1iZXIsIHZpZXdlclk6IG51bWJlcik6IFBvaW50O1xyXG4gICAgdmlld3BvcnRUb0ltYWdlUmVjdGFuZ2xlKHJlY3RhbmdsZTogUmVjdCk6IFJlY3Q7XHJcbiAgICB2aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGUoXHJcbiAgICAgIHZpZXdlclg6IG51bWJlcixcclxuICAgICAgdmlld2VyWTogbnVtYmVyLFxyXG4gICAgICBwb2ludFdpZHRoOiBudW1iZXIsXHJcbiAgICAgIHBvaW50SGVpZ2h0OiBudW1iZXJcclxuICAgICk6IFJlY3Q7XHJcbiAgICB2aWV3cG9ydFRvSW1hZ2Vab29tKHZpZXdwb3J0Wm9vbTogbnVtYmVyKTogbnVtYmVyO1xyXG4gICAgdmlld3BvcnRUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhwb2ludDogUG9pbnQpOiBQb2ludDtcclxuICAgIHZpZXdwb3J0VG9WaWV3ZXJFbGVtZW50UmVjdGFuZ2xlKHJlY3RhbmdsZTogUmVjdCk6IFJlY3Q7XHJcbiAgICB2aWV3cG9ydFRvV2luZG93Q29vcmRpbmF0ZXMocG9pbnQ6IFBvaW50KTogUG9pbnQ7XHJcbiAgICB3aW5kb3dUb0ltYWdlQ29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XHJcbiAgICB3aW5kb3dUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMocGl4ZWw6IFBvaW50KTogUG9pbnQ7XHJcbiAgICB6b29tQnkoZmFjdG9yOiBudW1iZXIsIHJlZlBvaW50PzogUG9pbnQsIGltbWVkaWF0ZWx5PzogYm9vbGVhbik6IFZpZXdwb3J0O1xyXG4gICAgem9vbVRvKGZhY3RvcjogbnVtYmVyLCByZWZQb2ludD86IFBvaW50LCBpbW1lZGlhdGVseT86IGJvb2xlYW4pOiBWaWV3cG9ydDtcclxuICB9XHJcblxyXG4gIGNsYXNzIFdvcmxkIGV4dGVuZHMgRXZlbnRTb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogb2JqZWN0KTtcclxuXHJcbiAgICBhZGRIYW5kbGVyKFxyXG4gICAgICBldmVudE5hbWU6IFdvcmxkRXZlbnROYW1lLFxyXG4gICAgICBjYWxsYmFjazogRXZlbnRIYW5kbGVyPFdvcmxkRXZlbnQ+LFxyXG4gICAgICB1c2VyRGF0YT86IG9iamVjdFxyXG4gICAgKTogdm9pZDtcclxuICAgIGFkZEl0ZW0oaXRlbTogVGlsZWRJbWFnZSwgb3B0aW9ucz86IHsgaW5kZXg/OiBudW1iZXIgfSk6IHZvaWQ7XHJcbiAgICBhZGRPbmNlSGFuZGxlcihcclxuICAgICAgZXZlbnROYW1lOiBzdHJpbmcsXHJcbiAgICAgIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxXb3JsZEV2ZW50PixcclxuICAgICAgdXNlckRhdGE/OiBvYmplY3QsXHJcbiAgICAgIHRpbWVzPzogbnVtYmVyXHJcbiAgICApOiB2b2lkO1xyXG4gICAgYXJyYW5nZShvcHRpb25zOiB7XHJcbiAgICAgIGltbWVkaWF0ZWx5PzogYm9vbGVhbjtcclxuICAgICAgbGF5b3V0PzogJ2hvcml6b250YWwnIHwgJ3ZlcnRpY2FsJztcclxuICAgICAgcm93cz86IG51bWJlcjtcclxuICAgICAgY29sdW1ucz86IG51bWJlcjtcclxuICAgICAgdGlsZVNpemU/OiBudW1iZXI7XHJcbiAgICAgIHRpbGVNYXJnaW4/OiBudW1iZXI7XHJcbiAgICB9KTogdm9pZDtcclxuICAgIGRyYXcoKTogdm9pZDtcclxuICAgIGdldENvbnRlbnRGYWN0b3IoKTogbnVtYmVyO1xyXG4gICAgZ2V0SGFuZGxlcihldmVudE5hbWU6IHN0cmluZyk6IChldmVudDogRXZlbnQpID0+IHZvaWQ7XHJcbiAgICBnZXRIb21lQm91bmRzKCk6IFJlY3Q7XHJcbiAgICBnZXRJbmRleE9mSXRlbShpdGVtOiBUaWxlZEltYWdlKTogbnVtYmVyO1xyXG4gICAgZ2V0SXRlbUF0KGlkOiBudW1iZXIpOiBUaWxlZEltYWdlO1xyXG4gICAgZ2V0SXRlbUNvdW50KCk6IG51bWJlcjtcclxuICAgIG5lZWRzRHJhdygpOiBib29sZWFuO1xyXG4gICAgcmFpc2VFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRBcmdzPzogb2JqZWN0KTogdm9pZDtcclxuICAgIHJlbW92ZUFsbCgpOiB2b2lkO1xyXG4gICAgcmVtb3ZlQWxsSGFuZGxlcnMoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkO1xyXG4gICAgcmVtb3ZlSGFuZGxlcihldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyPFdvcmxkRXZlbnQ+KTogdm9pZDtcclxuICAgIHJlbW92ZUl0ZW0oaXRlbTogVGlsZWRJbWFnZSk6IHZvaWQ7XHJcbiAgICByZXNldEl0ZW1zKCk6IHZvaWQ7XHJcbiAgICBzZXRBdXRvUmVmaWd1cmVTaXplcyh2YWx1ZT86IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgc2V0SXRlbUluZGV4KGl0ZW06IFRpbGVkSW1hZ2UsIGluZGV4OiBudW1iZXIpOiB2b2lkO1xyXG4gICAgdXBkYXRlKCk6IHZvaWQ7XHJcbiAgfVxyXG5cclxuICBjbGFzcyBab29taWZ5VGlsZVNvdXJjZSBleHRlbmRzIFRpbGVTb3VyY2Uge1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHRpbGVTaXplOiBudW1iZXIsIHRpbGVzVXJsOiBzdHJpbmcpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogdXNlIHByb3BlciBldmVudE5hbWUgdHlwZSBhbGlhc2VzLCBhbmQgT1NERXZlbnQgd2hlcmUgYXBwcm9waWF0ZVxyXG5cclxuICB0eXBlIEV2ZW50SGFuZGxlcjxUIGV4dGVuZHMgT1NERXZlbnQ8YW55Pj4gPSAoZXZlbnQ6IFQpID0+IHZvaWQ7XHJcblxyXG4gIHR5cGUgQnV0dG9uRXZlbnROYW1lID0gJ2JsdXInIHwgJ2NsaWNrJyB8ICdlbnRlcicgfCAnZXhpdCcgfCAnZm9jdXMnIHwgJ3ByZXNzJyB8ICdyZWxlYXNlJztcclxuICB0eXBlIFRpbGVkSW1hZ2VFdmVudE5hbWUgPVxyXG4gICAgfCAnYm91bmRzLWNoYW5nZSdcclxuICAgIHwgJ2NsaXAtY2hhbmdlJ1xyXG4gICAgfCAnY29tcG9zaXRlLW9wZXJhdGlvbi1jaGFuZ2UnXHJcbiAgICB8ICdmdWxseS1sb2FkZWQtY2hhbmdlJ1xyXG4gICAgfCAnb3BhY2l0eS1jaGFuZ2UnO1xyXG4gIHR5cGUgVGlsZVNvdXJjZUV2ZW50bmFtZSA9ICdvcGVuLWZhaWxlZCcgfCAncmVhZHknO1xyXG4gIHR5cGUgVmlld2VyRXZlbnROYW1lID1cclxuICAgIHwgJ2FkZC1pdGVtLWZhaWxlZCdcclxuICAgIHwgJ2FkZC1vdmVybGF5J1xyXG4gICAgfCAnYW5pbWF0aW9uJ1xyXG4gICAgfCAnYW5pbWF0aW9uLWZpbmlzaCdcclxuICAgIHwgJ2FuaW1hdGlvbi1zdGFydCdcclxuICAgIHwgJ2NhbnZhcy1jbGljaydcclxuICAgIHwgJ2NhbnZhcy1kb3VibGUtY2xpY2snXHJcbiAgICB8ICdjYW52YXMtZHJhZydcclxuICAgIHwgJ2NhbnZhcy1kcmFnLWVuZCdcclxuICAgIHwgJ2NhbnZhcy1lbnRlcidcclxuICAgIHwgJ2NhbnZhcy1leGl0J1xyXG4gICAgfCAnY2FudmFzLWtleSdcclxuICAgIHwgJ2NhbnZhcy1ub25wcmltYXJ5LXByZXNzJ1xyXG4gICAgfCAnY2FudmFzLW5vbnByaW1hcnktcmVsZWFzZSdcclxuICAgIHwgJ2NhbnZhcy1waW5jaCdcclxuICAgIHwgJ2NhbnZhcy1wcmVzcydcclxuICAgIHwgJ2NhbnZhcy1yZWxlYXNlJ1xyXG4gICAgfCAnY2FudmFzLXNjcm9sbCdcclxuICAgIHwgJ2NsZWFyLW92ZXJsYXknXHJcbiAgICB8ICdjbG9zZSdcclxuICAgIHwgJ2NvbnN0cmFpbidcclxuICAgIHwgJ2NvbnRhaW5lci1lbnRlcidcclxuICAgIHwgJ2NvbnRhaW5lci1leGl0J1xyXG4gICAgfCAnY29udHJvbHMtZW5hYmxlZCdcclxuICAgIHwgJ2ZsaXAnXHJcbiAgICB8ICdmdWxsLXBhZ2UnXHJcbiAgICB8ICdmdWxsLXNjcmVlbidcclxuICAgIHwgJ2hvbWUnXHJcbiAgICB8ICdtb3VzZS1lbmFibGVkJ1xyXG4gICAgfCAnbmF2aWdhdG9yLWNsaWNrJ1xyXG4gICAgfCAnbmF2aWdhdG9yLWRyYWcnXHJcbiAgICB8ICduYXZpZ2F0b3Itc2Nyb2xsJ1xyXG4gICAgfCAnb3BlbidcclxuICAgIHwgJ29wZW4tZmFpbGVkJ1xyXG4gICAgfCAncGFnZSdcclxuICAgIHwgJ3BhbidcclxuICAgIHwgJ3ByZS1mdWxsLXBhZ2UnXHJcbiAgICB8ICdwcmUtZnVsbC1zY3JlZW4nXHJcbiAgICB8ICdyZW1vdmUtb3ZlcmxheSdcclxuICAgIHwgJ3Jlc2V0LXNpemUnXHJcbiAgICB8ICdyZXNpemUnXHJcbiAgICB8ICdyb3RhdGUnXHJcbiAgICB8ICd0aWxlLWRyYXdpbmcnXHJcbiAgICB8ICd0aWxlLWRyYXduJ1xyXG4gICAgfCAndGlsZS1sb2FkLWZhaWxlZCdcclxuICAgIHwgJ3RpbGUtbG9hZGVkJ1xyXG4gICAgfCAndGlsZS11bmxvYWRlZCdcclxuICAgIHwgJ3VwZGF0ZS1sZXZlbCdcclxuICAgIHwgJ3VwZGF0ZS1vdmVybGF5J1xyXG4gICAgfCAndXBkYXRlLXRpbGUnXHJcbiAgICB8ICd1cGRhdGUtdmlld3BvcnQnXHJcbiAgICB8ICd2aWV3cG9ydC1jaGFuZ2UnXHJcbiAgICB8ICd2aXNpYmxlJ1xyXG4gICAgfCAnem9vbSc7XHJcbiAgdHlwZSBXb3JsZEV2ZW50TmFtZSA9ICdhZGQtaXRlbScgfCAnaXRlbS1pbmRleC1jaGFuZ2UnIHwgJ21ldHJpY3MtY2hhbmdlJyB8ICdyZW1vdmUtaXRlbSc7XHJcblxyXG4gIGludGVyZmFjZSBPU0RFdmVudDxUPiBleHRlbmRzIEV2ZW50IHtcclxuICAgIGV2ZW50U291cmNlPzogVDtcclxuICAgIHVzZXJEYXRhOiBhbnk7XHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgQnV0dG9uRXZlbnQgZXh0ZW5kcyBPU0RFdmVudDxCdXR0b24+IHtcclxuICAgIG9yaWdpbmFsRXZlbnQ6IEV2ZW50O1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFRpbGVkSW1hZ2VFdmVudCBleHRlbmRzIE9TREV2ZW50PFRpbGVkSW1hZ2U+IHtcclxuICAgIGNvbXBvc2l0ZU9wZXJhdGlvbkNoYW5nZT86IHN0cmluZztcclxuICAgIGZ1bGx5TG9hZGVkPzogYm9vbGVhbjtcclxuICAgIG9wYWNpdHk/OiBib29sZWFuO1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFRpbGVTb3VyY2VFdmVudCBleHRlbmRzIE9TREV2ZW50PFRpbGVTb3VyY2U+IHtcclxuICAgIG1lc3NhZ2U/OiBzdHJpbmc7XHJcbiAgICBzb3VyY2U/OiBzdHJpbmc7XHJcbiAgICB0aWxlU291cmNlPzogb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgaW50ZXJmYWNlIFZpZXdlckV2ZW50IGV4dGVuZHMgT1NERXZlbnQ8Vmlld2VyPiB7XHJcbiAgICBtZXNzYWdlPzogc3RyaW5nO1xyXG4gICAgc291cmNlPzogc3RyaW5nO1xyXG4gICAgb3B0aW9ucz86IG9iamVjdDtcclxuICAgIGVsZW1lbnQ/OiBFbGVtZW50O1xyXG4gICAgbG9jYXRpb24/OiBQb2ludCB8IFJlY3Q7XHJcbiAgICBwbGFjZW1lbnQ/OiBQbGFjZW1lbnQ7XHJcbiAgICB0cmFja2VyPzogTW91c2VUcmFja2VyO1xyXG4gICAgcG9zaXRpb24/OiBQb2ludDtcclxuICAgIHF1aWNrPzogYm9vbGVhbjtcclxuICAgIHNoaWZ0PzogYm9vbGVhbjtcclxuICAgIHByZXZlbnREZWZhdWx0QWN0aW9uPzogdHJ1ZTtcclxuICAgIGRlbHRhPzogUG9pbnQ7XHJcbiAgICBzcGVlZD86IG51bWJlcjtcclxuICAgIGRpcmVjdGlvbj86IG51bWJlcjtcclxuICAgIHBvaW50ZXJUeXBlPzogc3RyaW5nO1xyXG4gICAgYnV0dG9uPzogbnVtYmVyO1xyXG4gICAgYnV0dG9ucz86IG51bWJlcjtcclxuICAgIHBvaW50ZXJzPzogbnVtYmVyO1xyXG4gICAgaW5zaWRlRWxlbWVudFByZXNzZWQ/OiBib29sZWFuO1xyXG4gICAgYnV0dG9uRG93bkFueT86IGJvb2xlYW47XHJcbiAgICBwcmV2ZW50VmVydGljYWxQYW4/OiBib29sZWFuO1xyXG4gICAgcHJldmVudEhvcml6b250YWxQYW4/OiBib29sZWFuO1xyXG4gICAgZ2VzdHVyZVBvaW50cz86IEdlc3R1cmVQb2ludFtdO1xyXG4gICAgbGFzdENlbnRlcj86IFBvaW50O1xyXG4gICAgY2VudGVyPzogUG9pbnQ7XHJcbiAgICBsYXN0RGlzdGFuY2U/OiBudW1iZXI7XHJcbiAgICBpbnNpZGVFbGVtZW50UmVsZWFzZWQ/OiBib29sZWFuO1xyXG4gICAgc2Nyb2xsPzogbnVtYmVyO1xyXG4gICAgaW1tZWRpYXRlbHk/OiBudW1iZXI7XHJcbiAgICBlbmFibGVkPzogYm9vbGVhbjtcclxuICAgIGZsaXBwZWQ/OiBudW1iZXI7XHJcbiAgICBmdWxsUGFnZT86IGJvb2xlYW47XHJcbiAgICBmdWxsU2NyZWVuPzogYm9vbGVhbjtcclxuICAgIHBhZ2U/OiBudW1iZXI7XHJcbiAgICBjb250ZW50U2l6ZT86IFBvaW50O1xyXG4gICAgY29udGVudEJvdW5kcz86IFJlY3Q7XHJcbiAgICBob21lQm91bmRzPzogUmVjdDtcclxuICAgIGNvbnRlbnRGYWN0b3I/OiBudW1iZXI7XHJcbiAgICBuZXdDb250YWluZXJTaXplPzogUG9pbnQ7XHJcbiAgICBtYW50YWluPzogYm9vbGVhbjtcclxuICAgIGRlZ3JlZXM/OiBudW1iZXI7XHJcbiAgICB0aWxlPzogVGlsZTtcclxuICAgIHRpbGVkSW1hZ2U/OiBUaWxlZEltYWdlIHwgWE1MSHR0cFJlcXVlc3Q7XHJcbiAgICBjb250ZXh0PzogVGlsZTtcclxuICAgIHJlbmRlcmVkPzogVGlsZTtcclxuICAgIHRpbWU/OiBudW1iZXI7XHJcbiAgICB0aWxlUmVxdWVzdD86IFhNTEh0dHBSZXF1ZXN0O1xyXG4gICAgZ2V0Q29tcGxldGlvbkNhbGxiYWNrPzogKC4uLmFyZ3M6IGFueSkgPT4gdm9pZDtcclxuICAgIHZpc2libGU/OiBib29sZWFuO1xyXG4gICAgcmVmUG9pbnQ/OiBQb2ludDtcclxuICAgIHpvb20/OiBudW1iZXI7XHJcbiAgfVxyXG5cclxuICBpbnRlcmZhY2UgV29ybGRFdmVudCBleHRlbmRzIE9TREV2ZW50PFdvcmxkPiB7XHJcbiAgICBpdGVtPzogVGlsZWRJbWFnZTtcclxuICAgIHByZXZpb3VzSW5kZXg/OiBudW1iZXI7XHJcbiAgICBuZXdJbmRleD86IG51bWJlcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIEN1c3RvbSB0eXBlIG5lZWRlZCBmb3IgaW1wb3J0aW5nIHR5cGVzIGRhdGEgd2l0aG91dCBoYXZpbmcgdG8gaW1wb3J0IHRoZSBhY3R1YWwgSlNcclxuZXhwb3J0IGludGVyZmFjZSBPcGVuU2VhZHJhZ29uVHlwZSB7XHJcbiAgKG9wdGlvbnM6IE9wZW5TZWFkcmFnb24uT3B0aW9ucyk6IE9wZW5TZWFkcmFnb24uVmlld2VyO1xyXG4gIFJlY3Q6IHR5cGVvZiBPcGVuU2VhZHJhZ29uLlJlY3Q7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFZpZXdlclR5cGUgPSBPcGVuU2VhZHJhZ29uLlZpZXdlcjtcclxuIl19"}