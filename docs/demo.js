(function () {
  'use strict';

  const alreadyCalledSources = [];
  const awaitingCallbacks = {};

  const addCallback = (src, callback) => {
    if (awaitingCallbacks[src]) {
      awaitingCallbacks[src].push(callback);
    } else {
      awaitingCallbacks[src] = [callback];
    }
  };

  function loadJS(src, callback) {
    if (alreadyCalledSources.indexOf(src) < 0) {
      alreadyCalledSources.push(src);
      const script = document.createElement('script');
      script.src = src;

      script.onload = () => {
        addCallback(src, callback);

        for (const key in awaitingCallbacks) {
          awaitingCallbacks[key].forEach(cb => cb());
        }
      };

      document.head.appendChild(script);
    } else {
      addCallback(src, callback);
    }
  }

  let OpenSeadragon;
  class Driftory {
    constructor(args) {
      loadJS('https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/openseadragon.min.js', () => {
        OpenSeadragon = window.OpenSeadragon;
        this.initialize(args);
      });
    }

    initialize({
      container,
      prefixUrl
    }) {
      this.container = container;
      this.frameIndex = -1;
      this.frames = [];
      this.viewer = OpenSeadragon({
        element: container,
        prefixUrl: prefixUrl,
        showNavigationControl: false,
        maxZoomPixelRatio: 10
      });
    }

    openComic(comic) {
      this.container.style.backgroundColor = comic.body.backgroundColor;
      this.frames = comic.body.frames;
      comic.body.items.forEach((item, i) => {
        var success;

        if (i === 0) {
          success = () => this.goToFrame(0);
        }

        this.viewer.addTiledImage({
          x: item.x - item.width / 2,
          y: item.y - item.height / 2,
          width: item.width,
          success: success,
          tileSource: {
            type: 'legacy-image-pyramid',
            levels: [{
              url: item.url,
              width: item.width,
              height: item.height
            }]
          }
        });
      });
    }

    goToFrame(index) {
      var frame = this.frames[index];
      var bufferFactor = 0.2;
      var box = new OpenSeadragon.Rect(frame.x - frame.width / 2, frame.y - frame.height / 2, frame.width, frame.height);
      box.width *= 1 + bufferFactor;
      box.height *= 1 + bufferFactor;
      box.x -= frame.width * bufferFactor * 0.5;
      box.y -= frame.height * bufferFactor * 0.5;
      this.viewer.viewport.fitBounds(box);
      this.frameIndex = index;
    }

    getFrameIndex() {
      return this.frameIndex;
    }

    getFrameCount() {
      return this.frames.length;
    }

  }

  var nextButton, previousButton; // ----------

  function init() {
    var driftory = new Driftory({
      container: document.querySelector('.driftory-viewer-container'),
      prefixUrl: 'https://cdn.jsdelivr.net/npm/openseadragon@2.4/build/openseadragon/images/'
    });
    nextButton = document.querySelector('.next-button');
    previousButton = document.querySelector('.previous-button');
    nextButton.addEventListener('click', function () {
      var index = driftory.getFrameIndex();
      index = (index + 1) % driftory.getFrameCount();
      driftory.goToFrame(index);
    });
    previousButton.addEventListener('click', function () {
      var index = driftory.getFrameIndex();
      index = index === 0 ? driftory.getFrameCount() - 1 : index - 1;
      driftory.goToFrame(index);
    });
    fetch('comic.json').then(function (response) {
      if (!response.ok) {
        throw new Error('bad');
      }

      return response.json();
    }).then(function (json) {
      // console.log(json);
      driftory.openComic(json.comic);
    });
  } // ----------
  // Kick it all off!


  init();

}());

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVtby5qcyIsInNvdXJjZXMiOlsic3JjL2xpYnJhcnkvbG9hZEpzLmpzIiwic3JjL2xpYnJhcnkvZHJpZnRvcnkuanMiLCJzcmMvZGVtby9kZW1vLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFscmVhZHlDYWxsZWRTb3VyY2VzID0gW107XHJcblxyXG5jb25zdCBhd2FpdGluZ0NhbGxiYWNrcyA9IHt9O1xyXG5cclxuY29uc3QgYWRkQ2FsbGJhY2sgPSAoc3JjLCBjYWxsYmFjaykgPT4ge1xyXG4gIGlmIChhd2FpdGluZ0NhbGxiYWNrc1tzcmNdKSB7XHJcbiAgICBhd2FpdGluZ0NhbGxiYWNrc1tzcmNdLnB1c2goY2FsbGJhY2spO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhd2FpdGluZ0NhbGxiYWNrc1tzcmNdID0gW2NhbGxiYWNrXTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkSlMoc3JjLCBjYWxsYmFjaykge1xyXG4gIGlmIChhbHJlYWR5Q2FsbGVkU291cmNlcy5pbmRleE9mKHNyYykgPCAwKSB7XHJcbiAgICBhbHJlYWR5Q2FsbGVkU291cmNlcy5wdXNoKHNyYyk7XHJcbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcclxuICAgIHNjcmlwdC5zcmMgPSBzcmM7XHJcbiAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICBhZGRDYWxsYmFjayhzcmMsIGNhbGxiYWNrKTtcclxuXHJcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGF3YWl0aW5nQ2FsbGJhY2tzKSB7XHJcbiAgICAgICAgYXdhaXRpbmdDYWxsYmFja3Nba2V5XS5mb3JFYWNoKChjYikgPT4gY2IoKSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFkZENhbGxiYWNrKHNyYywgY2FsbGJhY2spO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgbG9hZEpzIGZyb20gJy4vbG9hZEpzJztcclxuXHJcbmxldCBPcGVuU2VhZHJhZ29uO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJpZnRvcnkge1xyXG4gIGNvbnN0cnVjdG9yKGFyZ3MpIHtcclxuICAgIGxvYWRKcyhcclxuICAgICAgJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vb3BlbnNlYWRyYWdvbkAyLjQvYnVpbGQvb3BlbnNlYWRyYWdvbi9vcGVuc2VhZHJhZ29uLm1pbi5qcycsXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICBPcGVuU2VhZHJhZ29uID0gd2luZG93Lk9wZW5TZWFkcmFnb247XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKGFyZ3MpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZSh7IGNvbnRhaW5lciwgcHJlZml4VXJsIH0pIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgdGhpcy5mcmFtZUluZGV4ID0gLTE7XHJcbiAgICB0aGlzLmZyYW1lcyA9IFtdO1xyXG5cclxuICAgIHRoaXMudmlld2VyID0gT3BlblNlYWRyYWdvbih7XHJcbiAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcclxuICAgICAgcHJlZml4VXJsOiBwcmVmaXhVcmwsXHJcbiAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXHJcbiAgICAgIG1heFpvb21QaXhlbFJhdGlvOiAxMFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuQ29taWMoY29taWMpIHtcclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbWljLmJvZHkuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgdGhpcy5mcmFtZXMgPSBjb21pYy5ib2R5LmZyYW1lcztcclxuXHJcbiAgICBjb21pYy5ib2R5Lml0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgICAgdmFyIHN1Y2Nlc3M7XHJcblxyXG4gICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgIHN1Y2Nlc3MgPSAoKSA9PiB0aGlzLmdvVG9GcmFtZSgwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy52aWV3ZXIuYWRkVGlsZWRJbWFnZSh7XHJcbiAgICAgICAgeDogaXRlbS54IC0gaXRlbS53aWR0aCAvIDIsXHJcbiAgICAgICAgeTogaXRlbS55IC0gaXRlbS5oZWlnaHQgLyAyLFxyXG4gICAgICAgIHdpZHRoOiBpdGVtLndpZHRoLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcbiAgICAgICAgdGlsZVNvdXJjZToge1xyXG4gICAgICAgICAgdHlwZTogJ2xlZ2FjeS1pbWFnZS1weXJhbWlkJyxcclxuICAgICAgICAgIGxldmVsczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiBpdGVtLnVybCxcclxuICAgICAgICAgICAgICB3aWR0aDogaXRlbS53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IGl0ZW0uaGVpZ2h0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnb1RvRnJhbWUoaW5kZXgpIHtcclxuICAgIHZhciBmcmFtZSA9IHRoaXMuZnJhbWVzW2luZGV4XTtcclxuICAgIHZhciBidWZmZXJGYWN0b3IgPSAwLjI7XHJcbiAgICB2YXIgYm94ID0gbmV3IE9wZW5TZWFkcmFnb24uUmVjdChcclxuICAgICAgZnJhbWUueCAtIGZyYW1lLndpZHRoIC8gMixcclxuICAgICAgZnJhbWUueSAtIGZyYW1lLmhlaWdodCAvIDIsXHJcbiAgICAgIGZyYW1lLndpZHRoLFxyXG4gICAgICBmcmFtZS5oZWlnaHRcclxuICAgICk7XHJcblxyXG4gICAgYm94LndpZHRoICo9IDEgKyBidWZmZXJGYWN0b3I7XHJcbiAgICBib3guaGVpZ2h0ICo9IDEgKyBidWZmZXJGYWN0b3I7XHJcbiAgICBib3gueCAtPSBmcmFtZS53aWR0aCAqIGJ1ZmZlckZhY3RvciAqIDAuNTtcclxuICAgIGJveC55IC09IGZyYW1lLmhlaWdodCAqIGJ1ZmZlckZhY3RvciAqIDAuNTtcclxuXHJcbiAgICB0aGlzLnZpZXdlci52aWV3cG9ydC5maXRCb3VuZHMoYm94KTtcclxuICAgIHRoaXMuZnJhbWVJbmRleCA9IGluZGV4O1xyXG4gIH1cclxuXHJcbiAgZ2V0RnJhbWVJbmRleCgpIHtcclxuICAgIHJldHVybiB0aGlzLmZyYW1lSW5kZXg7XHJcbiAgfVxyXG5cclxuICBnZXRGcmFtZUNvdW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZnJhbWVzLmxlbmd0aDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IERyaWZ0b3J5IGZyb20gJy4uL2xpYnJhcnkvZHJpZnRvcnknO1xyXG5cclxudmFyIG5leHRCdXR0b24sIHByZXZpb3VzQnV0dG9uO1xyXG5cclxuLy8gLS0tLS0tLS0tLVxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gIHZhciBkcmlmdG9yeSA9IG5ldyBEcmlmdG9yeSh7XHJcbiAgICBjb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcmlmdG9yeS12aWV3ZXItY29udGFpbmVyJyksXHJcbiAgICBwcmVmaXhVcmw6ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL29wZW5zZWFkcmFnb25AMi40L2J1aWxkL29wZW5zZWFkcmFnb24vaW1hZ2VzLydcclxuICB9KTtcclxuXHJcbiAgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ1dHRvbicpO1xyXG4gIHByZXZpb3VzQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByZXZpb3VzLWJ1dHRvbicpO1xyXG5cclxuICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGluZGV4ID0gZHJpZnRvcnkuZ2V0RnJhbWVJbmRleCgpO1xyXG4gICAgaW5kZXggPSAoaW5kZXggKyAxKSAlIGRyaWZ0b3J5LmdldEZyYW1lQ291bnQoKTtcclxuICAgIGRyaWZ0b3J5LmdvVG9GcmFtZShpbmRleCk7XHJcbiAgfSk7XHJcblxyXG4gIHByZXZpb3VzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGluZGV4ID0gZHJpZnRvcnkuZ2V0RnJhbWVJbmRleCgpO1xyXG4gICAgaW5kZXggPSBpbmRleCA9PT0gMCA/IGRyaWZ0b3J5LmdldEZyYW1lQ291bnQoKSAtIDEgOiBpbmRleCAtIDE7XHJcbiAgICBkcmlmdG9yeS5nb1RvRnJhbWUoaW5kZXgpO1xyXG4gIH0pO1xyXG5cclxuICBmZXRjaCgnY29taWMuanNvbicpXHJcbiAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9KVxyXG4gICAgLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coanNvbik7XHJcblxyXG4gICAgICBkcmlmdG9yeS5vcGVuQ29taWMoanNvbi5jb21pYyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLVxyXG4vLyBLaWNrIGl0IGFsbCBvZmYhXHJcbmluaXQoKTtcclxuIl0sIm5hbWVzIjpbImFscmVhZHlDYWxsZWRTb3VyY2VzIiwiYXdhaXRpbmdDYWxsYmFja3MiLCJhZGRDYWxsYmFjayIsInNyYyIsImNhbGxiYWNrIiwicHVzaCIsImxvYWRKUyIsImluZGV4T2YiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJvbmxvYWQiLCJrZXkiLCJmb3JFYWNoIiwiY2IiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJPcGVuU2VhZHJhZ29uIiwiRHJpZnRvcnkiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJsb2FkSnMiLCJ3aW5kb3ciLCJpbml0aWFsaXplIiwiY29udGFpbmVyIiwicHJlZml4VXJsIiwiZnJhbWVJbmRleCIsImZyYW1lcyIsInZpZXdlciIsImVsZW1lbnQiLCJzaG93TmF2aWdhdGlvbkNvbnRyb2wiLCJtYXhab29tUGl4ZWxSYXRpbyIsIm9wZW5Db21pYyIsImNvbWljIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib2R5IiwiaXRlbXMiLCJpdGVtIiwiaSIsInN1Y2Nlc3MiLCJnb1RvRnJhbWUiLCJhZGRUaWxlZEltYWdlIiwieCIsIndpZHRoIiwieSIsImhlaWdodCIsInRpbGVTb3VyY2UiLCJ0eXBlIiwibGV2ZWxzIiwidXJsIiwiaW5kZXgiLCJmcmFtZSIsImJ1ZmZlckZhY3RvciIsImJveCIsIlJlY3QiLCJ2aWV3cG9ydCIsImZpdEJvdW5kcyIsImdldEZyYW1lSW5kZXgiLCJnZXRGcmFtZUNvdW50IiwibGVuZ3RoIiwibmV4dEJ1dHRvbiIsInByZXZpb3VzQnV0dG9uIiwiaW5pdCIsImRyaWZ0b3J5IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJqc29uIl0sIm1hcHBpbmdzIjoiOzs7RUFBQSxNQUFNQSxvQkFBb0IsR0FBRyxFQUE3QjtFQUVBLE1BQU1DLGlCQUFpQixHQUFHLEVBQTFCOztFQUVBLE1BQU1DLFdBQVcsR0FBRyxDQUFDQyxHQUFELEVBQU1DLFFBQU4sS0FBbUI7RUFDckMsTUFBSUgsaUJBQWlCLENBQUNFLEdBQUQsQ0FBckIsRUFBNEI7RUFDMUJGLElBQUFBLGlCQUFpQixDQUFDRSxHQUFELENBQWpCLENBQXVCRSxJQUF2QixDQUE0QkQsUUFBNUI7RUFDRCxHQUZELE1BRU87RUFDTEgsSUFBQUEsaUJBQWlCLENBQUNFLEdBQUQsQ0FBakIs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